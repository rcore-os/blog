---
title: <blog-title>
date: 2020-07-15 16:40:28
categories:
    - rCore2020
tags:
    - author:greatoyster
    - repo:https://github.com/greatoyster/DailySchedule

---

# rCore2020总结

这是一份关于rCore2020活动的总结报告。

先来回顾一下前面的工作

## Step0

这一阶段主要针对Rust初学者，要求是完成`rustlings`和《笨办法学C》上面的练习。

- `rustlings`做起来很快，而且比较有意思，我这部分全部完成了。
- 十五道编程题我完成了五道，写着写着就感觉上面的练习很奇怪，用Rust去写要么非常简单要么非常变扭。所以后来去Leetcode上刷了差不多五六道题，但上面的解答不能直接在本地编译（他只给你一个接口去实现solution而已），所以没有整合到文件夹里。
- 中间做了一个Rust小项目，以前课程大作业的一个Rust重制版，前面用C语言实现的，大概一千多行，但这次用了Rust来写以后基本五百行上下就写完了，`grpc-rs`真香（相比于古老的`sunrpc`）不过一开始只是出于兴趣，没想好要开源，所以文档一类的东西还没写，以前一些比较细节的功能也略去了。这一部分放在`Rust_Project`文件夹里了，有两个部分`rs-server`和`rs-client`

## Step1

这一步是要学习RISC-V和他的特权指令集，这一块前面就接触过了。这一块似乎没有什么量化标准，不过既然后续的Lab代码可以看懂，那就暂且够用了。

## Step2

- 这是比较关键的部分，首先我把教程都过了一遍，期间把清华OS课上相关的内容也看了一遍。
- 然后就是Step by Step地照着教程来写。虽然有点枯燥，我这个还是全都过了一遍。关于里面的文件架构、模块、数据结构、实现思路的一些东西我都放在实验报告里了。（有一说一，教程源码里面的注释写的真的详细。即便Lab3以后的正文内容大幅度缺失，但还是可以很轻松地知道作者的思路以及相关接口的用法）
- 最后就是实验题部分了，比前面照着教程抄代码有意思。难度也没有特别的高，只要看得懂思路，就能够实现（虽说实验题全部更新完毕有点晚，有些问题的定义可能有些模糊）。这一块我除了挑战实验基本上都完成了，而且测试过了。（我写的Lab2的线段树是虚假的线段树，后面看到论文和源码的实现才发现原来线段树就是起一个查询和更新的作用，我想多了(捂脸)）
- 后来发现关于线程的调度器配套的调度算法也没有写，不过关于调度算法本身和我接下来想做的工作关系不大，暂且搁那里了。
- pull request没怎么提，只是在issue里指出了一些bug或者提出一些建议，rCore-Tutorial的分支管理比较迷，后面的实验框架基本都是在master上做的，所以也不知道前面写的代码后面还能不能work（现在没问题就好）。建议学长可以清理掉一些比较迷惑的分支了（捂脸
- 实验题里面相关代码的修改都在报告里提及了，只不过从Lab4开始涉及的文件就比较多了，报告里的一些内容因为覆盖的修改和报告里说到有些不一致，索性就把Lab4以后的修改过的文件都拿出来了放在`LabCode`文件夹下面了。

前面的工作差不多回顾完了，本该来一个未来展望的，但因为第二阶段的名单还没下来，所以就不立Flag了（逃

这里交代一下个人的体会和感受：

- 感觉群里大家都相当活跃和友好，氛围很nice
- 虽然时间安排有些紧凑，但是学到了很多东西
- 张汉东老师安利Clion之后的一句“真香”让我在后面的coding过程中深有感触
- 说起Rust语言，我校大概是中国最早在教学中用Rust的了（15年出的Rust，我们15年开始教Rust，大一新生学的第一门编程语言就是Rust），不过遗憾的是，Chen Hao走了以后就回归了C/C++/Python，然后Rust在我校用的人就没多少了，我最早接触Rust也是听学长安利的。



关于收获：

- Rust编程更加熟练了，对于Rust本身的一些有趣的特性的理解也更加深刻了。比起C++和Python之类的语言，Rust可以明显让人感到要过编译其实不太容易。但是其实稍微入门一点以后就会习惯了，Rust编译器给你的各种提示比C++友好多了。另一方面，Rust花在测试Debug上的时间显著减少了，基本算法正确的情况下一遍过是没问题的。
- 当然，上面的这些收获还是次要的。在这次rCore的活动中，我对于RISC-V指令集有了更加深刻的认知，以前上计算机体系结构的时候讲的也是这玩意儿，但因为Soren本身是做Robotics的，其实讲的就没那么仔细了，关于页表、中断这种概念我是看了清华的OS课以后才有了一种恍然大悟的感觉（捂脸）
- 我比较认真地通读了当前rcore-tutorial的所有源代码，包括Rust和汇编，应证了以前的一个观点：“一个涉及合理的架构远胜于细节的精雕细琢”。可以看到，tutorial v3的代码比前两个版本组织的更好了，它是循序渐进的，而且模块化也做得更好了，分隔出来的六个实验基本上你看看过源码之后就可以知道该如何修改，这些对于接口的抽象也是我应该学习的。

关于下一步：

- 如果可以进入下一轮的话，我比较感兴趣的工作是zCore的文档和单元测试完善，这一部分看起来容易，但是要做好还是需要花不少工夫的。

曾经遇到的困难：

- 关于OS和RISC-V这部分其实还可以再深挖一下，但就目前的需求而言，可以点到为止了。

PS：最开始是因为Manjaro下面的中文输入法不太流畅，所以Daily Schedule以及实验报告都是用的英文，后来一想，这应该也算Rust中文社区的一次活动，而且还要被审核，所以后来就用中文写了。如果给各位带来阅读体验上的不适，请多多包涵QAQ。