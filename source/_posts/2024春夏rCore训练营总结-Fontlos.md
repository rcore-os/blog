---
title: 2024春夏rCore训练营总结--Fontlos
date: 2024-04-23 10:40:53
categories:
	- report
tags:
    - author: Fontlos
    - Rust
    - rCore
---

几年前就萌生了用 Rust 制作一个操作系统的想法, 但 x86 的复杂度又有点让人望而却步, 而当时恰好遇到了 riscv, 恰好遇到了 rCore. 到现在, 终于有了一个可以亲身加入训练营的机会, 在此感谢各位老师和学长们为此的付出

# 第一阶段 Rustlings 总结

几年前将自己学习 Rust 的过程汇总成笔记写成教程放在 [个人博客](https://fontlos.com) 上了. 这里只再简单总结一下一些重要概念内容

**所有权 (Ownership)**

所有权是 Rust 的一个核心概念, 用于确保内存安全. 它规定了一个变量 (或数据) 在任何时刻都有且仅有一个所有者. 当所有者离开作用域时, 其所拥有的数据将自动释放, 防止内存泄漏. 通过移动赋值和不可变 / 可变借用, 得以控制数据的访问和生命周期

1. **移动赋值**: 当一个值从一个变量转移到另一个变量时, 原变量将不再拥有数据所有权, 不能再被访问
2. **引用与借用**:
   - **不可变引用**: 允许安全读取但不修改原始数据
   - **可变引用**: 独占访问, 允许修改数据, 同一作用域内不可存在多个可变引用指向同一数据

**泛型 (Generics) 与生命周期 (Lifetimes)**

泛型允许创建适用于多种类型的数据结构和函数, 无需重复实现. 生命周期可被视为一种特殊的泛型. 生命周期注解是用来描述引用的有效期的一种机制. 在函数签名或结构体定义中, 通过类似 `'a` 这样的符号来表示生命周期参数, 并通过上下文推断或显式声明来确保引用不会超过其底层数据的有效期

**Traits (特性)**

特质是 Rust 中的一种接口抽象, 它定义了一组方法签名, 供实现特质的类型遵守. 通过 traits, Rust 实现了面向对象编程中的多态性.

**智能指针**

Rust 提供了一系列智能指针类型, 如 `Box<T>` `Rc<T>` `Arc<T>` `RefCell<T>` 等, 它们分别用于管理堆上的唯一所有权, 引用计数共享所有权, 线程安全的引用计数共享所有权以及在编译时静态检查之外增加运行时借用检查等场景

**多线程与异步编程**

- **多线程**: Rust 支持原生线程, 通过 `std::thread` 模块相关API. Rust 的 Ownership 和借用规则有助于防止数据竞争和死锁等问题，`Mutex`, ` RwLock` 等同步原语进一步加强了线程间的安全通信
- **异步编程**: Rust 异步编程模型基于 futures 和 `async/await` 关键字，提供了高效非阻塞IO的能力. `tokio` 和 `async-std` 等库提供了异步编程的基础设施, 包括任务调度, TCP / HTTP 网络编程等

除了这些基本语法, 在练习中也实践了手动实现链表, 双向链表, 堆栈, 深度优先和广度优先算法, 排序算法等. 通过 Rustlings 练习, 可以逐步掌握以上各个概念的实际应用, 通过解决实际问题加深对 Rust 编程特性的理解, 并学会如何在实践中遵循 Rust 的安全性和性能原则, 为接下来的第二阶段打下基础, 以构建安全高效的 OS 内核

此外也感谢群内的大佬们, 没事翻翻大佬的聊天记录总能学到新东西 :)