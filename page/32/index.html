<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/blog/lib/animate-css/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"rcore-os.github.io","root":"/blog/","scheme":"Muse","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="rcore-os Blog">
<meta property="og:url" content="http://rcore-os.github.io/blog/page/32/index.html">
<meta property="og:site_name" content="rcore-os Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="rcore-os Group">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://rcore-os.github.io/blog/page/32/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>rcore-os Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">rcore-os Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">rcore-os Group</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">719</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">55</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">629</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content index posts-expand">
          
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/10/31/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E5%AD%99%E6%B5%B7%E5%8D%8E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/10/31/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E5%AD%99%E6%B5%B7%E5%8D%8E/" class="post-title-link" itemprop="url">2024秋冬季开源操作系统训练营第一阶段总结报告-孙海华</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-10-31 21:18:19" itemprop="dateCreated datePublished" datetime="2024-10-31T21:18:19+00:00">2024-10-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-20 06:15:00" itemprop="dateModified" datetime="2025-06-20T06:15:00+00:00">2025-06-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一阶段总结"><a href="#第一阶段总结" class="headerlink" title="第一阶段总结"></a>第一阶段总结</h1><blockquote>
<p>我的rust入门</p>
</blockquote>
<p>学了很久编程，但是终究不是科班出身，感觉对很多问题理解还不是很到位，本科毕业的暑假，被老师叫去提前进组，基础有点薄弱，于是也开始学起了操作系统，恰巧看到了rcore这个教程，可惜时间有限没有看太多，这次训练营算是重新跟着复习一遍。</p>
<p>rustlings的题目并不是很难，很快就刷完了，感觉难点主要在rust语法的不熟悉。在此之前，听说过很多次rust是新时代的c语言，rust重写内核，rust重写一切….真正学习来才发现rust相较于其他语言的优势。</p>
<h3 id="效率"><a href="#效率" class="headerlink" title="效率"></a>效率</h3><p>rust与c语言一样，都是偏向于底层开发，能够生成裸机直接运行的机器码，执行效率高（网上有许多rust嵌入式教程，或许后面应该再学学这方面）。</p>
<p>在开发效率方面，相比于c语言，rust的现代化语法，真的要舒服很多。自我感觉rust有很多用起来很爽的部分，比如说模式匹配。相比于c语言，rust也有现代化的包管理工具cargo。</p>
<h3 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h3><p>在学习rust之前，看到很多博主说rust安全，用了之后才一点一点感悟到。rust的所有权机制，还有生命周期的概念，避免了一系列问题。</p>
<h3 id="现代"><a href="#现代" class="headerlink" title="现代"></a>现代</h3><p>现代化的编程语言概念，现代化的包管理工具，舒服！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/10/22/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E7%8E%8B%E4%B8%80%E5%B0%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/10/22/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E7%8E%8B%E4%B8%80%E5%B0%A7/" class="post-title-link" itemprop="url">2024秋冬开源操作系统训练营第二阶段总结报告-王一尧</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-10-22 11:58:15" itemprop="dateCreated datePublished" datetime="2024-10-22T11:58:15+00:00">2024-10-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-20 06:15:00" itemprop="dateModified" datetime="2025-06-20T06:15:00+00:00">2025-06-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="rCore-二阶段总结报告"><a href="#rCore-二阶段总结报告" class="headerlink" title="rCore 二阶段总结报告"></a>rCore 二阶段总结报告</h1><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>因为有Rust基础，所以在第一阶段大概花了三四个小时完成了Rustlings。但是是第一次参加rCore训练营，所以在进入第二阶段后，感觉到了进展十分缓慢，在每个Lab中都或多或少被一些问题所困扰。</p>
<h2 id="得到的收获"><a href="#得到的收获" class="headerlink" title="得到的收获"></a>得到的收获</h2><p>第二阶段的几个Lab相互衔接，在完成一个个Lab的过程中能感觉到对于操作系统的逐渐了解和深入，做完了后面的部分回过头来看前面的部分有时候还会有新的理解。在熟读文档和完成实验的互相作用下，我相信自己的能力得到了一定的提升。但是有些实验虽然通过了，但是仔细一想还是有侥幸的部分，在以后可能需要小心注意。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/10/21/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-chy669086/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/10/21/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-chy669086/" class="post-title-link" itemprop="url">2024秋冬季开源操作系统训练营第二阶段总结报告</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-10-21 17:40:38" itemprop="dateCreated datePublished" datetime="2024-10-21T17:40:38+00:00">2024-10-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-20 06:15:00" itemprop="dateModified" datetime="2025-06-20T06:15:00+00:00">2025-06-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A/" itemprop="url" rel="index"><span itemprop="name">第二阶段总结报告</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="第一阶段报告"><a href="#第一阶段报告" class="headerlink" title="第一阶段报告"></a>第一阶段报告</h2><p>在加入这个课程的时候已经学习 rust 小半年了，rustling 原项目也是完整的写过一次，所以第一阶段很快就通过了。第一阶段的 rustling 是魔改版，确实让我学到了很多我之前不太了解的东西。</p>
<h2 id="第二阶段报告"><a href="#第二阶段报告" class="headerlink" title="第二阶段报告"></a>第二阶段报告</h2><p>这个阶段的学习直接戳中我的知识盲区，汇编、操作系统这些我是一点不会。</p>
<h3 id="困难"><a href="#困难" class="headerlink" title="困难"></a>困难</h3><p>应该说都是困难？</p>
<p>卡我最久的应该是内存分页和文件系统了，这种一层一层抽象上来的我看的是眼花缭乱，物理结构和程序结构的转换，在此基础上的再一层抽象在当时给了我很大的阅读困难。</p>
<h3 id="收获"><a href="#收获" class="headerlink" title="收获"></a>收获</h3><p>首先这几次学习解开了我之前的误区和疑惑，特别是系统调用这一方面，我之前都不知道原来特权级这个概念，不知道为什么汇编需要在操作系统支持下运行。现在我知道很多操作是需要系统提供接口，需要用户态和内核态的切换。</p>
<p>这是我第二次写这个体量的 rust 项目，编写过程中经常写出很多哭笑不得的代码，比如在持有锁的前提下再次请求锁导致死锁，在单次借用后不 drop 再次借用导致 panic。<br>通过这次的学习，我的 rust 编程能力无疑得到了提升，我可以明显感觉到我的代码可读性比之前好不少，对于写注释也更加得心应手。</p>
<p>在学习过程中与群友的讨论中，我也对其中的汇编代码理解更深，通过我在本机的多次测试，也加深了我对任务切换、特权级跳转的认识。</p>
<p>这五个 lab 的代码难度确实不是很高，主要难点都在于理解 os 的组织形式，没有搞清楚 os 的其他代码就难以下手，但是理清思路之后写起来就没有什么难度。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/10/15/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E4%B8%80%E4%BA%8C%E9%98%B6%E6%AE%B5%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E7%8E%8B%E7%BF%8A%E5%98%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/10/15/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E4%B8%80%E4%BA%8C%E9%98%B6%E6%AE%B5%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E7%8E%8B%E7%BF%8A%E5%98%89/" class="post-title-link" itemprop="url">abcd1234-rust-os</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-10-15 18:32:19" itemprop="dateCreated datePublished" datetime="2024-10-15T18:32:19+00:00">2024-10-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-20 06:15:00" itemprop="dateModified" datetime="2025-06-20T06:15:00+00:00">2025-06-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/rust-stage-1/" itemprop="url" rel="index"><span itemprop="name">rust-stage-1</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Rust-OS-一阶段学习总结"><a href="#Rust-OS-一阶段学习总结" class="headerlink" title="Rust OS 一阶段学习总结"></a>Rust OS 一阶段学习总结</h1><p>@FinishTime: 2024-09-19 00:35:51</p>
<h2 id="个人背景概述"><a href="#个人背景概述" class="headerlink" title="个人背景概述"></a>个人背景概述</h2><p>我是一名软件工程专业的大三本科生，曾参与过 2023 年秋冬季训练营和 2024 年春夏季训练营。并且在 2024 季春夏训练营中，取得了通过的成绩。<br>今年的秋冬季训练营，我想冲一冲优秀，多做一些项目，多为国内操作系统和开源做出贡献。</p>
<h2 id="今年一阶段学习时间表"><a href="#今年一阶段学习时间表" class="headerlink" title="今年一阶段学习时间表"></a>今年一阶段学习时间表</h2><ul>
<li>2024-09-18 大约 3.5 小时，重新完成 rustlings 的官方基础习题(前 94 题)。之后，又用了大约 2 小时，完成了后续的习题(95-110)。</li>
</ul>
<h2 id="一阶段学习内容概述"><a href="#一阶段学习内容概述" class="headerlink" title="一阶段学习内容概述"></a>一阶段学习内容概述</h2><p>我按照<a href="https://course.rs/about-book.html" target="_blank" rel="noopener">“rust 语言圣经”</a>上的讲解顺序，复习之前的知识点。<br>由于我在那段时间之前，在参加 InfiniTensor 的 AI 训练营，所以 rust 的基础语法等根本没有落下，这使得我在完成 rustlings 的习题时，几乎没有遇到什么问题。</p>
<p>只有到后续的习题中，我遇到了一些问题，主要是和 <code>智能指针</code> 有关的内容。这些部分我一直不是很理解的。但是因为我的经验，我还是能写出代码的。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在第一阶段的学习中，我巩固了我所掌握的 rust 基础，我更是深深的意识到：<code>Talk is cheap, show me the code!</code>。实践是最好的老师！</p>
<h1 id="Rust-rCore-二阶段学习总结"><a href="#Rust-rCore-二阶段学习总结" class="headerlink" title="Rust rCore 二阶段学习总结"></a>Rust rCore 二阶段学习总结</h1><p>@FinishTime: 2024-10-15 18:44:32</p>
<h2 id="二阶段学习时间表"><a href="#二阶段学习时间表" class="headerlink" title="二阶段学习时间表"></a>二阶段学习时间表</h2><ul>
<li>2024-10-08 开始实验，轻车熟路，一天晚上完事了大部分的 ch3。</li>
<li>2024-10-09 凌晨 ch3 debug 完毕，下午进行提交完毕。</li>
<li>2024-10-09 晚上 ch4 提交完毕。</li>
<li>2024-10-11 ch5 提交完毕。</li>
<li>2024-10-13 ch6 提交完毕。</li>
<li>2024-10-15 ch8 提交完毕。撰写报告完毕。</li>
</ul>
<h2 id="问题复盘"><a href="#问题复盘" class="headerlink" title="问题复盘"></a>问题复盘</h2><p>通过上面的学习时间表可以看出，我虽然是第二次做大实验，但仍然每一部分都需要 1 到 2 天时间。虽然不是将大段时间全部投入，但可能也是比较慢了。<br>以下是我实验过程中的问题复盘。</p>
<h3 id="ch3-本地测例初始化问题"><a href="#ch3-本地测例初始化问题" class="headerlink" title="ch3: 本地测例初始化问题"></a>ch3: 本地测例初始化问题</h3><p>在 ch3 里，我遇到了两个问题，第一个是本地测例的初始化问题。</p>
<p>由于我是第二次参与训练营，所以在实验时，我就直接去看指导书的习题部分，在尝试开始实现时，在 rust-anaylzer 的使用上时发生了错误，插件因为找不到某些依赖库，拒绝提供服务。</p>
<p>我去查看了插件的报错信息，发现找不到 <code>user</code> 目录。而我在源代码仓库，也确实没看到源代码里有 <code>user</code> 目录。后续，我在自行尝试解决无果后，去微信群问了助教。得到的回答是 <code>看文档</code>。然后我去重新看了文档，找到了一个下载 <code>user</code> 的方法。这个问题是由于我的粗心导致的。</p>
<h3 id="ch3-时间初始化问题"><a href="#ch3-时间初始化问题" class="headerlink" title="ch3: 时间初始化问题"></a>ch3: 时间初始化问题</h3><p>ch3 的第二个问题是，os 时间初始化问题。</p>
<p>在我实现的 os 里，在时间初始化，采用的是 <code>直接在任务加载时便初始化为当前系统时间</code>。这显然是错误的。但它的报错并不友好。</p>
<p>此问题的表现为：在直接指定 <code>BASE=1</code> 执行测试用例时，能够通过测试用例。指定 <code>BASE=0</code> 时，也能够通过测试。但指定 <code>BASE=2</code> 时，竟然不能通过测试！？同时，这种情况下，qemu 会出现“卡死”，让人一直等下去。</p>
<p>我通过细细阅读报错，发现 qemu 卡死是因为有一个用户测例 panic 导致的。经过分析的测例执行逻辑为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">我分析，ch3里，qemu在跑测试用例的时候，qemu的退出机制是，当全部测试用例成功时，才会退出。</span><br><span class="line"></span><br><span class="line">如果有测例没过，他会接着执行别的测试用例，但最后全部测试用例执行完后，就不会退出了，还没有信息提示。</span><br></pre></td></tr></table></figure>

<p>能够定位位置，之后的工作就要简单多了。我发现了问题所在，然后将时间改为 <code>Option</code> 类型，以 <code>None</code> 来初始化，在为某任务进行 sys_call 计数时进行判断，如果为 <code>None</code>，则进行初始化。这样，问题就解决了。</p>
<p>后续，我看到交流群里有个同学，和我遇到了一样的问题，于是，我也帮助了他。</p>
<h3 id="ch6-又一次卡了一小点"><a href="#ch6-又一次卡了一小点" class="headerlink" title="ch6: 又一次卡了一小点"></a>ch6: 又一次卡了一小点</h3><p>在 ch6 时，平心而论，要求实现的逻辑并不是很复杂，只是需要层层的传递，最后由“easy-fs”进行实际干活即可。但我再次遇到了一个极为恶心的问题。</p>
<p>在春夏季训练营，我曾经遇到了“File is shorter than the first ELf header part”的问题，翻译过来就是，文件比文件描述符还短。我发现，只有 ch5_spawn0，也就是 helloworld 的测例出现了这个问题。</p>
<p>而这一次，我又遇到了这个问题。然后，我通过微信群的聊天记录，找到了当时一位热心同学给我的解答，即，此情况可能是由于 rust 的智能优化导致的，只需要把一个位置，由 <code>[u8; 512]</code> 改为一个 Vec 即可。</p>
<p>还好我留有聊天记录，再次感谢当时的那位同学！</p>
<h3 id="ch8-系统时间系统调用未实现"><a href="#ch8-系统时间系统调用未实现" class="headerlink" title="ch8: 系统时间系统调用未实现"></a>ch8: 系统时间系统调用未实现</h3><p>来到了 ch8，我没有看到指导书文档里，写着的 “除 sys_get_time 以外”，所以，我就没有合并我之前的代码。但问题是，在我实现了 ch8 的内容后，进行测例，有两个始终过不去，就是那两个死锁相关的。而且，它没有报错提醒。这使我很懵，是不是我的银行家算法写的有问题？</p>
<p>在一次又一次地尝试为银行家算法进行 debug 后，我发现，好像我的算法没问题啊。于是，我又一次详细阅读测试代码，发现：这里面有个<code>sleep(500)</code>，这是调了哪个 sys_call？我查了，发现是获得系统时间的那个。但我没有合并之前的代码，导致其会进入死循环。由此，我才改好了问题。</p>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p>第二次来 rCore，感觉熟能生巧了一些，之前很多不太理解的部分，已经慢慢构不成威胁了。果然，实践能够带动理论！但我也因为自己的粗心，导致了一些不必要的麻烦。这是需要我进行反省的。</p>
<h2 id="展望"><a href="#展望" class="headerlink" title="展望"></a>展望</h2><p>这一次的三阶段，将会涉及到“组件化”。希望我能尽快完成相关内容，及早进入后续项目内容的学习！希望能够冲一冲优秀！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/10/04/OSLearn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/10/04/OSLearn/" class="post-title-link" itemprop="url">OS学习随笔</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-10-04 22:50:52" itemprop="dateCreated datePublished" datetime="2024-10-04T22:50:52+00:00">2024-10-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-20 06:15:00" itemprop="dateModified" datetime="2025-06-20T06:15:00+00:00">2025-06-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/learn/" itemprop="url" rel="index"><span itemprop="name">learn</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>原文，观看体验更佳：<a href="https://www.yuxuaan.one/2024/10/04/OSLearn/" target="_blank" rel="noopener">https://www.yuxuaan.one/2024/10/04/OSLearn/</a><br>OS是建立在上层软件和下层硬件之间的重要桥梁</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/blog/2024/10/04/OSLearn/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/07/06/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E9%BE%99%E4%B8%87%E5%86%9B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/07/06/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E9%BE%99%E4%B8%87%E5%86%9B/" class="post-title-link" itemprop="url">第一阶段总结报告-龙万军</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-07-06 11:38:52" itemprop="dateCreated datePublished" datetime="2024-07-06T11:38:52+00:00">2024-07-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-20 06:15:00" itemprop="dateModified" datetime="2025-06-20T06:15:00+00:00">2025-06-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/reports/" itemprop="url" rel="index"><span itemprop="name">reports</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>在这之前做过官方的<strong>rustlings</strong>的练习，重做了前100题，只用了两天中的空闲时间，对于基础的语法和类型系统的相关性质已经相当熟悉了。<br>与本次练习不同的是增加了数据结构与算法相关的部分，虽然使用标准测试的方式进行代码审查会让数据结构的实现不够严谨，但是通过给出的工具函数进行实现也大致复习了一下数据结构的相关知识，熟悉了一下八大排序以及大根小根堆的处理方式，由于给出的目标实现函数的参数限制，使用非递归完成了很多数据结构的基本实现，这是之前从来没有过的。</p>
<h1 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h1><p><strong>rust</strong>是一门内存安全的语言，因此我在编程过程中比较注重程序的内存占用以及与之有关的一些变量管理技术和方法，在做完练习之后感触最深的是有很多地方是因为类型选型的考虑步骤，导致必要时候还是需要进行多余的拷贝，或许有更好的处理这类优化问题的方法，但是目前对此还不够清楚，需要在之后的学习中不断深化。</p>
<h1 id="新的思考"><a href="#新的思考" class="headerlink" title="新的思考"></a>新的思考</h1><p>暂时没有，就是找这个blog的仓库脑子一下子短路了hhh，赶紧进行下一阶段吧，两个月挑战第二阶段 + 项目实现(危)。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/07/02/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%E9%A1%B9%E7%9B%AE%E5%85%AD%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E6%96%BD%E8%AF%BA%E6%99%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/07/02/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%E9%A1%B9%E7%9B%AE%E5%85%AD%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E6%96%BD%E8%AF%BA%E6%99%96/" class="post-title-link" itemprop="url">2024春夏季开源操作系统训练营第三阶段项目六总结报告-施诺晖</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-07-02 19:47:54" itemprop="dateCreated datePublished" datetime="2024-07-02T19:47:54+00:00">2024-07-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-20 06:15:00" itemprop="dateModified" datetime="2025-06-20T06:15:00+00:00">2025-06-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="第三阶段总结报告"><a href="#第三阶段总结报告" class="headerlink" title="第三阶段总结报告"></a>第三阶段总结报告</h2><p>没想到为期40天的第三阶段这么快就结束了。现在回想一下这四十天几乎每天都在准备考试和参加训练营两个任务之间时间片轮转。但是很庆幸我还是走到了训练营的尾声。</p>
<p>在第三阶段的项目六：基于协程异步机制的操作系统/驱动中，我了解到了我之前只是略有耳闻的<strong>异步</strong>，收获到了很多新知识。</p>
<p>首先我先阅读了《200行代码讲透RUST FUTURES》。在这里我又接触到了许多的新概念：绿色线程、Future、执行器、唤醒器。。。现在回想，看的过程实在是非常折磨，不仅要重新回顾本就不扎实的Rust语法，还要把多线程多协程带来的混乱执行流捋清楚。但是当我把它看完了之后，我才豁然开朗，我才明白Executor、Waker、Reactor、Future是如何协同工作以提高计算机的使用效率的。这为我后续阅读Embassy以及完成最终的成果打下了坚实的理论基础。</p>
<p>在《200行代码讲透RUST FUTURES》提供的理论知识的加持下，我进一步阅读了《Embassy Book》。当回到我最熟悉的领域时，总是让人心旷神怡。在阅读《Embassy Book》的全过程中，我并没有遇到太多的障碍（可能这就是专业对口的优势吧），但是我却无时无刻不在感叹Embassy作者对Rust语言的了解程度、他对丑陋的硬件近乎完美的封装以及Embassy向用户提供的友好接口。这让我觉得Embassy好像并不是一个嵌入式运行时库，而更像是一个开销更低的操作系统。</p>
<p>接下来就到了我觉得很有意义的部分。在这一小阶段，我对Embassy源码进行了逐步的调试，尝试理解Embassy的执行流。在Embassy中，有许多宏。Embassy的作者通过这些宏能够暴露给使用者干净、高效的接口，但是这对于我这种初学Rust，并且想理解Embassy执行流的人而言无疑是令人厌烦的。因为它隐藏了太多协程的细节（Rust语法对我而言也是很大的问题），所以我只能从头开始对Embassy源码进行调试。通过调试工具的帮助，我揭开了Embassy神秘的面纱：从创建执行器，到创建协程池；从创建主任务，到协程的不断循环执行。在此时我才真正领悟了Embassy的强大之处。</p>
<p>终于到了coding部分。我与我的队友一起分工合作，成功使用Rust重构了uC/OS II的线程调度模块，并在uC/OS II的线程支持下应用了Embassy的协程机制。这使得Embassy的执行器对MCU不在是独占的，而是可以基于线程的调度算法进行轮转。并且在线程的支持下实现协程，进一步提高了我们的系统的并发度。而且有了线程的调度机制，我们也可以实现不同线程的协程在任意点切换。</p>
<p>现在回想我在阶段三中完成的任务我才发现这些内容是多么地有意义。我了解到了Rust中的协程的实现机制，也了解到了Rust协程的一个实际应用——Embassy，最终我基于这些理论知识成功将Rust的协程使用起来，让我基本了解了一个能有效提高计算机系统性能的“秘籍“。</p>
<p>三阶段固然有意义，但是如果没有他人的帮助，我绝对坚持不到现在。</p>
<p>首先需要感谢我的队友。从三阶段一开始，我们就一直在交流关于Rust Future的各种细节。而到了调试Embassy的部分以及后面的coding，我们也都紧密配合。在调试Embassy的部分，如果没有他的学习成果，我很有可能就会被Embassy高级的Rust语法劝退；在coding部分，如果没有我们共同的努力，我们肯定不会在这么短的时间内使用一个我们都不熟悉的Rust重构一个操作系统的灵魂——线程调度模块，并且在这个基础上使用Embassy的协程机制。</p>
<p>最后还需要感谢向勇老师。在向勇老师的悉心指导下，我和我的队友明确了我们将来的目标。我们希望在堆栈池的支持下，实现线程内部的协程抢占。并且在这个基础上进一步完善我们在阶段三产出的阶段性成果，并将其应用在我们的四轴飞行器中。</p>
<p>再次回顾我的阶段三全过程，虽然我做事情不多，但是我仍收获颇丰。我相信不紧不慢依旧能走向未来。希望我今后也能保持着对异步、对Rust、对OS的满腔热爱，笃行不辍，履践致远。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/07/02/%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-c2h4moe/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/07/02/%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-c2h4moe/" class="post-title-link" itemprop="url">第三阶段总结报告-c2h4moe</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-07-02 18:53:26" itemprop="dateCreated datePublished" datetime="2024-07-02T18:53:26+00:00">2024-07-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-20 06:15:00" itemprop="dateModified" datetime="2025-06-20T06:15:00+00:00">2025-06-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>转眼间训练营都结束了，这里大致总结一下我的第三阶段。</p>
<p>我第三阶段选择的课题是跨内核驱动开发，具体的要求，就是实现一个驱动，其能够在arceos和linux上运行，且其纯驱动代码部分不必修改。</p>
<p>一个设备在操作系统看来无非就是一些寄存器的集合，根据设备手册，我们可以知道如何通过修改和读取寄存器来控制和了解设备状态，对任何一个操作系统来说，都是如此，这也是纯驱动（也就是直接操作寄存器）代码不必修改的原因。</p>
<p>但是，对不同的内核，我们还需要不同的驱动适配器，比如，在linux中，我们需要向内核注册这一个设备（比如注册成杂项设备），并将设备抽象成一个文件，实现抽象的read和write方法。</p>
<p>此外，不同的内核地址映射的方法可能不同，在适配器中我们需要调用各自内核映射地址的接口，得到对应寄存器的地址，然后就可以使用纯驱动部分代码了。</p>
<p>在这个阶段里，我实现了一个GPIO点灯驱动，并在linux和arceos里成功运行，在这个过程中，知道了如何为linux编写驱动，rust是如何与kernel相配合的，以及在开发过程中由于踩各种坑被迫学习了一些关于linux kernel是如何编译的知识。</p>
<p>训练营结束之际，想感谢各位老师的帮助，各位同学的陪伴，也想感谢坚持到最后的自己。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/07/01/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E5%BC%A0%E9%A1%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/07/01/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E5%BC%A0%E9%A1%B6/" class="post-title-link" itemprop="url"> 2024春夏季开源操作系统训练营第三阶段总结报告-张顶</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-07-01 13:40:05" itemprop="dateCreated datePublished" datetime="2024-07-01T13:40:05+00:00">2024-07-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-20 06:15:00" itemprop="dateModified" datetime="2025-06-20T06:15:00+00:00">2025-06-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="学习内容："><a href="#学习内容：" class="headerlink" title="学习内容："></a>学习内容：</h3><p>rust异步编程，阅读200行代码讲透RUST FUTURES、rust圣经异步模块、embassy book，向勇老师的视频《并发与处理器、操作系统和编程语言》。</p>
<h3 id="成果："><a href="#成果：" class="headerlink" title="成果："></a>成果：</h3><p>使用Tokio模块实现豆瓣图书爬虫。</p>
<h3 id="学习心得："><a href="#学习心得：" class="headerlink" title="学习心得："></a>学习心得：</h3><p>通过阅读资料，学习rust 异步，针对IO密集型程序，异步相比多线程能够有较大的性能提升。rust 语言通过async和await 支持通过接近同步代码形式编写异步程序。rust 异步需要使用异步运行时，标准库并没有提供，常用的第三方库Tokio。<br>将异步移植到OS里面，遇到一些问题和困惑。1、ArceOS引入异步的话，是否只要引入异步运行时就可以；2、引入的运行时是否能用运行在标准库的运行时。<br>在继续学习，后续努力在ArceOS 网络模块引入异步时。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/06/30/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E8%A2%81%E5%AD%90%E4%B8%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/06/30/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E8%A2%81%E5%AD%90%E4%B8%BA/" class="post-title-link" itemprop="url">2024春季开源操作系统训练营第各阶段总结报告-袁子为</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-06-30 17:48:28" itemprop="dateCreated datePublished" datetime="2024-06-30T17:48:28+00:00">2024-06-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-20 06:15:00" itemprop="dateModified" datetime="2025-06-20T06:15:00+00:00">2025-06-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024春夏季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第三阶段总结报告"><a href="#第三阶段总结报告" class="headerlink" title="第三阶段总结报告"></a>第三阶段总结报告</h1><h2 id="完成的独立工作"><a href="#完成的独立工作" class="headerlink" title="完成的独立工作"></a>完成的独立工作</h2><h3 id="前期学习内容"><a href="#前期学习内容" class="headerlink" title="前期学习内容"></a>前期学习内容</h3><ul>
<li>阅读《200行讲透Rust Future》(原文)</li>
<li>阅读《Embassy Book》(原文)</li>
<li>阅读《通过迭代 WebServer 逐步深入 Rust 异步编程》(原文)</li>
</ul>
<h3 id="项目实践内容"><a href="#项目实践内容" class="headerlink" title="项目实践内容"></a>项目实践内容</h3><ul>
<li>首先由代码demo在debug单步执行中了解整个embassy的基础执行流程，关于executor和future部分有了自己的理解，于是产生了一个改进的思路，尤其是对于原来embassy的interrupt executor实现机制的改进思路</li>
<li>由之前十分熟悉的UCOSII实时操作系统出发，进行功能裁剪和修改，适配到embassy的底层做一个线程运行时，让我们能够同时使用多个embassy thread executor，并且支持他们之间的优先级抢占，解决了原来interrupt executor方式支持的优先级抢占的两个问题：<ol>
<li>优先级会占用中断，使得可用的外设中断减少，并且不灵活<br>项目的实现做到了不使用额外中断，只需要pendsv和systick中断来维护线程的切换以及时间片优先级的调度</li>
<li>高优先级任务如果没有await的操作，也就是没有内部future会poll返回pending的话，其它低优先级任务不会得到执行，它会独占MCU/CPU，除非它被设计为timer wait一段时间来定时交出控制权<br>这里我们的项目实现是通过stride算法（略有修改），实现优先级抢占的线程调度算法，一个executor会独自占用一个线程，从而赋予了其优先级以及实现了executor之间的抢占，而且通过stride算法的调度策略，避免了高优先级executor独占MCU/CPU</li>
</ol>
</li>
<li>调试工作的实施：学习到了rcore里面的makefile的思路，gdb配合openocd调试，通过读反汇编代码以及查看内存情况，解决了代码过程中的一些比如栈溢出，莫名进入hardfault，时钟频率不对等的bug</li>
</ul>
<h3 id="一些体会与收获"><a href="#一些体会与收获" class="headerlink" title="一些体会与收获"></a>一些体会与收获</h3><p>感觉前期的学习思考是最关键的时期，两周的时间都是花在看文章，跑跑demo程序，然后理解，思考，没有前面对于rust异步机制的理解，后面阅读embassy的代码肯定是无从下手的。中期的embassy部分，我觉得真的很需要一个真实的板子来跑它的示例程序，这样一步步调试着学习，能很快的明白整个流程，如果只是单纯看着代码做的话，很难把握整体的流程，而且调试过程中可以对embassy里面代码做修改，来查看你猜想的结果，这样对于细节处理的地方也能搞清楚，因为对于我这种情况（从训练营才开始接触rust语言）来说，单纯只读代码不运行，不调试，挑战性会很大，这是我自己学习embassy过程中的一点体会吧。</p>
<p>还有对于后期项目开发的方式，我也有一些收获。首先是合作的开发方式选择，最开始和我的队友的确打算分branch分模块开发，但是，对于这部分硬件相关部分（并不是开发一个后端或者前端项目），而且还是在项目起草初期，我们很难把模块分得很细，而且中途更改会很多很频繁，所以我们选择现在很成熟的实时协作方式，在vscode上利用live share插件。到了开发中后期的项目debug以及调试模块的部分，的确可以分branch分模块开发，我们的流程基本是这样。然后是在嵌入式单片机调试方面的一些收获和经验吧，我在调试过程既用到了图形化调试，也用了gdb+dashboard的方式，我觉得这两个方式都很重要，很需要。在单片机上开了gdbserver过后，gdb命令行调试的反汇编查看效果，以及单汇编指令执行过程的效果看起来更好，能够在一些关键的bug查看上很方便（比如查看栈溢出的情况，看看是否溢出到把一些全局变量的内存单元改变了，还比如查看一些hardfault的进入原因，在我们用的cortex-m系列里面，它会把描述信息压入任务栈(也就是psp堆栈)，和riscv里面是放入在特定的寄存器里面，主要是查看进入异常的pc以及lr还有当时处理器的状态（xpsr），这样来debug），而图形化的调试更简单，能快速的查看一些其它小的bug，并且可视化查看代码也更方便，所以我的推荐是两个都使用。最后想谈谈我在移植UCOSII线程模块到embassy的项目的思考吧，其实观察到embassy这边的任务是一个统一的栈空间，而纯的线程支持的话就会是让每个线程独占一个栈，这样会导致栈的划分肯定是有内碎片的，所以统一的栈空间能让这些任务对于栈的利用率更好，一个任务的开销就变得更小，我们跑出来的测试效果也显示出在混合线程的情况下，任务的切换情况以及开销是优于纯的线程，只是和纯协程的情况几乎相同（在线程的切换systick较高10ms这种情况下），后续也想看看如果把线程和协程的混合更彻底，是否能真正做到无缝的task切换(目前实现方式的“缝隙”是源自于线程切换走后时间片的10ms会让另一边被切走的executor阻塞较长时间)</p>
<h2 id="总结我的整个训练营的体会"><a href="#总结我的整个训练营的体会" class="headerlink" title="总结我的整个训练营的体会"></a>总结我的整个训练营的体会</h2><h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><p>我刚好是在4.7号训练营开营的时候报的名，在刚开始做这个训练营的任务的时候，我就觉得这些lab的设计真的很好，使用官方的rustlings这种资料以及rcore实验和详细的参考书。我因此变得很有兴趣并且毫不犹豫的分享给我身边的同学和室友，让他们也来参加。事实上我能有机会在这里发言，离不开在训练营当中和室友之间相互学习，讨论分享，这些让我学到了更多，做出了更好的成果，这也是我训练营里面额外的收获。</p>
<h3 id="中间"><a href="#中间" class="headerlink" title="中间"></a>中间</h3><p>在前两个阶段的实验是对于操作系统的实践学习部分，很好的弥补了我在课内学习操作系统所缺乏的实践不足，这里我想引用LINUX之父说的一句话来说明这部分对于我学习操作系统的重要性: Talk is cheap. Show me the code。在这个过程里面，我慢慢的习惯上了命令行调试，自己也开始写脚本来做自动化的流程，从前不那么熟悉的makefile、shell脚本还有gdb都习惯起来了。不过不管怎么说，debug的过程还是有些煎熬的，遇到隐蔽的bug，还得看看内存或者看看寄存器。但是做实验的时候真的是干劲十足，那几天里面，每天就是起床，然后写lab，每过一个实验就去看看排行榜上排名提高了多少，正好就在5.1劳动节快结束的那几天把lab实验部分做完了，后面我就重新去看了rcore-tutorial book并且把它上面的思考题给做了，真的觉得这本书写得很不错的，是我入门操作系统看的第一本书，给我的印象很好。</p>
<h3 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h3><p>然后就是参加项目6的过程了，最开始选择这个项目就是看到了embassy，查到它是一个嵌入式的异步框架，自己感兴趣的是在嵌入式方面，而异步这个内容对我是一个新鲜未知的东西，于是我就更有兴趣来从项目中学习新的内容，也有一点信心能做出点什么。但是完成这个项目学习后，我发现我的收获不止于这些内容，因为作为大二的学生，其实我就逐渐开始迷茫于自己到底要做什么了，特别是当我做了一些经典的lab比如：csapp、cs144以及rcore，并且也学了编译原理、数据库、计网、操作系统还有一堆的数学基础之后，我不知道自己能做出什么东西。我只知道自己对计算机的体系结构感兴趣，还想做与嵌入式相关的内容，但是该从什么地方切入，怎么才算作是做研究，我一点头绪也没有。而在参加项目6这6周的时间里面，它更重要的是给我打开了一个小的缺口，让我知道在操作系统这个广阔的领域里面可以接纳许多不同的诉求，许多学到的内容以及想要应用的场景都可以和操作系统相关联，或者说操作系统和许多地方都能联系起来。在我和我的队友这一个多月的项目所做的成果中，我们在研究异步操作系统的同时，也给我们之前在学校里面所涉及的四轴飞行器的项目优化有了思路，对于如何做研究，怎么做也有了认识，在我自己的目标里面，我是希望能做一些虽然长期且有挑战，但是很有意义的事情。而这次的经历，就让我知道在我本科接下来的时间里面可以在什么领域做工作，并且这些工作是极具挑战且很有意义的。</p>
<h2 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h2><p>最后我想感谢和我一起工作的队友:施诺晖同学，我和他是室友，做这个项目和他交流学习中收获很多，后续开发过程中和他的合作让我能够高效的完成工作。</p>
<p>还有很感谢向老师很耐心的指导而且老师也没push得很紧张，让我能在学校考试和训练营项目的交替中成功的都分得了合适的时间片完成任务。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/31/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/31/">31</a><span class="page-number current">32</span><a class="page-number" href="/blog/page/33/">33</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/72/">72</a><a class="extend next" rel="next" href="/blog/page/33/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">rcore-os Group</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/muse.js"></script>


<script src="/blog/js/next-boot.js"></script>


  















  

  

  

</body>
</html>
