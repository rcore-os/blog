<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/blog/lib/animate-css/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"rcore-os.github.io","root":"/blog/","scheme":"Muse","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="rcore-os Blog">
<meta property="og:url" content="http://rcore-os.github.io/blog/page/35/index.html">
<meta property="og:site_name" content="rcore-os Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="rcore-os Group">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://rcore-os.github.io/blog/page/35/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>rcore-os Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">rcore-os Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">rcore-os Group</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">694</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">50</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">605</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content index posts-expand">
          
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/29/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-Jiawens/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/29/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-Jiawens/" class="post-title-link" itemprop="url">2024春季开源操作系统训练营第一阶段总结-Jiawens</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-29 22:01:13" itemprop="dateCreated datePublished" datetime="2024-04-29T22:01:13+00:00">2024-04-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-23 06:52:35" itemprop="dateModified" datetime="2025-05-23T06:52:35+00:00">2025-05-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>去年秋季已经参加过一次训练营，完成了第一阶段和第二阶段的一半，因此这次训练营的第一阶段完成得很快，只用了两三天左右，感知到的最显著的变化是后面算法题的加入：</p>
<ul>
<li>单向链表的合并：涉及 <code>NonNull</code></li>
<li>双向链表的反序</li>
<li>排序算法的实现</li>
<li>二叉查找树的插入、搜索</li>
<li>图的广度及深度优先搜索算法实现</li>
<li>使用栈来检测括号是否配对</li>
<li>使用队列实现栈</li>
<li>实现二叉堆的插入、遍历</li>
<li>实现图</li>
</ul>
<p>在尝试解决这些问题的过程中，我查阅了许多资料，了解到了很多未曾听说过的概念，希望在第二阶段里也能跟上进度，一路披荆斩棘。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/29/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5Blog-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5-%E5%88%98%E6%A1%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/29/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5Blog-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5-%E5%88%98%E6%A1%90/" class="post-title-link" itemprop="url">2024春夏季开源操作系统训练营Blog-第一阶段-刘桐</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-29 19:15:01" itemprop="dateCreated datePublished" datetime="2024-04-29T19:15:01+00:00">2024-04-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-23 06:52:35" itemprop="dateModified" datetime="2025-05-23T06:52:35+00:00">2025-05-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024春夏季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="2024春夏季开源操作系统训练营第一阶段总结报告"><a href="#2024春夏季开源操作系统训练营第一阶段总结报告" class="headerlink" title="2024春夏季开源操作系统训练营第一阶段总结报告"></a>2024春夏季开源操作系统训练营第一阶段总结报告</h1><p>我对于操作系统有一定兴趣，在被同学推荐了这个OS训练营后，便按步骤开始了训练，现在我将第一阶段任务完成，汇总为这篇第一阶段总结报告。</p>
<p>虽然以前用过其他编程语言，但由于之前从未接触过rust语言，在完成前100道题时几乎每一道题都被编译器疯狂拷打，实属让我回想起刚接触编程时的痛苦回忆了，但在历经100题的磨练后，我才能发现rust如此设计都是有一定理由的（虽然不是全部的特性都能理解到），后10道算法题在有rust基础后其实实现是比较简单的，虽然还会被编译器拷打。</p>
<p>总而言之，第一阶段是基础，便于我们后续阶段的展开，希望后续我能继续保持这份热情，完成后续阶段。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/29/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-wooeason/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/29/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-wooeason/" class="post-title-link" itemprop="url">2024开源操作系统训练营第一阶段总结-wooeason</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-29 18:14:41" itemprop="dateCreated datePublished" datetime="2024-04-29T18:14:41+00:00">2024-04-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-23 06:52:35" itemprop="dateModified" datetime="2025-05-23T06:52:35+00:00">2025-05-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <pre><code>南京大学  吴奕胜</code></pre><h2 id="初见-Rust"><a href="#初见-Rust" class="headerlink" title="初见 Rust"></a>初见 Rust</h2><p>训练营第一阶段的学习过程中，我初步掌握了一门新的编程语言 <code>rust</code>。这是我第一次接触到一门比较”新鲜”的编程语言，相较于课堂上学习的 <code>C/C++</code>，这无疑是一门更加现代也更加复杂的编程语言，拥有不少闻所未闻的新概念，新特性，当然，这也导致 <code>rust</code> 的学习并没有那么轻松。</p>
<p>余观夫 <code>rust</code> 之难，在”所有权”之义。入门阶段所以为惑者，所有权占十之八九。</p>
<h2 id="我如何理解所有权？"><a href="#我如何理解所有权？" class="headerlink" title="我如何理解所有权？"></a>我如何理解所有权？</h2><p><code>C/C++</code> 中，一个变量名被映射到唯一一个内存中有实际含义的内容，反之不成立，我们可以使用指针很轻松地做到这一点。<code>rust</code> 所做的，正是保证这个”反之”的成立，将一块内容唯一对应于一个所有者，当所有者生命周期结束时，内存也被回收，这就保证了内存安全。</p>
<p>这样做的好处很明显，我们可以断言在满足所有权规则的前提下，内存的使用总是安全的；但是坏处也很明显，由于所有权机制的存在，不少在 <code>C/C++</code> 中可以很简单地实现的数据结构或者函数，在 <code>rust</code> 可能需要费一番功夫。</p>
<p>把我们所学的 <code>rust</code> 的新特性做个分类，大致也就是两类：</p>
<ul>
<li>为了实现特定功能而实现的特性</li>
<li>为了补充所有权机制的灵活性而存在的特性</li>
</ul>
<p>这一点很好地体现在智能指针、unsafe rust 之类的概念里，虽然这可能造成很多麻烦，但长期来看终究是利大于弊，<code>rust</code> 严格得看起来有些偏执的编译器在教会我们，一个优秀的程序员应该在编程的过程中注意什么，不是吗？</p>
<h2 id="令人耳目一新的枚举类型"><a href="#令人耳目一新的枚举类型" class="headerlink" title="令人耳目一新的枚举类型"></a>令人耳目一新的枚举类型</h2><p>初学 <code>rust</code>，其中的枚举类型让我赞叹不已。我之前只学习了 <code>C/C++</code> 语言，并且实际上只是学习了 <code>C</code> 和部分的 <code>C++</code>，<code>C</code> 中的枚举类型让程序员可以赋予某些值以现实的语义，但是并不好用。</p>
<p>在某个课程中，我们被要求实现一个游戏，游戏要求实现一个可以在地图中上下左右移动的人物，人物还需要可以执行诸如放炸弹之类的功能，部分动作可能有附带的属性。对于每一个动作，我们当然可以实现一个类，用以表示指令，但是这样做显然是不够简洁的，而用 <code>rust</code> 中的枚举功能，则可以优雅地实现。</p>
<p>再比如编译原理课程中，我们要实现类型检查，那么很自然的就是要实现一个结构体，用以表示各种类型。在这个结构体中，一个枚举类型用以表示当前类型，一个 <code>union</code> 中保存了该种类型附加的信息。即使使用到了 <code>union</code> 这样的关键字减少冗余的部分，也并不优雅，如果换成 <code>rust</code>，则可以用一个枚举类型实现类型系统，相当简洁明了，且优雅。</p>
<p>说到底，枚举类型好用还是其成员可以附带一些信息，这是一般的枚举做不到的，并且即使用结构体或类等实现了类似的功能，也远不如 <code>rust</code> 中枚举的实现优雅。</p>
<h2 id="模式匹配——优雅版本的-switch"><a href="#模式匹配——优雅版本的-switch" class="headerlink" title="模式匹配——优雅版本的 switch"></a>模式匹配——优雅版本的 switch</h2><p>说模式匹配是优雅版本的 <code>switch</code> 其实也有失偏颇，毕竟模式匹配的功能要比后者多多了，但更多的时候（至少在入门学习阶段），主要的用法还是这两种：</p>
<ul>
<li>用于解构元组、枚举等等</li>
<li>用于匹配特定的分支</li>
</ul>
<p>先来说说 <code>switch</code> 让我感觉最不舒服的地方，就是每个分支后面需要加上一个 <code>break</code>，在编译原理课程实验中，对语法树进行语义分析的过程中，时常需要根据产生式的类型实现不同的功能，由于某些稀奇古怪的原因，在写代码的时候会漏掉 <code>break</code>，这会导致比漏掉 <code>break</code> 的原因还稀奇古怪的结果。</p>
<p>相比之下，<code>rust</code> 中的模式匹配就避免了这个问题，同时也让逻辑一致的情况可以使用 <code>|</code> 合并到同一个分支，相较于 <code>switch</code> 中省略 <code>break</code> 的写法，可以消除很多潜在的问题。</p>
<h2 id="Option-lt-T-gt-和-Result-lt-T-U-gt"><a href="#Option-lt-T-gt-和-Result-lt-T-U-gt" class="headerlink" title="Option&lt;T&gt; 和 Result&lt;T, U&gt;"></a><code>Option&lt;T&gt;</code> 和 <code>Result&lt;T, U&gt;</code></h2><p>在以往的编程经验中，我常常碰到需要表达”没有”的语义的情况，这时候可能会使用一个极大值或者 $0$ 等约定的值来表达。比如在我们在表示一个无权图中不存在的边时，可以使用 $0$ 来表示，但如果是一个有权图呢？根据我们要解决的问题不同，用 $0$ 或者极大值的情况都有，这就造成了一些潜在的麻烦。<code>Option&lt;T&gt;</code> 就很好地解决了这个问题。我知道，其实 <code>C++</code> 中已经有类似的功能了，但是就使用方便程度来讲，模式匹配加上 <code>Option&lt;T&gt;</code> 可以称得上是一个大杀器了。</p>
<p>而错误处理也很自然地解决了需要调用者自行处理问题的情况。以往的编程经验中，遇到需要传递错误信息的情况往往是通过某些约定的值，这些值被假设不在函数返回值的域中，通过这些值来告诉调用者出现了什么问题。<code>Result&lt;T, U&gt;</code> 显然是更好的实现方法。</p>
<p>说到底，我们想要表达的”空”的语义和”幺元”的语义并不总是一致的，又或者在函数返回的域中并没有不会用到的值，这就导致了”空”的语义不好表达，这个情况下，带值的枚举真香。</p>
<h2 id="我的收获"><a href="#我的收获" class="headerlink" title="我的收获"></a>我的收获</h2><p>上面提到的内容，大体上就是所有 <code>rust</code> 给我带来最印象深刻的地方了，当然，<code>rust</code> 还有不少精心设计的语言特性，不过由于我的编程经验不够，并不能直接说出这些特性好在哪，也并没有被这些特性震撼到，不过，我心里也埋下了这样一颗种子，如果在将来的学习工作中遇到了什么问题，再回过头来看如今所学，或许就能有更深刻的理解了。</p>
<p>这是我第一次学习一门”课外语言”，这样的体验是很有价值的，不管是对我学习使用这门语言本身来说，还是对我更深入理解以前学习过的语言来说。前面所写的几节内容都是我在学习比较 <code>rust</code> 过程中的切身体会，比学习优秀的设计更重要的是，我知道了一个没那么优秀的设计不好在哪里。</p>
<p>无论怎样，第一阶段的学习落下帷幕，接下来需要进入第二阶段攻克更加困难的主题，这是十分激动人心的。祈祷中……</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/29/2024s-rustlings-kyrinzzz/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/29/2024s-rustlings-kyrinzzz/" class="post-title-link" itemprop="url">2024s-rustlings-kyrinzzz</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-29 17:39:16" itemprop="dateCreated datePublished" datetime="2024-04-29T17:39:16+00:00">2024-04-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-23 06:52:35" itemprop="dateModified" datetime="2025-05-23T06:52:35+00:00">2025-05-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>have done the orginal rustlings test before, try again and also get something to learn</p>
<p>not only the tech an trick experience , but also the design philosophy behind the language.</p>
</blockquote>
<h1 id="RoadBlock"><a href="#RoadBlock" class="headerlink" title="RoadBlock"></a>RoadBlock</h1><h2 id="0-variales"><a href="#0-variales" class="headerlink" title="0 variales"></a>0 variales</h2><h3 id="varaibles5-rs"><a href="#varaibles5-rs" class="headerlink" title="varaibles5.rs"></a>varaibles5.rs</h3><ul>
<li><code>shadowing</code>: use <code>let</code></li>
</ul>
<h2 id="1-primitive-types"><a href="#1-primitive-types" class="headerlink" title="1 primitive_types"></a>1 primitive_types</h2><h3 id="primitive-types3-rs"><a href="#primitive-types3-rs" class="headerlink" title="primitive_types3.rs"></a>primitive_types3.rs</h3><ul>
<li>shorthand to create an arry: <code>[elment; times]</code></li>
</ul>
<h3 id="primitive-types4-rs"><a href="#primitive-types4-rs" class="headerlink" title="primitive_types4.rs"></a>primitive_types4.rs</h3><ul>
<li>Ownership, borrow, ref: &amp;</li>
<li>slice: [ .. ]</li>
</ul>
<h2 id="2-vector"><a href="#2-vector" class="headerlink" title="2 vector"></a>2 vector</h2><h3 id="vecs1-rs"><a href="#vecs1-rs" class="headerlink" title="vecs1.rs"></a>vecs1.rs</h3><ul>
<li>Vec::new()</li>
<li>macro: vec![elements… ]</li>
</ul>
<h3 id="vecs2-rs"><a href="#vecs2-rs" class="headerlink" title="vecs2.rs"></a>vecs2.rs</h3><ul>
<li>two ways<ul>
<li>direct: use <code>*</code></li>
<li>map:</li>
</ul>
</li>
<li>used to do in the <code>*</code> way, now prefer the <code>map</code> way</li>
</ul>
<h2 id="3-move-semantics"><a href="#3-move-semantics" class="headerlink" title="3 move_semantics"></a>3 move_semantics</h2><h3 id="move-semantics1-rs"><a href="#move-semantics1-rs" class="headerlink" title="move_semantics1.rs"></a>move_semantics1.rs</h3><ul>
<li>ownership, borrow: the new va. takes the ownership from the old, the old can not be accessible</li>
<li>mutable</li>
</ul>
<h3 id="move-semantics2-rs"><a href="#move-semantics2-rs" class="headerlink" title="move_semantics2.rs"></a>move_semantics2.rs</h3><ul>
<li>clone()</li>
<li>mutally borrow a reference to its argument: the next exec</li>
</ul>
<h3 id="move-semantics6-rs"><a href="#move-semantics6-rs" class="headerlink" title="move_semantics6.rs"></a>move_semantics6.rs</h3><ul>
<li>ownership</li>
</ul>
<h2 id="4-struct"><a href="#4-struct" class="headerlink" title="4 struct"></a>4 struct</h2><h3 id="structs3-rs"><a href="#structs3-rs" class="headerlink" title="structs3.rs"></a>structs3.rs</h3><ul>
<li><code>self</code></li>
</ul>
<h2 id="5-enums"><a href="#5-enums" class="headerlink" title="5 enums"></a>5 enums</h2><h3 id="enums3-rs"><a href="#enums3-rs" class="headerlink" title="enums3.rs"></a>enums3.rs</h3><ul>
<li><p><code>match</code></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">match</span> expr1 &#123;</span><br><span class="line">    type1 =&gt; &#123; expr2 &#125;,</span><br><span class="line">    type2(var) =&gt; &#123; expr3 &#125;,</span><br><span class="line">    _ =&gt; &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>match allows us to compare a value to a series of patterns and execute the code based on the matching pattern</p>
<ul>
<li>A pattern can consist of literal quantities, variables, wildcards, and many other things</li>
<li>bind partial values of matching patterns</li>
</ul>
</li>
<li><p>the return value of one branch is the return value of the whole match expection</p>
</li>
</ul>
<h2 id="6-strings"><a href="#6-strings" class="headerlink" title="6 strings"></a>6 strings</h2><h3 id="string1-rs"><a href="#string1-rs" class="headerlink" title="string1.rs"></a>string1.rs</h3><ul>
<li>lifetime</li>
<li>to_string()</li>
<li>From</li>
</ul>
<h3 id="strings3-rs"><a href="#strings3-rs" class="headerlink" title="strings3.rs"></a>strings3.rs</h3><ul>
<li>RTFD(RTFM): Read the fxxxx document(mannul)</li>
<li>STFW</li>
</ul>
<h3 id="string4-rs"><a href="#string4-rs" class="headerlink" title="string4.rs"></a>string4.rs</h3><ul>
<li>std</li>
</ul>
<h2 id="7-modules"><a href="#7-modules" class="headerlink" title="7 modules"></a>7 modules</h2><h3 id="modules1-rs"><a href="#modules1-rs" class="headerlink" title="modules1.rs"></a>modules1.rs</h3><ul>
<li>private default</li>
<li><code>pub</code></li>
</ul>
<h3 id="modules2-rs"><a href="#modules2-rs" class="headerlink" title="modules2.rs"></a>modules2.rs</h3><ul>
<li><code>use xx as xxx</code></li>
</ul>
<h3 id="modules3-rs"><a href="#modules3-rs" class="headerlink" title="modules3.rs"></a>modules3.rs</h3><ul>
<li><code>use xx :: {yy, zz}</code></li>
</ul>
<h2 id="8-HashMap"><a href="#8-HashMap" class="headerlink" title="8 HashMap"></a>8 HashMap</h2><h3 id="hashmap1-rs"><a href="#hashmap1-rs" class="headerlink" title="hashmap1.rs"></a>hashmap1.rs</h3><ul>
<li>&lt;key, value&gt;</li>
<li>Hash::new()</li>
<li>insert()</li>
</ul>
<h3 id="hashmap2-rs"><a href="#hashmap2-rs" class="headerlink" title="hashmap2.rs"></a>hashmap2.rs</h3><ul>
<li><code>entry()</code> and <code>or_insert()</code></li>
</ul>
<h3 id="hashmap3-rs"><a href="#hashmap3-rs" class="headerlink" title="hashmap3.rs"></a>hashmap3.rs</h3><ul>
<li>well, read the answer I wrote last time</li>
<li>have ideas, but stuck on &amp;mut T</li>
</ul>
<h2 id="quiz2-rs"><a href="#quiz2-rs" class="headerlink" title="quiz2.rs"></a>quiz2.rs</h2><ul>
<li>stuck on modules and strings for a while</li>
</ul>
<h2 id="9-Options"><a href="#9-Options" class="headerlink" title="9 Options"></a>9 Options</h2><h3 id="options1-rs"><a href="#options1-rs" class="headerlink" title="options1.rs"></a>options1.rs</h3><ul>
<li>Option<T>, Some(), None</T></li>
<li>unwrap() or match</li>
<li>read the answer of match way</li>
</ul>
<h3 id="options2-rs"><a href="#options2-rs" class="headerlink" title="options2.rs"></a>options2.rs</h3><ul>
<li><code>if let</code> statement and <code>while let</code> statement</li>
<li>read the answer: think in the reverse way, .unwrap() – Some()</li>
</ul>
<h3 id="options3-rs"><a href="#options3-rs" class="headerlink" title="options3.rs"></a>options3.rs</h3><ul>
<li><blockquote>
<p>Bind by reference during pattern matching.<br>ref annotates pattern bindings to make them borrow rather than move.<br>It is not a part of the pattern as far as matching is concerned: it does not affect whether a value is matched,<br>only how it is matched.</p>
</blockquote>
</li>
</ul>
<h2 id="10-error-handling"><a href="#10-error-handling" class="headerlink" title="10 error_handling"></a>10 error_handling</h2><h3 id="error1-rs"><a href="#error1-rs" class="headerlink" title="error1.rs"></a>error1.rs</h3><ul>
<li>Result&lt;T, E&gt;<ul>
<li>Ok(T)</li>
<li>Err(E)</li>
</ul>
</li>
</ul>
<h3 id="error2-rs"><a href="#error2-rs" class="headerlink" title="error2.rs"></a>error2.rs</h3><ul>
<li><p>? – match</p>
</li>
<li><blockquote>
<p>If the value of Result is OK, the expression will return the value in OK and the program will continue.<br>If the value is Err, Err is used as the return value for the entire function,<br>as if the return keyword were used, so that the error value is propagated to the caller.</p>
</blockquote>
</li>
</ul>
<h3 id="error3-rs"><a href="#error3-rs" class="headerlink" title="error3.rs"></a>error3.rs</h3><ul>
<li>the ? is valid only in function that -&gt; Result&lt;T, E&gt;</li>
<li>in main function, use <code>()</code> to present nothing needed</li>
</ul>
<h3 id="error4-rs"><a href="#error4-rs" class="headerlink" title="error4.rs"></a>error4.rs</h3><ul>
<li>kind of read the answer</li>
</ul>
<h3 id="error5-rs"><a href="#error5-rs" class="headerlink" title="error5.rs"></a>error5.rs</h3><ul>
<li>trait</li>
<li>Box&lt;T&gt;: A pointer type that uniquely owns a heap allocation of type T.</li>
<li>dyn</li>
</ul>
<h3 id="error6-rs"><a href="#error6-rs" class="headerlink" title="error6.rs"></a>error6.rs</h3><ul>
<li>stuck, read the answer; .map_err()</li>
</ul>
<h2 id="11-generics"><a href="#11-generics" class="headerlink" title="11 generics"></a>11 generics</h2><h3 id="generics2-rs"><a href="#generics2-rs" class="headerlink" title="generics2.rs"></a>generics2.rs</h3><ul>
<li><code>&lt;T&gt;</code><ul>
<li>functions: fn func_name<T>(arg: T) -&gt; T</T></li>
<li>structs: struct StructName<T></T></li>
<li>traits: trait TraitName<T></T></li>
<li>impl<T> StructName<T> { … }</T></T></li>
</ul>
</li>
</ul>
<h2 id="12-traits"><a href="#12-traits" class="headerlink" title="12 traits"></a>12 traits</h2><h3 id="traits1-rs"><a href="#traits1-rs" class="headerlink" title="traits1.rs"></a>traits1.rs</h3><ul>
<li>trait: A trait defines a set of behaviors that can be shared, and once the train is implemented,</li>
<li>you can use that set of behaviors.<ul>
<li>similar to interface</li>
</ul>
</li>
<li>trait trait_name { … }<ul>
<li>impl trait_name for StructName { … }</li>
</ul>
</li>
</ul>
<h3 id="traits4-rs"><a href="#traits4-rs" class="headerlink" title="traits4.rs"></a>traits4.rs</h3><ul>
<li>traits as parameters</li>
</ul>
<h3 id="traits5-rs"><a href="#traits5-rs" class="headerlink" title="traits5.rs"></a>traits5.rs</h3><ul>
<li>multiple traits: impl Trait1 + Trait2 + Trait3 for StructName { … }</li>
</ul>
<h2 id="quiz3-rs"><a href="#quiz3-rs" class="headerlink" title="quiz3.rs"></a>quiz3.rs</h2><ul>
<li>stuck, but according to the compiler info, fix it</li>
</ul>
<h2 id="13-lifetimes"><a href="#13-lifetimes" class="headerlink" title="13 lifetimes"></a>13 lifetimes</h2><h3 id="lifetimes1-rs"><a href="#lifetimes1-rs" class="headerlink" title="lifetimes1.rs"></a>lifetimes1.rs</h3><ul>
<li>lifetime: When returning a reference from a function,the lifetime parameter for the return type needs</li>
<li>to match the lifetime parameter for one of the parameters<ul>
<li>follow the compiler</li>
<li>‘a: fn funcName&lt;’a&gt;(x : ‘a i32) -&gt; &amp;’a str</li>
</ul>
</li>
</ul>
<h3 id="lifetimes2-rs"><a href="#lifetimes2-rs" class="headerlink" title="lifetimes2.rs"></a>lifetimes2.rs</h3><ul>
<li>same mark, same lifetime</li>
<li>paths:<ul>
<li>make y live longer</li>
<li>make println! inner</li>
</ul>
</li>
</ul>
<h3 id="lifetimes3-rs"><a href="#lifetimes3-rs" class="headerlink" title="lifetimes3.rs"></a>lifetimes3.rs</h3><ul>
<li>lifetime in struct: struct StructName&lt;&#39;a&gt; { field: &#39;a type1 }</li>
</ul>
<h2 id="14-tests"><a href="#14-tests" class="headerlink" title="14 tests"></a>14 tests</h2><h3 id="tests1-rs"><a href="#tests1-rs" class="headerlink" title="tests1.rs"></a>tests1.rs</h3><ul>
<li>assert!(condition, “{}”, message)</li>
</ul>
<h3 id="tests4-rs"><a href="#tests4-rs" class="headerlink" title="tests4.rs"></a>tests4.rs</h3><ul>
<li>attribute <code>should_panic</code></li>
</ul>
<h2 id="15-iterators"><a href="#15-iterators" class="headerlink" title="15 iterators"></a>15 iterators</h2><h3 id="iterators1-rs"><a href="#iterators1-rs" class="headerlink" title="iterators1.rs"></a>iterators1.rs</h3><ul>
<li>iter(), next ()</li>
</ul>
<h3 id="iterators3-rs"><a href="#iterators3-rs" class="headerlink" title="iterators3.rs"></a>iterators3.rs</h3><ul>
<li><code>.map()</code>, <code>collect()</code></li>
</ul>
<h3 id="iterator4-rs"><a href="#iterator4-rs" class="headerlink" title="iterator4.rs"></a>iterator4.rs</h3><ul>
<li><p><code>into_iter()</code> and <code>fold()</code>: e.g. iterator.fold(initial_value, |acc, x | { acc + x })</p>
</li>
<li><blockquote>
<p>The fold() method is similar to the iterator’s forEach() method, but it returns a value.</p>
</blockquote>
</li>
<li><blockquote>
<p>Folds every element into an accumulator by applying an operation, returning the final result.</p>
</blockquote>
<blockquote>
<p>fold() takes two arguments: an initial value, and a closure with two arguments: an ‘accumulator’, and an element.<br>The closure returns the value that the accumulator should have for the next iteration.</p>
</blockquote>
<blockquote>
<p>The initial value is the value the accumulator will have on the first call.</p>
</blockquote>
<blockquote>
<p>After applying this closure to every element of the iterator, fold() returns the accumulator.</p>
</blockquote>
<blockquote>
<p>This operation is sometimes called ‘reduce’ or ‘inject’.</p>
</blockquote>
</li>
</ul>
<blockquote>
</blockquote>
<h3 id="iterators5-rs"><a href="#iterators5-rs" class="headerlink" title="iterators5.rs"></a>iterators5.rs</h3><ul>
<li>more familiar with the <code>iter()</code>, <code>map()</code> and <code>fold()</code></li>
</ul>
<h2 id="16-smart-pointers"><a href="#16-smart-pointers" class="headerlink" title="16 smart_pointers"></a>16 smart_pointers</h2><h3 id="box1-rs"><a href="#box1-rs" class="headerlink" title="box1.rs"></a>box1.rs</h3><ul>
<li>compile time</li>
<li><code>Box</code>: a smart pointer used to store data on the heap, which also allows us to wrap a recursive type.</li>
</ul>
<h3 id="rc1-rs"><a href="#rc1-rs" class="headerlink" title="rc1.rs"></a>rc1.rs</h3><ul>
<li><code>Rc&lt;T&gt;</code>: used for multiple owners</li>
<li><code>clone()</code>, <code>Rc::clone()</code>  and <code>drop()</code></li>
</ul>
<h3 id="arc1-rs"><a href="#arc1-rs" class="headerlink" title="arc1.rs"></a>arc1.rs</h3><ul>
<li>Arc<T>: used for multiple owners, but it is thread-safe</T></li>
<li><code>clone()</code></li>
</ul>
<h3 id="cow1-rs"><a href="#cow1-rs" class="headerlink" title="cow1.rs"></a>cow1.rs</h3><ul>
<li>Cow(Copy-On-Write type): It can enclose and provide immutable access to borrowed data,<br><br>and clone the data lazily when mutation or ownership is required.<br><br>The type is designed to work with general borrowed data via the Borrow trait.</li>
<li><code>Cow::Owned()</code> and <code>Cow::Borrowed()</code></li>
<li>well, this is a little confusing, got stuck; solved by simulating the code above TODOs and the answer wrote before</li>
</ul>
<h2 id="17-threads"><a href="#17-threads" class="headerlink" title="17 threads"></a>17 threads</h2><h3 id="threads1-rs"><a href="#threads1-rs" class="headerlink" title="threads1.rs"></a>threads1.rs</h3><ul>
<li><code>thread::spawn()</code>: create a new thread and run the closure in it; -&gt; JoinHandle<T></T></li>
<li><code>move</code>: move the value into the closure</li>
<li><code>join()</code>: wait for the thread to finish, return the result</li>
</ul>
<h3 id="threads2-rs"><a href="#threads2-rs" class="headerlink" title="threads2.rs"></a>threads2.rs</h3><ul>
<li><code>Mutex&lt;T&gt;</code>: A mutex is a mutual exclusion primitive that can be used to protect shared data<br><ul>
<li><code>lock()</code> : -&gt; LockResult&lt;MutexGuard&lt;’_, T&gt;&gt;</li>
</ul>
</li>
<li><code>Arc&lt;T&gt;</code>:</li>
</ul>
<h3 id="threads3-rs"><a href="#threads3-rs" class="headerlink" title="threads3.rs"></a>threads3.rs</h3><ul>
<li><code>std::sync::mpsc</code>: multi-producer, single-consumer channel, sending end and receiving end</li>
<li><code>clone()</code></li>
<li>well, I did get stuck on this one last time, this time go smoothly.</li>
</ul>
<h2 id="18-macros"><a href="#18-macros" class="headerlink" title="18 macros"></a>18 macros</h2><p>The term <code>macro</code> refers to a family of features in Rust:</p>
<ul>
<li>declarative macros with <code>macro_rules!</code> and</li>
<li>three kinds of <code>procedural</code> macros:<ul>
<li>Custom <code>#\[derive\]</code> macros that specify code added with the <code>derive</code> attribute used on structs and enums</li>
<li>Attribute-like macros that define custom attributes usable on any item</li>
<li>Function-like macros that look like function calls but operate on the tokens specified as their argument</li>
</ul>
</li>
</ul>
<h3 id="macros2-rs"><a href="#macros2-rs" class="headerlink" title="macros2.rs"></a>macros2.rs</h3><ul>
<li>the order of definition and use matters</li>
</ul>
<h3 id="macros3-rs"><a href="#macros3-rs" class="headerlink" title="macros3.rs"></a>macros3.rs</h3><ul>
<li><code>[macro_use]</code></li>
</ul>
<h3 id="macros4-rs"><a href="#macros4-rs" class="headerlink" title="macros4.rs"></a>macros4.rs</h3><ul>
<li>use <code>;</code> to separate the macro arms</li>
</ul>
<h2 id="19-clippy"><a href="#19-clippy" class="headerlink" title="19 clippy"></a>19 clippy</h2><h3 id="clippy1-rs"><a href="#clippy1-rs" class="headerlink" title="clippy1.rs"></a>clippy1.rs</h3><ul>
<li><code>constant s</code></li>
</ul>
<h3 id="clippy2-rs"><a href="#clippy2-rs" class="headerlink" title="clippy2.rs"></a>clippy2.rs</h3><ul>
<li><code>let Some(x) = option</code></li>
<li>there was a bug, solved</li>
</ul>
<h3 id="clippy3-rs"><a href="#clippy3-rs" class="headerlink" title="clippy3.rs"></a>clippy3.rs</h3><ul>
<li><code>std::mem::swap</code>, <code>vec.clear()</code></li>
</ul>
<h2 id="20-conversions"><a href="#20-conversions" class="headerlink" title="20 conversions"></a>20 conversions</h2><h3 id="using-as-rs"><a href="#using-as-rs" class="headerlink" title="using_as.rs"></a>using_as.rs</h3><ul>
<li><code>as</code> operator: type casting and renaming imports</li>
</ul>
<h3 id="from-into-rs"><a href="#from-into-rs" class="headerlink" title="from_into.rs"></a>from_into.rs</h3><ul>
<li>The From trait is used for value-to-value conversions. If From is implemented correctly for a type,<br><br>the Into trait should work conversely.</li>
<li>copilot this time; I dit get stuck on this last time for a while, solved eventually</li>
<li><code>impl From\&lt;T\&gt; for U</code></li>
</ul>
<h3 id="from-str-rs"><a href="#from-str-rs" class="headerlink" title="from_str.rs"></a>from_str.rs</h3><ul>
<li>copilot this time; did get stuck on this last time for a while, solved eventually</li>
<li><code>iterators</code>: <code>next()</code>, <code>last()</code></li>
<li><code>parse::\&lt;T\&gt;()</code></li>
</ul>
<h3 id="try-from-into-rs"><a href="#try-from-into-rs" class="headerlink" title="try_from_into.rs"></a>try_from_into.rs</h3><ul>
<li><code>TryFrom</code> and <code>TryInto</code> traits are provided by the standard library to support this conversion.<ul>
<li><code>impl TryFrom\&lt;From\&gt; for To</code> and  <code>-&gt; Result\&lt;T, E\&gt;</code></li>
</ul>
</li>
<li><code>tuple</code> and <code>array</code> will be checked at compile time, <code>struct</code> will be checked at runtime,</li>
<li><code>slice</code> implementation needs to check the slice length,</li>
</ul>
<h3 id="as-ref-rs"><a href="#as-ref-rs" class="headerlink" title="as_ref.rs"></a>as_ref.rs</h3><ul>
<li><code>trait bound</code>: <code>AsRef\&lt;T\&gt;</code> and <code>AsMut\&lt;T\&gt;</code></li>
</ul>
<h2 id="21-tests-II"><a href="#21-tests-II" class="headerlink" title="21 tests-II"></a>21 tests-II</h2><h3 id="tests5-rs"><a href="#tests5-rs" class="headerlink" title="tests5.rs"></a>tests5.rs</h3><ul>
<li><code>unsafe</code>: <code>item declaration</code> and <code>code block</code></li>
<li>The <code>unsafe</code> keyword has two uses:<ul>
<li>to declare the existence of contracts the compiler can’t check (unsafe fn and unsafe trait),</li>
<li>and to declare that a programmer has checked that these contracts have been upheld (unsafe {} and unsafe impl, <br><br>but also unsafe fn – see below).</li>
</ul>
</li>
<li>confusing</li>
</ul>
<h3 id="tests6-rs"><a href="#tests6-rs" class="headerlink" title="tests6.rs"></a>tests6.rs</h3><ul>
<li><code>Box</code>: <code>Box::into_raw()</code> and <code>Box::from_raw()</code></li>
</ul>
<h3 id="tests7-rs-build-rs-tests8-rs"><a href="#tests7-rs-build-rs-tests8-rs" class="headerlink" title="tests7.rs || build.rs || tests8.rs"></a>tests7.rs || build.rs || tests8.rs</h3><ul>
<li><code>build.rs</code><ul>
<li>Building a bundled C library.</li>
<li>Finding a C library on the host system.</li>
<li>Generating a Rust module from a specification.</li>
<li>Performing any platform-specific configuration needed for the crate.</li>
</ul>
</li>
</ul>
<h3 id="test9-rs"><a href="#test9-rs" class="headerlink" title="test9.rs"></a>test9.rs</h3><ul>
<li>ABI</li>
<li>extern <ul>
<li>“C” for C-like ABI, “stdcall” for Windows ABI, “C++” for C++ ABI, <br><br>“Rust” for Rust ABI, “system” for system ABI”</li>
<li>#[linkname = “..”]</li>
<li>export symbol to the linking environment, e.g. <code>extern &quot;C&quot; fn funcName()</code></li>
</ul>
</li>
<li>mangle symbol name: `#[no_mangle]</li>
<li>confused, copilot; the attributes should be applied properly</li>
</ul>
<h2 id="22-algorithm"><a href="#22-algorithm" class="headerlink" title="22 algorithm"></a>22 algorithm</h2><h3 id="algorithm1-rs-–-merge-linked-list"><a href="#algorithm1-rs-–-merge-linked-list" class="headerlink" title="algorithm1.rs – merge linked list"></a>algorithm1.rs – merge linked list</h3><ul>
<li>got stuck for a long time, not the fault of not understanding linked list, but those features</li>
<li><code>impl&lt;T: PartialOrd + Clone&gt;</code>: a trait bound that specifies requirements for the type T.</li>
</ul>
<h3 id="algorithm2-rs-–-reverse-double-linked-list"><a href="#algorithm2-rs-–-reverse-double-linked-list" class="headerlink" title="algorithm2.rs – reverse double linked list"></a>algorithm2.rs – reverse double linked list</h3><ul>
<li>a little confused, but solved</li>
</ul>
<h3 id="algorithm3-rs-–-sort-bubble-sort"><a href="#algorithm3-rs-–-sort-bubble-sort" class="headerlink" title="algorithm3.rs – sort, bubble sort"></a>algorithm3.rs – sort, bubble sort</h3><ul>
<li>copilot for <code>the trait Ord</code></li>
</ul>
<h3 id="algorithm4-rs-–-bst-the-binary-search-tree"><a href="#algorithm4-rs-–-bst-the-binary-search-tree" class="headerlink" title="algorithm4.rs – bst, the binary search tree"></a>algorithm4.rs – bst, the binary search tree</h3><ul>
<li>glad it’s not avl tree</li>
<li>recursion</li>
</ul>
<h3 id="algorithm5-rs-–-bfs-adjacency-matrix"><a href="#algorithm5-rs-–-bfs-adjacency-matrix" class="headerlink" title="algorithm5.rs – bfs, adjacency matrix"></a>algorithm5.rs – bfs, adjacency matrix</h3><ul>
<li><code>VecDeque</code>, <code>bfs</code>, <code>visited</code>,  <code>Adjacency matrix</code></li>
<li>familiar with this one, with <code>VecDeque</code>, solved quickly</li>
</ul>
<h3 id="algorithm6-rs-–-dfs-adjacency-matrix"><a href="#algorithm6-rs-–-dfs-adjacency-matrix" class="headerlink" title="algorithm6.rs – dfs, adjacency matrix"></a>algorithm6.rs – dfs, adjacency matrix</h3><ul>
<li>smooth</li>
</ul>
<h3 id="algorithm7-rs-–-stack-vec"><a href="#algorithm7-rs-–-stack-vec" class="headerlink" title="algorithm7.rs – stack, vec"></a>algorithm7.rs – stack, vec</h3><ul>
<li>copilot when the match arm</li>
</ul>
<h3 id="algorithm8-rs-–-impl-stack-with-queues"><a href="#algorithm8-rs-–-impl-stack-with-queues" class="headerlink" title="algorithm8.rs – impl stack with queues"></a>algorithm8.rs – impl stack with queues</h3><ul>
<li>with one queue<ul>
<li>push: just push </li>
<li>pop: pop the pre and push them again, loop queue.size - 1 times</li>
</ul>
</li>
<li>with two queues – this way this time<ul>
<li>make sure that the new element is in the front of the queue, and one queue is empty</li>
<li>use one empty queue q1 to store the new, move the rest of elements from the other queue q2 to the cur queue q1, </li>
<li>then use the other queue q2 to store the next new element, move the rest of elements from the cur queue q1 to the other queue q2,</li>
</ul>
</li>
</ul>
<h3 id="algorithm9-rs-–-binary-heap"><a href="#algorithm9-rs-–-binary-heap" class="headerlink" title="algorithm9.rs – binary heap"></a>algorithm9.rs – binary heap</h3><ul>
<li>although aware of that heap keeps the smallest or the biggest element at the top, often used in the k-th min or max problem</li>
<li>not so familiar with this one, stfw, gpt, copilot</li>
<li>use vec to implement heap: the parent’s index <code>(i - 1) / 2</code>, the left child’s index <code>2 * i + 1</code>, the right child’s index <code>2 * i + 2</code>, start from 0</li>
<li><code>add</code>: after <code>push</code>, use <code>heapify_up</code></li>
<li><code>heapify_up</code>: continuous swap until the parent is smaller(or greater, depending on the heap type) than the child</li>
<li><code>smallest_child_idx</code>: the smallest child idx</li>
<li><code>next</code>: iterate to get the smallest element</li>
</ul>
<h3 id="algorithm10-rs-–-graph-adjacency-table-undirected-graph"><a href="#algorithm10-rs-–-graph-adjacency-table-undirected-graph" class="headerlink" title="algorithm10.rs – graph: adjacency table, undirected graph"></a>algorithm10.rs – graph: adjacency table, undirected graph</h3><ul>
<li>copilot a little for programming quickly, like finding elem in hashmap, trying to insert new elem into hashmap</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/29/rCore-%E4%B8%89%E5%91%A8rust%E6%8A%98%E7%A3%A8%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/29/rCore-%E4%B8%89%E5%91%A8rust%E6%8A%98%E7%A3%A8%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">rCore 三周rust折磨记录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-29 16:33:24" itemprop="dateCreated datePublished" datetime="2024-04-29T16:33:24+00:00">2024-04-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-23 06:52:36" itemprop="dateModified" datetime="2025-05-23T06:52:36+00:00">2025-05-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/rust/" itemprop="url" rel="index"><span itemprop="name">rust</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="rCore-三周rust折磨记录"><a href="#rCore-三周rust折磨记录" class="headerlink" title="rCore 三周rust折磨记录"></a>rCore 三周rust折磨记录</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本人是大三的菜鸡一枚, 因为突然一时兴起,想好好学习下操作系统,又同时看到了这个课程,于是跟着课程一起开始学习了rust.</p>
<h2 id="rustlins-通关记录"><a href="#rustlins-通关记录" class="headerlink" title="rustlins 通关记录"></a>rustlins 通关记录</h2><p>说起来也比较惭愧, 学了三周的rust,我对一些东西感觉还是模模糊糊,没有掌握清楚,这可能跟我没有按时听课有关系,忙着找实习笔试和面试(悲).<br>前30道题比较入门, 我是跟着进度来的, 到前70道题也都还好. 结果70-110 真的把我绕晕了, 又是去官网看英文资料, 又是去查别人的博客,还有问群里的大佬.<br>我们3群给我的感觉还是很温馨的,很多愚蠢的问题,大佬们都细心的解答.</p>
<p>说到rust, 感触最深的就是它的安全性, 可变引用只能有一个,这条规则把我恶心了好久 呜呜呜. 还有所有权的转移问题. 要时时刻刻注意用clone或者borrow_mut来避免所有权转移.<br>其实刚开始学习的时候, 我觉得也没什么吗, 不就是cpp里的unique_point吗, 我也学过, 但实际写起来就是容易忘记. 还有各种生命周期的问题, 以及范型要注意trait的限制, 真是太安全了. 无奈的转向了 unsafe 大法().</p>
<p>总的来说, 我还是很喜欢rust的, 但还是有很多东西需要学习, 希望能在后续的学习中, 能有所进步. 期待第二阶段的学习!!!</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/29/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-LinfangWu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/29/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-LinfangWu/" class="post-title-link" itemprop="url">2024春夏季开源操作系统训练营第一阶段总结报告-LinfangWu</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-29 16:02:16" itemprop="dateCreated datePublished" datetime="2024-04-29T16:02:16+00:00">2024-04-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-23 06:52:35" itemprop="dateModified" datetime="2025-05-23T06:52:35+00:00">2025-05-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024春夏季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>首先非常感谢陈渝老师和向勇老师提供开源操作系统训练营这个平台，在去年机缘巧合下知道了这个训练营，但当时只是报名了，作业都没领取。这次是第一次正式参加，算是一次挑战吧，push自己走出舒适区。</p>
<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><p>安装rustlings之前要安装gcc编译器，用包管理器也安装不了，试过用aptitude解决依赖问题，最后是更新了系统软件包就装好了。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://rustwiki.org/zh-CN/book/title-page.html" target="_blank" rel="noopener">Rust 程序设计语言</a></p>
<p><a href="https://rustwiki.org/zh-CN/rust-by-example/" target="_blank" rel="noopener">通过例子学 Rust</a></p>
<p><a href="https://course.rs/about-book.html" target="_blank" rel="noopener">Rust语言圣经(Rust Course)</a></p>
<p><a href="https://www.progit.cn/" target="_blank" rel="noopener">Pro Git 中文版 (第二版)</a></p>
<h2 id="学习总结"><a href="#学习总结" class="headerlink" title="学习总结"></a>学习总结</h2><p>Rust作为一种系统级编程语言，具有内存安全性、并发性和高性能的特点。在学习过程中，通过 Rustlings 这个练习题库，对 Rust 语言有了更深入的了解和掌握。</p>
<p>Rustlings 提供了一系列简单到复杂的练习题目，涵盖了 Rust 语言的各个方面，从基础的语法到高级的模式匹配、并发等。同时，Rustlings 的反馈机制非常及时和友好。这种及时的反馈可以快速纠正错误。前面100道题主要是熟悉语法，做一些小的改动就可以过了。后面10道题是算法，因为之前学习对算法掌握的不够扎实，花了几天时间去重新学习了一下。</p>
<p>虽然做完了rustlings的题目，但是感觉这只是入门，如果没有gpt估计要做好久。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/29/rustlings-unravel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/29/rustlings-unravel/" class="post-title-link" itemprop="url">rustlings-unravel</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-29 11:31:35" itemprop="dateCreated datePublished" datetime="2024-04-29T11:31:35+00:00">2024-04-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-23 06:52:36" itemprop="dateModified" datetime="2025-05-23T06:52:36+00:00">2025-05-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="艰难的开头"><a href="#艰难的开头" class="headerlink" title="艰难的开头"></a>艰难的开头</h2><p>第一次参加训练营对rust也是零基础，刚开始还有点担心，而且开放第一天立马就有好几个大佬交了直接满分通过，真给我吓到了。</p>
<p>不过潜下心来认真做还是很快进入了高强度学习的状态。</p>
<p>每道题目给的提示和对应的rust文档都很有帮助，前面题目难度不算很大，主要是有一些rust的规则或者说特性有点难以理解，生命周期和特性确实是好一番折腾，到现在也不敢说弄明白了。那部分题边做边看着报错改稀里糊涂的就做过去了。</p>
<p>我做完rustlings也算比较早的，不过blog拖了这么久，一个是考试，一个是有些简单的规则感觉没必要特意写在笔记里，而复杂的例如生命周期和特性这部分还真没完全搞懂。还是得慢慢学慢慢练，rust基础还是差得远。</p>
<p>最后这几天还连续发高烧人差点烧傻了。</p>
<h3 id="二阶段能做完一半就算胜利！"><a href="#二阶段能做完一半就算胜利！" class="headerlink" title="二阶段能做完一半就算胜利！"></a>二阶段能做完一半就算胜利！</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/29/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E9%99%88%E6%80%9D%E9%B9%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/29/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E9%99%88%E6%80%9D%E9%B9%8F/" class="post-title-link" itemprop="url">2024春夏季开源操作系统训练营第一阶段总结报告-陈思鹏</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-29 00:51:03" itemprop="dateCreated datePublished" datetime="2024-04-29T00:51:03+00:00">2024-04-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-23 06:52:35" itemprop="dateModified" datetime="2025-05-23T06:52:35+00:00">2025-05-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024春夏季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h1><p>Rust 的生命周期（lifetime）是一种编译时检查机制，它用来确保引用的有效性，防止悬垂指针和数据竞争等安全问题。生命周期在 Rust 中的作用非常关键，主要体现在以下几个方面：</p>
<p>生命周期注解：Rust 使用生命周期注解来标记引用的有效期。最常见的生命周期注解是 ‘a，这是一种显式标注，用来表明相关的引用必须至少与 ‘a 生存期一样长。<br>函数与方法中的生命周期：当函数或方法返回引用或使用引用作为参数时，必须显式指定生命周期。Rust 编译器（通过借用检查器）使用这些注解来确保数据的有效性。例如：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">longest</span></span>&lt;<span class="symbol">'a</span>&gt;(x: &amp;<span class="symbol">'a</span> <span class="built_in">str</span>, y: &amp;<span class="symbol">'a</span> <span class="built_in">str</span>) -&gt; &amp;<span class="symbol">'a</span> <span class="built_in">str</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x.len() &gt; y.len() &#123; x &#125; <span class="keyword">else</span> &#123; y &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里，’a 指明 x 和 y 的引用以及返回值的引用必须拥有相同的生命周期。<br>结构体中的生命周期：当结构体中含有引用时，也需要使用生命周期注解来确保引用不会在结构体实例存在时失效。例如：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Important</span></span>&lt;<span class="symbol">'a</span>&gt; &#123;</span><br><span class="line">    part: &amp;<span class="symbol">'a</span> <span class="built_in">str</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个结构体表明 part 的生命周期 ‘a 必须至少与结构体 Important 的实例一样长。<br>生命周期省略规则（Lifetime Elision Rules）：Rust 有一套自动推导生命周期的规则，这可以在许多简单情况下省略显式的生命周期注解。例如，单个输入生命周期可以被自动推导，函数返回的引用通常被认为与某个输入引用具有相同的生命周期。<br>生命周期与泛型的结合：在泛型类型或函数中使用生命周期参数，可以使得类型或函数更加灵活与安全。例如：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Wrapper</span></span>&lt;<span class="symbol">'a</span>, T&gt; &#123;</span><br><span class="line">    value: &amp;<span class="symbol">'a</span> T,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里 T 是泛型类型，而 ‘a 是生命周期参数，表示 value 的引用至少与 Wrapper 实例持续相同的时间。<br>总的来说，Rust 的生命周期特性是为了在编译时进行严格的内存安全检查，通过这种方式帮助开发者写出更安全的代码，避免运行时错误。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>很久之前就学会rust并用于工作，所以这次训练营的rust部分对我来说是比较简单的。<br>期待这次训练营的实操，Rust 会给我一个怎样的编程体验。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/28/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-Sober7135/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/28/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-Sober7135/" class="post-title-link" itemprop="url">2024开源操作系统训练营第一阶段总结-Sober7135</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-28 23:59:01" itemprop="dateCreated datePublished" datetime="2024-04-28T23:59:01+00:00">2024-04-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-23 06:52:35" itemprop="dateModified" datetime="2025-05-23T06:52:35+00:00">2025-05-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>之前写过一遍<code>rustlings</code>, 所以这次前 100 题刷得比较快. 虽然说之前写过, 但是这次基本没有之前的 repo, 从头自己写了一遍, 还是学到了很多很多, 对<code>Rust</code>的各种特性也更加熟悉了.</p>
<p>个人觉得后面助教加的<code>algorithm</code>还是很有意思的. 大部分的<code>Rust</code>教程只有语法还有特性, 很少有关于如何写算法的. 特别是关于<code>unsafe</code>的使用, 大家好像都对于<code>unsafe</code>如临大敌, 都不敢用. 事实上, 要写出性能好的底层代码, 感觉<code>unsafe</code>还是必不可少的. 后面的图论也挺有趣的, 让同学们在写算法的同时, 熟悉了<code>Rust</code>的各种容器的使用. 就是希望提示能够再清楚明确一些吧.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/28/2024OStraining-rustlings-cearX/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/28/2024OStraining-rustlings-cearX/" class="post-title-link" itemprop="url"><2024OStraining-rustlings-cearX></a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-28 23:49:01" itemprop="dateCreated datePublished" datetime="2024-04-28T23:49:01+00:00">2024-04-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-23 06:52:35" itemprop="dateModified" datetime="2025-05-23T06:52:35+00:00">2025-05-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Rust 程序设计语言能帮助你编写更快、更可靠的软件。在编程语言设计中，高层的工程学与底层的控制往往是难以兼得的；而 Rust 则试图挑战这一矛盾。通过平衡强大的技术能力与优秀的开发者体验，Rust 为你提供了控制底层细节（如内存使用）的选项，而无需承受通常与此类控制相关的所有繁琐细节。</p>
<p>Rust 适合那些渴望在编程语言中寻求速度与稳定性的开发者。对于速度来说，既是指 Rust 可以运行的多快，也是指编写 Rust 程序的速度。Rust 编译器的检查确保了增加功能和重构代码时的稳定性，这与那些缺乏这些检查的语言中脆弱的祖传代码形成了鲜明对比，开发者往往不敢去修改这些代码。通过追求零成本抽象（zero-cost abstractions）—— 将高级语言特性编译成底层代码，并且与手写的代码运行速度同样快。Rust 努力确保代码又安全又快速。</p>
<p>所有权规则<br>Rust 中的每一个值都有一个 所有者（owner）。<br>值在任一时刻有且只有一个所有者。<br>当所有者（变量）离开作用域，这个值将被丢弃</p>
<pre><code>{                      // s 在这里无效，它尚未声明
    let s = &quot;hello&quot;;   // 从此处起，s 是有效的

    // 使用 s
}                      // 此作用域已结束，s 不再有效


{
    let s = String::from(&quot;hello&quot;); // 从此处起，s 是有效的

    // 使用 s
}                                  // 此作用域已结束，
                                   // s 不再有效</code></pre><p>不变引用可以同时有多个（可以有多个读者）<br>不变引用存在的同时不能有可变引用（读者写者不能共存）<br>不能同时有多个可变引用（多个写者也不能共存）</p>
<p>字符串 slice（string slice）是 String 中一部分值的引用，它看起来像这样：</p>
<pre><code>let s = String::from(&quot;hello world&quot;);

let hello = &amp;s[0..5];
let world = &amp;s[6..11];</code></pre><p>不同于整个 String 的引用，hello 是一个部分 String 的引用，由一个额外的 [0..5] 部分指定。<br>可以使用一个由中括号中的 [starting_index..ending_index] 指定的 range 创建一个 slice，<br>其中 starting_index 是 slice 的第一个位置，ending_index 则是 slice 最后一个位置的后一个值</p>
<p>vector<br>如果遍历过程中需要更改变量的值：<br>fn main() {<br>    let mut v = vec![100, 32, 57];<br>    for i in &amp;mut v {<br>        *i += 50;<br>    }<br>}</p>
<pre><code>fn process(&amp;mut self, message: Message) {
    // TODO: create a match expression to process the different message
    // variants
    // Remember: When passing a tuple as a function argument, you&apos;ll need
    // extra parentheses: fn function((t, u, p, l, e))
    match message {
        Message::ChangeColor(r, g, b) =&gt; self.change_color((r, g, b)),
        Message::Echo(String) =&gt; self.echo(String),
        Message::Move(Point) =&gt; self.move_position(Point),
        Message::Quit =&gt; self.quit(),
    }
}</code></pre><p>“blue”.to_string()<br>字面量转化为字符串</p>
<p>fn trim_me(input: &amp;str) -&gt; String {<br>    // TODO: Remove whitespace from both ends of a string!<br>    String::from(input.trim())<br>}<br>fn compose_me(input: &amp;str) -&gt; String {<br>    // TODO: Add “ world!” to the string! There’s multiple ways to do this!<br>    input.to_string() + “ world!”<br>}<br>fn replace_me(input: &amp;str) -&gt; String {<br>    // TODO: Replace “cars” in the string with “balloons”!<br>    input.to_string().replace(“cars”, “balloons”)<br>}</p>
<p>fn main() {<br>    string_slice(“blue”);<br>    string(“red”.to_string());<br>    string(String::from(“hi”));<br>    string(“rust is fun!”.to_owned());<br>    string(“nice weather”.into());<br>    string(format!(“Interpolation {}”, “Station”));<br>    string_slice(&amp;String::from(“abc”)[0..1]);<br>    string_slice(“  hello there “.trim());<br>    string(“Happy Monday!”.to_string().replace(“Mon”, “Tues”));<br>    string(“mY sHiFt KeY iS sTiCkY”.to_lowercase());<br>}</p>
<p>Option</p>
<p>fn main() {<br>    let opt = Option::Some(“Hello”);<br>    let opt2: Option&lt;&amp;str&gt;= Option::None;<br>    match opt2 {<br>        Option::Some(something) =&gt; {<br>            println!(“{}”, something);<br>        },<br>        Option::None =&gt; {<br>            println!(“opt is nothing”);<br>        }<br>    }<br>}</p>
<p>if-let语法糖<br>let i = 0;<br>if let 0 = i {<br>    println!(“zero”);<br>} else{<br>   println!(“not zero”);<br>}</p>
<pre><code>for fruit in fruit_kinds {
    // TODO: Insert new fruits if they are not already present in the
    // basket. Note that you are not allowed to put any type of fruit that&apos;s
    // already present!
    if !basket.contains_key(&amp;fruit) {
        basket.insert(fruit, 1);
    }
}

for fruit in fruit_kinds {
    // TODO: Insert new fruits if they are not already present in the
    // basket. Note that you are not allowed to put any type of fruit that&apos;s
    // already present!
    // 查询Yellow对应的值，若不存在则插入新值
    basket.entry(fruit).or_insert(1);
}


    // Update the team 1 score
    let team_1 = scores.entry(team_1_name).or_insert(
        Team {
            goals_scored: 0,
            goals_conceded: 0,
        }
    );
    team_1.goals_scored += team_1_score;
    team_1.goals_conceded += team_2_score;
    // Update the team 2 score
    let team_2 = scores.entry(team_2_name.clone()).or_insert(
      Team {
        goals_scored: 0,
        goals_conceded: 0,
    });
    team_2.goals_scored += team_2_score;
    team_2.goals_conceded += team_1_score;</code></pre><p>quiz2 就是将 string及其指令 转化的过程</p>
<pre><code>for (string, command) in input.iter() {
    // TODO: Complete the function body. You can do it!
    let member = match command{
        Command::Uppercase =&gt; string.to_uppercase(),
        Command::Trim =&gt; string.trim().to_string(),//into()也可以，to_owned()也可以
        Command::Append(nums) =&gt; string.to_owned()+&amp;&quot;bar&quot;.repeat(*nums),//想寻找一个简单的写法，repeat就满足
    };
    output.push(member);
}</code></pre><p>to_string(), into(), to_owned(), from()区别是什么<br>一般直接使用to_owned()就好，因为很直观合理</p>
<p>&amp;str -&gt; String</p>
<p>把数据从栈中复制到堆中，成为自己的数据</p>
<p>options2：调用 pop 方法时，它会从数组的末尾移除一个元素，并返回被移除的元素作为 Option<T>。因此，在这个例子中，由于数组的类型是 Vec&lt;Option<i8>&gt;，所以 pop 方法返回的类型是 Option&lt;Option<i8>&gt;。外层的 Option 表示从数组中获取到的值，内层的 Option 表示数组中原本存储的 Option<i8> 类型的值。</i8></i8></i8></T></p>
<p>fn main() {<br>    let y: Option<Point> = Some(Point { x: 100, y: 200 });<br>    match &amp;y {<br>        Some(p) =&gt; println!(“Co-ordinates are {},{} “, p.x, p.y),<br>        _ =&gt; panic!(“no match!”),<br>    }<br>    y; // Fix without deleting this line.<br>}</Point></p>
<p>match语句的所有权问题，编译器报错说最后一行的y的value已经被moved了，很明显是match使用后，离开作用域y就失效了。</p>
<p>其实 ? 就是一个宏，它的作用跟上面的 match 几乎一模一样：</p>
<p>let mut f = match f {<br>    // 打开文件成功，将file句柄赋值给f<br>    Ok(file) =&gt;&gt; file,<br>    // 打开文件失败，将错误返回(向上传播)<br>    Err(e) =&gt;&gt; return Err(e),<br>};<br>如果结果是 Ok(T)，则把 T 赋值给 f，如果结果是 Err(E)，则返回该错误，所以 ? 特别适合用来传播错误。</p>
<pre><code>#[test]
fn item_quantity_is_an_invalid_number() {
    assert_eq!(
        total_cost(&quot;beep boop&quot;).unwrap_err().to_string(),
        &quot;invalid digit found in string&quot;
    );// unwrap_err()的意思是，将ok()或者Err()中的值取出来并报错
}</code></pre><p>main函数默认没有返回值，或者说返回值类型是()</p>
<p>let x: i64 = s.parse().map_err(ParsePosNonzeroError::from_parseint)?;</p>
<p>parse().unwrap()，这将会导致如果s不能解析为整数i64，就会直接panic掉，而使用map_err对Err()进行一些修改，捕获原本的ParseInt类型错误，而将它转化成ParsePosNonzeroError::ParseInt</p>
<p>这行代码的意思是，如果 s.parse() 解析成功，则将解析后的整数值赋值给 x；如果解析失败，? 操作符会立即返回并将 ParseIntError 转换为 ParsePosNonzeroError::ParseInt 错误，并将其作为 parse_pos_nonzero 函数的返回结果。</p>
<p>在 Rust 中，? 操作符用于简化错误处理的过程。它只能在返回 Result 或 Option 的函数中使用。当使用 ? 操作符时，编译器会自动为你处理错误的传播。</p>
<p>具体到代码中，s.parse() 返回的是一个 Result&lt;i64, ParseIntError&gt;，该结果表示解析字符串为整数的过程。如果解析成功，返回 Ok 包含解析后的整数值；如果解析失败，则返回 Err 包含一个 ParseIntError 错误。</p>
<p>泛型是个好东西</p>
<p>特征Trait<br>特征跟接口的作用类似<br>特征trait中只定义共同行为，但是不描述具体行为的实现，具体行为的实现交给符合该特征的具体类型中来实现</p>
<p>可以同时调佣两个特征中的方法</p>
<p>Rust 生命周期机制是与所有权机制同等重要的资源管理机制。</p>
<p>之所以引入这个概念主要是应对复杂类型系统中资源管理的问题。</p>
<p>引用是对待复杂类型时必不可少的机制，毕竟复杂类型的数据不能被处理器轻易地复制和计算。</p>
<p>简单来说，程序员如果对生命周期判断不好，就会引发程序的隐藏问题，并且很难被发现。而rust在编译器层次实现了生命周期的检查。与之适配的，为了通过生命周期检查，写rust的时候有时候需要手动标注生命周期（其他语言和此前的rust都是编译器自动推导生命周期）。</p>
<p>生命周期主要是解决悬垂引用问题。可以对生命周期进行下总结：生命周期语法用来将函数的多个引用参数和返回值的作用域关联到一起，一旦关联到一起后，Rust 就拥有充分的信息来确保我们的操作是内存安全的。</p>
<p>如果你询问一个 Rust 资深开发：写 Rust 项目最需要掌握什么？相信迭代器往往就是答案之一。无论你是编程新手亦或是高手，实际上大概率都用过迭代器，虽然自己可能并没有意识到这一点:)</p>
<p>迭代器允许我们迭代一个连续的集合，例如数组、动态数组 Vec、HashMap 等，在此过程中，只需关心集合中的元素如何处理，而无需关心如何开始、如何结束、按照什么样的索引去访问等问题。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/34/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/34/">34</a><span class="page-number current">35</span><a class="page-number" href="/blog/page/36/">36</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/70/">70</a><a class="extend next" rel="next" href="/blog/page/36/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">rcore-os Group</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/muse.js"></script>


<script src="/blog/js/next-boot.js"></script>


  















  

  

  

</body>
</html>
