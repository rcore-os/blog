<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/blog/lib/animate-css/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"rcore-os.github.io","root":"/blog/","scheme":"Muse","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="rcore-os Blog">
<meta property="og:url" content="http://rcore-os.github.io/blog/page/2/index.html">
<meta property="og:site_name" content="rcore-os Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="rcore-os Group">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://rcore-os.github.io/blog/page/2/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>rcore-os Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">rcore-os Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">rcore-os Group</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">221</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">212</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content index posts-expand">
          
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/24/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-lywa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/24/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-lywa/" class="post-title-link" itemprop="url">2024å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç¬¬ä¸€é˜¶æ®µæ€»ç»“-lywa</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-24 21:10:06" itemprop="dateCreated datePublished" datetime="2024-04-24T21:10:06+00:00">2024-04-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-27 00:49:10" itemprop="dateModified" datetime="2024-04-27T00:49:10+00:00">2024-04-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>#ç¬¬ä¸€é˜¶æ®µ</p>
<p>å¼€è¥å‰æå‰åˆ·äº†ä¸‹ rustlingsï¼Œè™½ç„¶è¿™æ¬¡ç»ƒä¹ ä»£ç ä¸æ˜¯æœ€æ–°çš„ rustlingsï¼Œä½†è€ƒå¯Ÿå†…å®¹æ˜¯ä¸€æ ·çš„ã€‚é™¤æ­¤ä¹‹å¤–æœ¬æ¬¡ç»ƒä¹ è¿˜æ‰©å……äº†ä¸€äº›ç¼–è¯‘å’Œæ•°æ®ç»“æ„çš„é¢˜ç›®ï¼Œæ•°æ®ç»“æ„çš„é¢˜ç›®å†™èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹å¡ã€‚ä¸è¯´äº†â€¦ LeetCode èµ°èµ·ã€‚</p>
<p>ä½œä¸ºæƒ³äº†è§£æ“ä½œç³»ç»Ÿå°ç™½ä¸€æšï¼Œå¸Œæœ›èƒ½è·Ÿå®Œå…¨ç¨‹å§ï¼ˆğŸ¤”ï¼‰ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/24/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93bosswnx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/24/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93bosswnx/" class="post-title-link" itemprop="url">2024 æ˜¥å¤å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç¬¬ä¸€é˜¶æ®µæ€»ç»“ - Nelson</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-24 20:40:46" itemprop="dateCreated datePublished" datetime="2024-04-24T20:40:46+00:00">2024-04-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-27 00:49:10" itemprop="dateModified" datetime="2024-04-27T00:49:10+00:00">2024-04-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024æ˜¥å¤å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <img src="https://blog.bosswnx.xyz/images/profile.jpg" width="100" height="100">

<p>æˆ‘å…¶å®åœ¨å»å¹´çš„æ—¶å€™å°±å¯¹è®­ç»ƒè¥ç•¥æœ‰è€³é—»ï¼Œä½†æ˜¯ç”±äºåœ¨å‡†å¤‡ç®—æ³•ç«èµ›ï¼Œå¹¶ä¸”å¯¹æœªæ¥ç ”ç©¶ç”Ÿçš„æ–¹å‘è¿˜æ²¡æœ‰ä¸€ä¸ªæ˜ç¡®çš„è§„åˆ’ï¼Œæ‰€ä»¥æ²¡æœ‰å‚åŠ ã€‚è€Œç°åœ¨ï¼Œæˆ‘åŸºæœ¬ä¸Šå·²ç»ç¡®å®šäº†æœªæ¥è¦å¾€ä½“ç³»ç»“æ„å’Œæ“ä½œç³»ç»Ÿæ–¹å‘å‘å±•ï¼Œæ‰€ä»¥ç¬¬ä¸€æ—¶é—´ä¾¿æŠ¥åå‚åŠ äº†è®­ç»ƒè¥ã€‚</p>
<p>ç¬¬ä¸€é˜¶æ®µå­¦çš„å†…å®¹æ˜¯ Rustã€‚Rust ä¹Ÿæ˜¯æˆ‘å¾ˆå–œæ¬¢çš„ä¸€é—¨è¯­è¨€ï¼Œå› ä¸ºä»–æ€§èƒ½é«˜ã€å†…å­˜å®‰å…¨ã€åˆæœ‰è‰¯å¥½çš„åŒ…ç®¡ç†å™¨æ”¯æŒï¼Œç›¸æ¯”äº Cã€C++ï¼Œå®ƒçš„è¯­è¨€è¡¨è¾¾èƒ½åŠ›æ›´åŠ å¼ºå¤§ï¼Œä¹Ÿæœ‰å¾ˆå¤šå¥½ç”¨çš„è¯­æ³•ç³–ï¼›è€Œç›¸æ¯”äº Javaã€Python ç­‰ï¼Œå®ƒåˆæ›´ä¸ºä¸¥è°¨ã€æ›´è´´è¿‘ç¡¬ä»¶ã€‚</p>
<p>ç»è¿‡è¿™ä¸€æ®µæ—¶é—´çš„å­¦ä¹ ï¼Œæˆ‘è¶Šå­¦è¶Šè§‰å¾— Rust çš„å¾ˆå¤šç‰¹æ€§å…¶å®æ˜¯ä¸ºäº†ç»™ä»–ä¸¥æ ¼çš„æ‰€æœ‰æƒæœºåˆ¶æ‰“è¡¥ä¸ã€‚æœ€æ˜æ˜¾çš„å°±æ˜¯ç”Ÿå‘½å‘¨æœŸäº†ï¼Œè¿˜æœ‰è¯¸å¦‚ <code>unsafe</code> ç­‰ã€‚åˆšå¥½æœ€è¿‘åŒæ—¶ä¹Ÿåœ¨ä¸€å®¶å…¬å¸å®ä¹ åšæ“ä½œç³»ç»Ÿå†…æ ¸å¼€å‘ï¼Œæ­£åœ¨ä½¿ç”¨ C è¯­è¨€ï¼Œå› æ­¤å¯¹è¿™ä¸¤é—¨è¯­è¨€çš„é£æ ¼æ·±æœ‰æ‰€æ„Ÿï¼š</p>
<ul>
<li>C çš„åŸåˆ™å°±æ˜¯ã€Œå®Œå…¨ç›¸ä¿¡ä½¿ç”¨è€…ã€ï¼Œå› æ­¤ä½ å¯ä»¥ç”¨ C å®ç°å‡ ä¹æ‰€æœ‰æ“ä½œï¼Œéå¸¸è‡ªç”±ã€‚ä½†æ˜¯ä¸ºäº†å®‰å…¨ï¼Œå¿…é¡»äººä¸ºè®¾è®¡ä¸€äº›è§„èŒƒæ¥è¿›è¡Œçº¦æŸã€‚</li>
<li>Rust çš„åŸåˆ™åˆ™æ˜¯ã€Œå®Œå…¨ä¸ç›¸ä¿¡ä½¿ç”¨è€…ã€ï¼Œæ‰€ä»¥ä½ ä¼šå‘ç° Rust çš„å¾ˆå¤šè¯­æ³•éƒ½æ˜¯ä¸ºäº†çº¦æŸç¨‹åºå‘˜ï¼Œå¼ºè¿«ç¨‹åºå‘˜å†™å‡ºå®‰å…¨çš„ä»£ç ã€‚ä½†æ˜¯ï¼Œæœ‰äº›æ—¶å€™ç¼–è¯‘å™¨è¿˜æ˜¯ä¸å¤Ÿèªæ˜ï¼Œæˆ–è€…è¯´æ˜¯æ— æ³•è¿›è¡Œåˆ¤æ–­ï¼Œå› æ­¤å¿…é¡»å¼€ç‚¹ç»¿ç¯â€”â€”<code>unsafe</code>ã€‚</li>
</ul>
<p>åœ¨ Rust èº«ä¸Šå¯ä»¥æ‰¾åˆ°å¾ˆå¤šä¸ºäº†å¼¥è¡¥æ‰€æœ‰æƒæœºåˆ¶è€Œè®¾è®¡çš„è¯­æ³•ï¼Œå› æ­¤åœ¨å­¦ä¹ çš„æ—¶å€™æ‰ä¼šè§‰å¾— Rust çš„è¯­æ³•å¾ˆå¤æ‚ã€‚ä¸è¿‡è¿™ç§ã€Œè¯­è¨€è§„å®šå¥½çš„è§„èŒƒã€å¯¹äºå¤šäººä¹‹é—´çš„é¡¹ç›®åˆä½œï¼Œç‰¹åˆ«æ˜¯å¼€æºæ¥è¯´ï¼Œå°±æ˜¯ä¸€ç§ä¼˜åŠ¿äº†ã€‚ç›¸æ¯”äº C è¯­è¨€é¡¹ç›®ä¹‹é—´å¯èƒ½å­˜åœ¨ä»£ç é£æ ¼ç›¸å·®å·¨å¤§çš„æƒ…å†µï¼ŒRust å†™å‡ºæ¥çš„ä»£ç åŸºæœ¬ä¸Šä¸ä¼šæœ‰å¤ªå¤§çš„é£æ ¼å·®å¼‚ï¼Œè¿™æ ·åœ¨å‚è€ƒåˆ«äººçš„ä»£ç ï¼Œä»¥åŠè´¡çŒ®ä»£ç çš„æ—¶å€™å°±ä¼šæ›´ä¸ºè½»æ¾ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/24/%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%EF%BC%9ARUST%E8%AF%AD%E6%B3%95%E7%BB%83%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/24/%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%EF%BC%9ARUST%E8%AF%AD%E6%B3%95%E7%BB%83%E4%B9%A0/" class="post-title-link" itemprop="url">ç¬¬ä¸€é˜¶æ®µï¼šRUSTè¯­æ³•ç»ƒä¹ </a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-24 17:59:12" itemprop="dateCreated datePublished" datetime="2024-04-24T17:59:12+00:00">2024-04-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-27 00:49:10" itemprop="dateModified" datetime="2024-04-27T00:49:10+00:00">2024-04-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ç¬¬ä¸€é˜¶æ®µï¼šRUSTè¯­æ³•ç»ƒä¹ "><a href="#ç¬¬ä¸€é˜¶æ®µï¼šRUSTè¯­æ³•ç»ƒä¹ " class="headerlink" title="ç¬¬ä¸€é˜¶æ®µï¼šRUSTè¯­æ³•ç»ƒä¹ "></a>ç¬¬ä¸€é˜¶æ®µï¼šRUSTè¯­æ³•ç»ƒä¹ </h1><h1 id="variables6-rs"><a href="#variables6-rs" class="headerlink" title="variables6.rs"></a>variables6.rs</h1><p>å…³äºconstï¼š</p>
<p>Rustçš„å¸¸é‡å¿…é¡»åŠ ç±»å‹ã€‚é‚£ä¸ºä»€ä¹ˆå¸¸é‡ä¸æ¨å¯¼å‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºæ•…æ„è¿™æ ·è®¾è®¡çš„ï¼ŒæŒ‡å®šç±»å‹å°±ä¸ä¼šå› ä¸ºè‡ªåŠ¨æ¨å¯¼ç±»å‹å‡ºé—®é¢˜ã€‚</p>
<p><a href="https://rustwiki.org/zh-CN/rust-by-example/custom_types/constants.html" target="_blank" rel="noopener">å¸¸é‡ - é€šè¿‡ä¾‹å­å­¦ Rust ä¸­æ–‡ç‰ˆ</a></p>
<p><a href="https://rustcc.cn/article?id=d3954670-a58a-427d-9c0c-6666051f5cc7#:~:text=const%20%E4%B8%8E%20let%20%E9%83%BD%E6%98%AF%E2%80%9C%E6%9C%89%E9%99%90%E7%94%9F%E5%91%BD%E2%80%9D%EF%BC%8C%E8%B6%85%E5%87%BA%E4%BA%86%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%83%BD%E5%BE%97%E8%A2%AB%E9%87%8A%E6%94%BE%E3%80%82%20%E8%8B%A5%E5%AE%9E%E7%8E%B0%E4%BA%86%20Drop%20trait%20%EF%BC%8C%E5%AE%83%E7%9A%84,static%20%E4%B8%8E%20const%20%E9%83%BD%E8%A6%81%E6%B1%82%20Rustacean%20%E6%98%BE%E7%A4%BA%E5%9C%B0%E6%A0%87%E6%B3%A8%E5%8F%98%E9%87%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%8C%E4%B8%8D%E6%94%AF%E6%8C%81%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD%E3%80%82%20let%20%E6%94%AF%E6%8C%81%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD%EF%BC%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%A0%87%E6%B3%A8%E9%A1%B9%E5%8F%AF%E4%BB%A5%E8%A2%AB%E7%9C%81%E7%95%A5%E3%80%82" target="_blank" rel="noopener">static, const, let å£°æ˜å˜é‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ - Rustè¯­è¨€ä¸­æ–‡ç¤¾åŒº</a></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// variables6.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint variables6` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// constç±»å‹éœ€è¦å£°æ˜å˜é‡ç±»å‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> NUMBER : <span class="built_in">i32</span> = <span class="number">3</span>;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"Number &#123;&#125;"</span>, NUMBER);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="primitive-types3-rs"><a href="#primitive-types3-rs" class="headerlink" title="primitive_types3.rs"></a>primitive_types3.rs</h1><p>æ•°ç»„ï¼ˆarrayï¼‰çš„ä¸‰è¦ç´ ï¼š</p>
<ul>
<li>é•¿åº¦å›ºå®š</li>
<li>å…ƒç´ å¿…é¡»æœ‰ç›¸åŒçš„ç±»å‹</li>
<li>ä¾æ¬¡çº¿æ€§æ’åˆ—</li>
</ul>
<p>æ•°ç»„å¿…é¡»è¦åˆå§‹åŒ–ï¼Œä»¥ä¸‹è¿™ç§å†™æ³•ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> a:[<span class="built_in">i32</span>; <span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> a.len() &gt;= <span class="number">100</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Wow, that's a big array!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Meh, I eat arrays like that for breakfast."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”¹ä¸ºè¿™æ ·å°±ç¼–è¯‘é€šè¿‡ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> a:[<span class="built_in">i32</span>; <span class="number">100</span>] = [<span class="number">0</span>; <span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> a.len() &gt;= <span class="number">100</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Wow, that's a big array!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Meh, I eat arrays like that for breakfast."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="vecs2-rs"><a href="#vecs2-rs" class="headerlink" title="vecs2.rs"></a>vecs2.rs</h1><p><code>iter_mut():</code> </p>
<p>iter_mut() åˆ›å»ºä¸€ä¸ª<strong>å¯å˜å¼•ç”¨è¿­ä»£å™¨</strong>ã€‚å½“ä½ æƒ³è¦<strong>ä¿®æ”¹é›†åˆä¸­çš„å…ƒç´ æ—¶</strong>ï¼Œåº”ä½¿ç”¨ iter_mut()ã€‚iter_mut() è¿”å›çš„è¿­ä»£å™¨å°†ç”Ÿæˆé›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„å¯å˜å¼•ç”¨ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> v = <span class="built_in">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> v.iter_mut() &#123;</span><br><span class="line">	*i += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="move-semantics2-rs"><a href="#move-semantics2-rs" class="headerlink" title="move_semantics2.rs"></a>move_semantics2.rs</h1><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// move_semantics2.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Expected output:</span></span><br><span class="line"><span class="comment">// vec0 has length 3, with contents `[22, 44, 66]`</span></span><br><span class="line"><span class="comment">// vec1 has length 4, with contents `[22, 44, 66, 88]`</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint move_semantics2` or use the `hint` watch subcommand</span></span><br><span class="line"><span class="comment">// for a hint.</span></span><br></pre></td></tr></table></figure>

<p><strong>æ–¹æ³•1ï¼š</strong></p>
<p>å°†vec0çš„å†…å®¹cloneä¸€ä»½ä¼ è¿›å‡½æ•°ï¼Œç„¶åè¿”å›å€¼çš„æ‰€æœ‰æƒäº¤ç»™vec1ï¼Œæ­¤æ—¶vec1=[22, 44, 66]ï¼Œvec0=[]</p>
<p>ç„¶åå†æŠŠvec0çš„å†…å®¹cloneä¸€ä»½ä¼ è¿›å‡½æ•°ï¼Œç„¶åè¿”å›å€¼çš„æ‰€æœ‰æƒäº¤ç»™vec0ï¼Œæ­¤æ—¶vec1=[22, 44, 66]ï¼Œvec0=[22, 44, 66]</p>
<p>è¿™ä¸ªæ—¶å€™ä¸ç®¡æ˜¯vec0è¿˜æ˜¯vec1éƒ½æ‹¥æœ‰ä¸€ç‰‡è‡ªå·±çš„å †ä¸Šçš„ç©ºé—´ï¼ŒäºŒè€…äº’ä¸ç›¸å…³ï¼Œå› æ­¤vec1.push(88)åªä¼šæ”¹å˜vec1çš„å€¼ï¼Œä¸”vec0çš„å€¼ä¹Ÿè¿˜å­˜åœ¨</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> vec0 = <span class="built_in">Vec</span>::new();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> vec1 = fill_vec(vec0.clone());</span><br><span class="line">    vec0 = fill_vec(vec0.clone());</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; has length &#123;&#125;, with contents: `&#123;:?&#125;`"</span>, <span class="string">"vec0"</span>, vec0.len(), vec0);</span><br><span class="line"></span><br><span class="line">    vec1.push(<span class="number">88</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; has length &#123;&#125;, with contents `&#123;:?&#125;`"</span>, <span class="string">"vec1"</span>, vec1.len(), vec1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">fill_vec</span></span>(vec: <span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt;) -&gt; <span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> vec = vec;</span><br><span class="line"></span><br><span class="line">    vec.push(<span class="number">22</span>);</span><br><span class="line">    vec.push(<span class="number">44</span>);</span><br><span class="line">    vec.push(<span class="number">66</span>);</span><br><span class="line"></span><br><span class="line">    vec</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ–¹æ³•2ï¼š</strong></p>
<p>é¦–å…ˆï¼Œåˆ›å»ºäº†vec0çš„ä¸€ä¸ªå¯å˜å¼•ç”¨&amp;mut vec0ï¼Œå°†è¿™ä¸ªå¯å˜å¼•ç”¨ä¼ å…¥å‡½æ•°ï¼Œå‡½æ•°æ¥å—ä¸€ä¸ªå¯å˜å¼•ç”¨ç±»å‹ï¼Œç„¶åå¯¹å…¶è¿›è¡Œæ“ä½œï¼Œä¹Ÿå°±æ˜¯æ“ä½œäº†vec0æŒ‡å‘çš„é‚£ç‰‡å †ï¼Œå› æ­¤åœ¨å‡½æ•°å†…éƒ¨ï¼Œvec0å°±å·²ç»å˜æˆäº†[22, 44, 66]</p>
<p>ç„¶åæœ€åè¿”å›vec.to_vec()ï¼Œç›¸å½“äºåˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„vecï¼Œä½œä¸ºvec1ç»‘å®šçš„å€¼ï¼Œå› æ­¤vec1å’Œvec0åˆå˜æˆäº†äº’ä¸ç›¸å…³çš„</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> vec0 = <span class="built_in">Vec</span>::new();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> vec1 = fill_vec(&amp;<span class="keyword">mut</span> vec0); </span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; has length &#123;&#125;, with contents: `&#123;:?&#125;`"</span>, <span class="string">"vec0"</span>, vec0.len(), vec0);</span><br><span class="line"></span><br><span class="line">    vec1.push(<span class="number">88</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; has length &#123;&#125;, with contents `&#123;:?&#125;`"</span>, <span class="string">"vec1"</span>, vec1.len(), vec1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">fill_vec</span></span>(vec: &amp;<span class="keyword">mut</span> <span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt;) -&gt; <span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> vec = vec;</span><br><span class="line"></span><br><span class="line">    vec.push(<span class="number">22</span>);</span><br><span class="line">    vec.push(<span class="number">44</span>);</span><br><span class="line">    vec.push(<span class="number">66</span>);</span><br><span class="line"></span><br><span class="line">    vec.to_vec()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="move-semantics4-rs"><a href="#move-semantics4-rs" class="headerlink" title="move_semantics4.rs"></a>move_semantics4.rs</h1><p>è¿™ä¸ªçš„æ„æ€å°±æ˜¯å‡½æ•°ä¸å†æ¥æ”¶å‚æ•°ï¼Œè€Œæ˜¯ç›´æ¥åœ¨é‡Œé¢æ–°åˆ›å»ºä¸€ä¸ªåŒ…å«[22, 44, 66]çš„vectorè¿”å›</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// move_semantics4.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Refactor this code so that instead of passing `vec0` into the `fill_vec`</span></span><br><span class="line"><span class="comment">// function, the Vector gets created in the function itself and passed back to</span></span><br><span class="line"><span class="comment">// the main function.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint move_semantics4` or use the `hint` watch subcommand</span></span><br><span class="line"><span class="comment">// for a hint.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="comment">// let vec0 = Vec::new();</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> vec1 = fill_vec();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; has length &#123;&#125; content `&#123;:?&#125;`"</span>, <span class="string">"vec1"</span>, vec1.len(), vec1);</span><br><span class="line"></span><br><span class="line">    vec1.push(<span class="number">88</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125; has length &#123;&#125; content `&#123;:?&#125;`"</span>, <span class="string">"vec1"</span>, vec1.len(), vec1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// `fill_vec()` no longer takes `vec: Vec&lt;i32&gt;` as argument</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">fill_vec</span></span>() -&gt; <span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> vec = <span class="built_in">Vec</span>::new();</span><br><span class="line"></span><br><span class="line">    vec.push(<span class="number">22</span>);</span><br><span class="line">    vec.push(<span class="number">44</span>);</span><br><span class="line">    vec.push(<span class="number">66</span>);</span><br><span class="line"></span><br><span class="line">    vec</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="structs3-rs"><a href="#structs3-rs" class="headerlink" title="structs3.rs"></a>structs3.rs</h1><p><strong>ç»“æ„ä½“ï¼Œæœ‰å‡ ç‚¹å€¼å¾—æ³¨æ„:</strong></p>
<ol>
<li>åˆå§‹åŒ–å®ä¾‹æ—¶ï¼Œ<strong>æ¯ä¸ªå­—æ®µ</strong>éƒ½éœ€è¦è¿›è¡Œåˆå§‹åŒ–</li>
<li>åˆå§‹åŒ–æ—¶çš„å­—æ®µé¡ºåº<strong>ä¸éœ€è¦</strong>å’Œç»“æ„ä½“å®šä¹‰æ—¶çš„é¡ºåºä¸€è‡´</li>
</ol>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»è¦å°†ç»“æ„ä½“å®ä¾‹å£°æ˜ä¸ºå¯å˜çš„ï¼Œæ‰èƒ½ä¿®æ”¹å…¶ä¸­çš„å­—æ®µï¼ŒRust ä¸æ”¯æŒå°†æŸä¸ªç»“æ„ä½“æŸä¸ªå­—æ®µæ ‡è®°ä¸ºå¯å˜ã€‚</p>
<p><strong>ç»“æ„ä½“æ–¹æ³•ï¼š</strong></p>
<ul>
<li><p><strong>Unlike functions, methods are defined within the context of a structï¼Œ</strong>and their <strong>first parameter</strong> is always <code>self</code>, which represents the instance of the struct the method is being called on.</p>
</li>
<li><p>we still need to use the <code>&amp;</code> in front of the <code>self</code> shorthand to indicate that this method borrows the <code>Self</code> instance, just as we did in <code>rectangle: &amp;Rectangle</code>. Methods can take ownership of <code>self</code>, borrow <code>self</code> <strong>immutably</strong>, as weâ€™ve done here, or borrow <code>self</code> <strong>mutably</strong>, just as they can any other parameter.</p>
</li>
<li><p>æ–¹æ³•å‚æ•°é‡Œé¢ä¸æ­¢&amp;selfï¼š<code>package.get_fees(cents_per_gram)</code></p>
<p>æ¯”å¦‚è¿™ä¸ªï¼Œget_feesæ˜¯ç»“æ„ä½“çš„æ–¹æ³•ï¼Œå®ƒåœ¨ç»“æ„ä½“é‡Œé¢æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">get_fees</span></span>(&amp;<span class="keyword">self</span>, cents_per_gram: <span class="built_in">i32</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">    <span class="comment">// Something goes here...</span></span><br><span class="line">    <span class="keyword">self</span>.weight_in_grams*cents_per_gram</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬äºŒä¸ªå‚æ•°è·Ÿåœ¨&amp;selfåé¢å°±å¥½äº†ï¼Œåœ¨å¤–éƒ¨è°ƒç”¨ç»“æ„ä½“æ—¶åªéœ€è¦ä¼ å…¥é‚£ä¸ªå¦å¤–çš„å‚æ•°</p>
</li>
</ul>
<p><strong>ä¾‹å­ï¼š</strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// structs3.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Structs contain data, but can also have logic. In this exercise we have</span></span><br><span class="line"><span class="comment">// defined the Package struct and we want to test some logic attached to it.</span></span><br><span class="line"><span class="comment">// Make the code compile and the tests pass!</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint structs3` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// I AM NOT DONE</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Package</span></span> &#123;</span><br><span class="line">    sender_country: <span class="built_in">String</span>,</span><br><span class="line">    recipient_country: <span class="built_in">String</span>,</span><br><span class="line">    weight_in_grams: <span class="built_in">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> Package &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">new</span></span>(sender_country: <span class="built_in">String</span>, recipient_country: <span class="built_in">String</span>, weight_in_grams: <span class="built_in">i32</span>) -&gt; Package &#123;</span><br><span class="line">        <span class="keyword">if</span> weight_in_grams &lt;= <span class="number">0</span> &#123;</span><br><span class="line">            <span class="built_in">panic!</span>(<span class="string">"Can not ship a weightless package."</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Package &#123;</span><br><span class="line">                sender_country,</span><br><span class="line">                recipient_country,</span><br><span class="line">                weight_in_grams,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">is_international</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">        <span class="comment">// Something goes here...</span></span><br><span class="line">        <span class="keyword">self</span>.sender_country != <span class="keyword">self</span>.recipient_country</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">get_fees</span></span>(&amp;<span class="keyword">self</span>, cents_per_gram: <span class="built_in">i32</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">        <span class="comment">// Something goes here...</span></span><br><span class="line">        <span class="keyword">self</span>.weight_in_grams*cents_per_gram</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[cfg(test)]</span></span><br><span class="line"><span class="keyword">mod</span> tests &#123;</span><br><span class="line">    <span class="keyword">use</span> super::*;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="meta">#[should_panic]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">fail_creating_weightless_package</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> sender_country = <span class="built_in">String</span>::from(<span class="string">"Spain"</span>);</span><br><span class="line">        <span class="keyword">let</span> recipient_country = <span class="built_in">String</span>::from(<span class="string">"Austria"</span>);</span><br><span class="line"></span><br><span class="line">        Package::new(sender_country, recipient_country, -<span class="number">2210</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">create_international_package</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> sender_country = <span class="built_in">String</span>::from(<span class="string">"Spain"</span>);</span><br><span class="line">        <span class="keyword">let</span> recipient_country = <span class="built_in">String</span>::from(<span class="string">"Russia"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> package = Package::new(sender_country, recipient_country, <span class="number">1200</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">assert!</span>(package.is_international());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">create_local_package</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> sender_country = <span class="built_in">String</span>::from(<span class="string">"Canada"</span>);</span><br><span class="line">        <span class="keyword">let</span> recipient_country = sender_country.clone();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> package = Package::new(sender_country, recipient_country, <span class="number">1200</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">assert!</span>(!package.is_international());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">calculate_transport_fees</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> sender_country = <span class="built_in">String</span>::from(<span class="string">"Spain"</span>);</span><br><span class="line">        <span class="keyword">let</span> recipient_country = <span class="built_in">String</span>::from(<span class="string">"Spain"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> cents_per_gram = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> package = Package::new(sender_country, recipient_country, <span class="number">1500</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">assert_eq!</span>(package.get_fees(cents_per_gram), <span class="number">4500</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(package.get_fees(cents_per_gram * <span class="number">2</span>), <span class="number">9000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="enums2-rs"><a href="#enums2-rs" class="headerlink" title="enums2.rs"></a>enums2.rs</h1><p>æ›´ä¸ºå¤æ‚çš„æšä¸¾ï¼š</p>
<p>Moveï¼šåŒ…å«äº†ä¸€ä¸ªåŒ¿åç»“æ„ä½“</p>
<p>Echoï¼šåŒ…å«äº†ä¸€ä¸ªString</p>
<p>ChangeColorï¼šåŒ…å«äº†ä¸‰ä¸ªæ•´æ•°</p>
<p>Quitï¼šæ²¡æœ‰å…³è”ä»»ä½•æ•°æ®</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Message</span></span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> define the different variants used below</span></span><br><span class="line">    Move &#123; x: <span class="built_in">i32</span>, y: <span class="built_in">i32</span> &#125;,</span><br><span class="line">    Echo(<span class="built_in">String</span>),</span><br><span class="line">    ChangeColor(<span class="built_in">i32</span>, <span class="built_in">i32</span>, <span class="built_in">i32</span>),</span><br><span class="line">    Quit</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="enums3-rs"><a href="#enums3-rs" class="headerlink" title="enums3.rs"></a>enums3.rs</h1><p>æ¨¡å¼åŒ¹é…å’Œæ¨¡å¼ç»‘å®š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// enums3.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Address all the TODOs to make the tests pass!</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint enums3` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// I AM NOT DONE</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Message</span></span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement the message variant types based on their usage below</span></span><br><span class="line">    ChangeColor(<span class="built_in">u8</span>, <span class="built_in">u8</span>, <span class="built_in">u8</span>),</span><br><span class="line">    Echo(<span class="built_in">String</span>),</span><br><span class="line">    Move(Point),</span><br><span class="line">    Quit</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span> &#123;</span><br><span class="line">    x: <span class="built_in">u8</span>,</span><br><span class="line">    y: <span class="built_in">u8</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">State</span></span> &#123;</span><br><span class="line">    color: (<span class="built_in">u8</span>, <span class="built_in">u8</span>, <span class="built_in">u8</span>),</span><br><span class="line">    position: Point,</span><br><span class="line">    quit: <span class="built_in">bool</span>,</span><br><span class="line">    message: <span class="built_in">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> State &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">change_color</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, color: (<span class="built_in">u8</span>, <span class="built_in">u8</span>, <span class="built_in">u8</span>)) &#123;</span><br><span class="line">        <span class="keyword">self</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">quit</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.quit = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">echo</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, s: <span class="built_in">String</span>) &#123; <span class="keyword">self</span>.message = s &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">move_position</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, p: Point) &#123;</span><br><span class="line">        <span class="keyword">self</span>.position = p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">process</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, message: Message) &#123;</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> create a match expression to process the different message</span></span><br><span class="line">        <span class="comment">// variants</span></span><br><span class="line">        <span class="comment">// Remember: When passing a tuple as a function argument, you'll need</span></span><br><span class="line">        <span class="comment">// extra parentheses: fn function((t, u, p, l, e))</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ¨¡å¼åŒ¹é…message</span></span><br><span class="line">        <span class="keyword">match</span> message &#123;</span><br><span class="line">		        <span class="comment">// ç»“æ„æšä¸¾ç±»å‹ç»‘å®šçš„å€¼ï¼Œç›¸å½“äºè¿˜å®Œæˆäº†è¯­å¥ï¼šMessage::ChangeColor(r,g,b)=message</span></span><br><span class="line">            Message::ChangeColor(r, g, b) =&gt; &#123;</span><br><span class="line">                <span class="keyword">self</span>.change_color((r, g, b));</span><br><span class="line">            &#125;</span><br><span class="line">            Message::Echo(text) =&gt; &#123;</span><br><span class="line">                <span class="keyword">self</span>.echo(text);</span><br><span class="line">            &#125;,</span><br><span class="line">            Message::Move(point) =&gt; &#123;</span><br><span class="line">                <span class="keyword">self</span>.move_position(point);</span><br><span class="line">            &#125;</span><br><span class="line">            Message::Quit =&gt; &#123;</span><br><span class="line">                <span class="keyword">self</span>.quit();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[cfg(test)]</span></span><br><span class="line"><span class="keyword">mod</span> tests &#123;</span><br><span class="line">    <span class="keyword">use</span> super::*;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">test_match_message_call</span></span>() &#123;</span><br><span class="line">		    <span class="comment">// åˆ›å»ºäº†ä¸€ä¸ªç»“æ„ä½“å˜é‡stateï¼Œå¹¶ä¸ºå…¶èµ‹å€¼ </span></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> state = State &#123;</span><br><span class="line">            quit: <span class="literal">false</span>,</span><br><span class="line">            position: Point &#123; x: <span class="number">0</span>, y: <span class="number">0</span> &#125;,</span><br><span class="line">            color: (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">            message: <span class="string">"hello world"</span>.to_string(),</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// è°ƒç”¨ç»“æ„ä½“å†…çš„æ–¹æ³•processï¼Œå‚æ•°ä¸ºæšä¸¾ç±»å‹ï¼Œæ¯ä¸ªç±»å‹ç»‘å®šäº†ä¸€ä¸ªå€¼</span></span><br><span class="line">        state.process(Message::ChangeColor(<span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>));</span><br><span class="line">        state.process(Message::Echo(<span class="built_in">String</span>::from(<span class="string">"hello world"</span>)));</span><br><span class="line">        state.process(Message::Move(Point &#123; x: <span class="number">10</span>, y: <span class="number">15</span> &#125;));</span><br><span class="line">        state.process(Message::Quit);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">assert_eq!</span>(state.color, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>));</span><br><span class="line">        <span class="built_in">assert_eq!</span>(state.position.x, <span class="number">10</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(state.position.y, <span class="number">15</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(state.quit, <span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(state.message, <span class="string">"hello world"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="strings3-rs"><a href="#strings3-rs" class="headerlink" title="strings3.rs"></a>strings3.rs</h1><ul>
<li><p>å­—ç¬¦ä¸²çš„å­—é¢é‡æ˜¯åˆ‡ç‰‡</p>
<p>ä¸€èˆ¬å†™å­—ç¬¦ä¸²å¯ä»¥è¿™æ ·å†™ï¼š<code>let s = &quot;Hello, world!&quot;;</code></p>
<p>å®é™…ä¸Šï¼Œ<code>s</code> çš„ç±»å‹æ˜¯ <code>&amp;str</code>ï¼Œå› æ­¤ä½ ä¹Ÿå¯ä»¥è¿™æ ·å£°æ˜ï¼š<code>let s: &amp;str = &quot;Hello, world!&quot;;</code></p>
</li>
<li><p>Stringè½¬&amp;strï¼šå–å¼•ç”¨å³å¯</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s = <span class="built_in">String</span>::from(<span class="string">"hello,world!"</span>);</span><br><span class="line">    say_hello(&amp;s);</span><br><span class="line">    say_hello(&amp;s[..]);</span><br><span class="line">    say_hello(s.as_str());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">say_hello</span></span>(s: &amp;<span class="built_in">str</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>,s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>&amp;strè½¬Stringï¼š<code>&quot;hello,world&quot;.to_string()</code>æˆ–è€…<code>String::from(&quot;hello,world&quot;)</code></p>
</li>
<li><p>Stringçš„æ“ä½œï¼ˆå¿…é¡»æŠŠStringå£°æ˜ä¸ºmutï¼‰</p>
<p>ç”±äº <code>String</code> æ˜¯å¯å˜å­—ç¬¦ä¸²ï¼Œå› æ­¤åªæœ‰<code>String</code> è¿™ç§å­—ç¬¦ä¸²å¯ä»¥è¢«æ“ä½œæ›´æ”¹</p>
<ul>
<li><p><code>push()</code>ï¼Œåœ¨æœ«å°¾è¿½åŠ å­—ç¬¦ï¼›<code>push_str()</code> ï¼Œåœ¨æœ«å°¾è¿½åŠ å­—ç¬¦ä¸²</p>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯<strong>åœ¨åŸæœ‰çš„å­—ç¬¦ä¸²ä¸Šè¿½åŠ ï¼Œå¹¶ä¸ä¼šè¿”å›æ–°çš„å­—ç¬¦ä¸²ï¼Œå³è¿”å›å€¼æ˜¯()</strong></p>
</li>
<li><p><code>insert()</code> æ–¹æ³•æ’å…¥å•ä¸ªå­—ç¬¦ï¼Œ<code>insert_str()</code> æ–¹æ³•æ’å…¥å­—ç¬¦ä¸²å­—é¢é‡</p>
<p>ä¹Ÿæ˜¯<strong>åœ¨åŸæœ‰çš„å­—ç¬¦ä¸²ä¸Šé¢æ“ä½œï¼Œæ²¡æœ‰è¿”å›å€¼</strong></p>
</li>
<li><p><code>replace</code>è¯¥æ–¹æ³•å¯é€‚ç”¨äº <code>String</code> å’Œ <code>&amp;str</code> ç±»å‹</p>
<p><strong>è¯¥æ–¹æ³•æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯æ“ä½œåŸæ¥çš„å­—ç¬¦ä¸²</strong></p>
</li>
</ul>
</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// strings3.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint strings3` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// I AM NOT DONE</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">trim_me</span></span>(input: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">String</span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> Remove whitespace from both ends of a string!</span></span><br><span class="line">    input.trim().to_string()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">compose_me</span></span>(input: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">String</span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> Add " world!" to the string! There's multiple ways to do this!</span></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> ret: <span class="built_in">String</span> = input.to_string();</span><br><span class="line">    ret.push_str(<span class="string">" world!"</span>); </span><br><span class="line">    <span class="comment">// push_stræ²¡æœ‰è¿”å›å€¼ï¼Œå› æ­¤å•ç‹¬è¿”å›ret</span></span><br><span class="line">    ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">replace_me</span></span>(input: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">String</span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> Replace "cars" in the string with "balloons"!</span></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> ret: <span class="built_in">String</span> = input.to_string();</span><br><span class="line">    <span class="comment">// replace()ç›´æ¥è¿”å›æ–°çš„å­—ç¬¦ä¸²</span></span><br><span class="line">	  ret.replace(<span class="string">"cars"</span>,<span class="string">"balloons"</span>) </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[cfg(test)]</span></span><br><span class="line"><span class="keyword">mod</span> tests &#123;</span><br><span class="line">    <span class="keyword">use</span> super::*;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">trim_a_string</span></span>() &#123;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(trim_me(<span class="string">"Hello!     "</span>), <span class="string">"Hello!"</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(trim_me(<span class="string">"  What's up!"</span>), <span class="string">"What's up!"</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(trim_me(<span class="string">"   Hola!  "</span>), <span class="string">"Hola!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">compose_a_string</span></span>() &#123;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(compose_me(<span class="string">"Hello"</span>), <span class="string">"Hello world!"</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(compose_me(<span class="string">"Goodbye"</span>), <span class="string">"Goodbye world!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">replace_a_string</span></span>() &#123;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(replace_me(<span class="string">"I think cars are cool"</span>), <span class="string">"I think balloons are cool"</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(replace_me(<span class="string">"I love to look at cars"</span>), <span class="string">"I love to look at balloons"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="hashmaps2-rs"><a href="#hashmaps2-rs" class="headerlink" title="hashmaps2.rs"></a>hashmaps2.rs</h1><p><strong>é—®é¢˜1ï¼š</strong></p>
<p>å…³äºhashmapçš„æ›´æ–°å®ä¾‹ä¸­ï¼šä¸ºä»€ä¹ˆä¿®æ”¹countçš„å€¼å°±å¯ä»¥ä¿®æ”¹hashmapçš„é”®å€¼å‘¢ï¼Ÿ</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::collections::HashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> text = <span class="string">"hello world wonderful world"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> map = HashMap::new();</span><br><span class="line"><span class="comment">// æ ¹æ®ç©ºæ ¼æ¥åˆ‡åˆ†å­—ç¬¦ä¸²(è‹±æ–‡å•è¯éƒ½æ˜¯é€šè¿‡ç©ºæ ¼åˆ‡åˆ†)</span></span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> text.split_whitespace() &#123;</span><br><span class="line">    <span class="keyword">let</span> count = map.entry(word).or_insert(<span class="number">0</span>);</span><br><span class="line">    *count += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, map);</span><br></pre></td></tr></table></figure>

<p><strong>è§£ç­”ï¼š</strong></p>
<p><strong><code>map.entry(word)</code></strong> è¿”å›äº†ä¸€ä¸ª <strong><code>Entry</code></strong> æšä¸¾ç±»å‹çš„å€¼ï¼Œè¯¥æšä¸¾æœ‰ä¸¤ä¸ªå˜ä½“ï¼š<strong><code>Occupied</code></strong> å’Œ <strong><code>Vacant</code></strong>ã€‚<strong><code>Entry</code></strong> æšä¸¾è¡¨ç¤º <strong><code>HashMap</code></strong> ä¸­æŸä¸ªé”®å¯¹åº”çš„æ¡ç›®ã€‚</p>
<p>å½“è°ƒç”¨ <strong><code>or_insert</code></strong> æ–¹æ³•æ—¶ï¼Œå¦‚æœ <strong><code>word</code></strong> å¯¹åº”çš„æ¡ç›®å·²ç»å­˜åœ¨ï¼Œåˆ™ <strong><code>or_insert</code></strong> æ–¹æ³•ä¼šè¿”å›è¯¥æ¡ç›®çš„å€¼çš„å¯å˜å¼•ç”¨ï¼ˆ<strong><code>Occupied</code></strong> å˜ä½“ï¼‰ï¼Œå¦‚æœè¯¥æ¡ç›®ä¸å­˜åœ¨ï¼Œåˆ™ä¼šåœ¨ <strong><code>map</code></strong> ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„é”®å€¼å¯¹ï¼Œç„¶åè¿”å›æ–°æ’å…¥çš„å€¼çš„å¯å˜å¼•ç”¨ï¼ˆ<strong><code>Vacant</code></strong> å˜ä½“ï¼‰</p>
<p><strong>é—®é¢˜2ï¼š</strong></p>
<p>è¿™é“é¢˜é‡Œé¢æœ‰è¿™æ ·ä¸€ä¸ªè¯­å¥ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">**<span class="keyword">let</span> <span class="keyword">mut</span> basket = get_fruit_basket();</span><br><span class="line"><span class="built_in">assert_eq!</span>(*basket.get(&amp;Fruit::Apple).unwrap(), <span class="number">4</span>);**</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œbasketæ˜¯è¿™æ ·æ¥çš„ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">get_fruit_basket</span></span>() -&gt; HashMap&lt;Fruit, <span class="built_in">u32</span>&gt; &#123;</span><br><span class="line">	  <span class="keyword">let</span> <span class="keyword">mut</span> basket = HashMap::&lt;Fruit, <span class="built_in">u32</span>&gt;::new();</span><br><span class="line">	  basket.insert(Fruit::Apple, <span class="number">4</span>);</span><br><span class="line">	  basket.insert(Fruit::Mango, <span class="number">2</span>);</span><br><span class="line">	  basket.insert(Fruit::Lychee, <span class="number">5</span>);</span><br><span class="line">	</span><br><span class="line">	  basket</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ï¼Œä¸ºä»€ä¹ˆbasketå·²ç»æ˜¯ä¸€ä¸ªhashmapäº†ï¼Œè¿˜è¦ç”¨*è§£å¼•ç”¨å‘¢ï¼Ÿ</p>
<p><strong>è§£ç­”ï¼š</strong></p>
<p>*è§£å¼•ç”¨è§£çš„ä¸æ˜¯basketï¼Œè€Œæ˜¯basket.get(&amp;Fruit::Apple)ï¼Œå› ä¸ºgetä¼šè¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥æ¡ç›®é”®å€¼çš„å¼•ç”¨</p>
<p>è·Ÿè¿™æ®µä»£ç ä¸€ä¸ªé“ç†ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> scores = HashMap::new();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢Yellowå¯¹åº”çš„å€¼ï¼Œè‹¥ä¸å­˜åœ¨åˆ™æ’å…¥æ–°å€¼</span></span><br><span class="line"><span class="keyword">let</span> v = scores.entry(<span class="string">"Yellow"</span>).or_insert(<span class="number">5</span>);</span><br><span class="line"><span class="built_in">assert_eq!</span>(*v, <span class="number">5</span>); <span class="comment">// ä¸å­˜åœ¨ï¼Œæ’å…¥5</span></span><br></pre></td></tr></table></figure>

<p>or_insert()ä¼šè¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥æ¡ç›®é”®å€¼çš„å¼•ç”¨ï¼Œå› æ­¤ä¹Ÿéœ€è¦æŠŠå®ƒè§£å¼•ç”¨æ¥è·Ÿ5æ¯”è¾ƒ</p>
<h1 id="quiz2-rs"><a href="#quiz2-rs" class="headerlink" title="quiz2.rs"></a>quiz2.rs</h1><p>è¿™é“é¢˜ä¸»è¦æ³¨æ„Appendè¿™ä¸ªå‘½ä»¤ï¼šè¿­ä»£å™¨æ˜¯å‘é‡ä¸­æ¯ä¸ªå…ƒç´ çš„å¼•ç”¨ï¼ˆæƒ³æƒ³è¿™æ˜¯è‚¯å®šçš„ï¼Œä¸ç„¶åœ¨forå¾ªç¯é‡Œé¢æ‰€æœ‰æƒéƒ½ä¸¢å¤±äº†çš„è¯æœ‰ç‚¹å¤ªå±é™©ï¼‰ï¼Œè€Œè¿™ç§å¼•ç”¨é»˜è®¤å°±æ˜¯ä¸å¯å˜å¼•ç”¨ï¼Œé‚£ä¹ˆä½¿ç”¨Stringç±»å‹çš„push_str()è‡ªç„¶å°±æ˜¯è¦æŠ¥é”™çš„ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•æ˜¯æ”¹å˜åŸå­—ç¬¦ä¸²è€Œä¸æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// quiz2.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// This is a quiz for the following sections:</span></span><br><span class="line"><span class="comment">// - Strings</span></span><br><span class="line"><span class="comment">// - Vecs</span></span><br><span class="line"><span class="comment">// - Move semantics</span></span><br><span class="line"><span class="comment">// - Modules</span></span><br><span class="line"><span class="comment">// - Enums</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Let's build a little machine in the form of a function. As input, we're going</span></span><br><span class="line"><span class="comment">// to give a list of strings and commands. These commands determine what action</span></span><br><span class="line"><span class="comment">// is going to be applied to the string. It can either be:</span></span><br><span class="line"><span class="comment">// - Uppercase the string</span></span><br><span class="line"><span class="comment">// - Trim the string</span></span><br><span class="line"><span class="comment">// - Append "bar" to the string a specified amount of times</span></span><br><span class="line"><span class="comment">// The exact form of this will be:</span></span><br><span class="line"><span class="comment">// - The input is going to be a Vector of a 2-length tuple,</span></span><br><span class="line"><span class="comment">//   the first element is the string, the second one is the command.</span></span><br><span class="line"><span class="comment">// - The output element is going to be a Vector of strings.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// No hints this time!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">enum</span> <span class="title">Command</span></span> &#123;</span><br><span class="line">    Uppercase,</span><br><span class="line">    Trim,</span><br><span class="line">    Append(<span class="built_in">usize</span>),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">mod</span> my_module &#123;</span><br><span class="line">    <span class="keyword">use</span> super::Command;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> Complete the function signature!</span></span><br><span class="line">    <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">transformer</span></span>(input: <span class="built_in">Vec</span>&lt;(<span class="built_in">String</span>, Command)&gt;) -&gt; <span class="built_in">Vec</span>&lt;<span class="built_in">String</span>&gt; &#123;</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> Complete the output declaration!</span></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> output: <span class="built_in">Vec</span>&lt;<span class="built_in">String</span>&gt; = <span class="built_in">vec!</span>[];</span><br><span class="line">        <span class="keyword">for</span> (string, command) <span class="keyword">in</span> input.iter() &#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> Complete the function body. You can do it!</span></span><br><span class="line">            <span class="keyword">match</span> command &#123;</span><br><span class="line">                Command::Uppercase =&gt; &#123;</span><br><span class="line">                    output.push(string.to_uppercase());</span><br><span class="line">                &#125;,</span><br><span class="line">                Command::Trim =&gt; &#123;</span><br><span class="line">                    output.push(string.trim().to_string());</span><br><span class="line">                &#125;,</span><br><span class="line">                Command::Append(size) =&gt; &#123;</span><br><span class="line">                    <span class="keyword">let</span> <span class="keyword">mut</span> appened_str = string.clone();</span><br><span class="line">                    appened_str.push_str(&amp;<span class="string">"bar"</span>.repeat(*size));</span><br><span class="line">                    output.push(appened_str);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        output</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[cfg(test)]</span></span><br><span class="line"><span class="keyword">mod</span> tests &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> What do we need to import to have `transformer` in scope?</span></span><br><span class="line">    <span class="keyword">use</span> super::my_module::transformer;</span><br><span class="line">    <span class="keyword">use</span> super::Command;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">it_works</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> output = transformer(<span class="built_in">vec!</span>[</span><br><span class="line">            (<span class="string">"hello"</span>.into(), Command::Uppercase),</span><br><span class="line">            (<span class="string">" all roads lead to rome! "</span>.into(), Command::Trim),</span><br><span class="line">            (<span class="string">"foo"</span>.into(), Command::Append(<span class="number">1</span>)),</span><br><span class="line">            (<span class="string">"bar"</span>.into(), Command::Append(<span class="number">5</span>)),</span><br><span class="line">        ]);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(output[<span class="number">0</span>], <span class="string">"HELLO"</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(output[<span class="number">1</span>], <span class="string">"all roads lead to rome!"</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(output[<span class="number">2</span>], <span class="string">"foobar"</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(output[<span class="number">3</span>], <span class="string">"barbarbarbarbarbar"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="options2-rs"><a href="#options2-rs" class="headerlink" title="options2.rs"></a>options2.rs</h1><p>ä¸»è¦æ˜¯if letè¯­å¥å’Œwhile letè¯­å¥çš„ä½¿ç”¨</p>
<p>é¦–å…ˆï¼ŒOptionå®é™…ä¸Šæ˜¯ä¸€ç§æšä¸¾ç±»å‹ï¼ŒåŒ…å«ä¸¤ä¸ªæšä¸¾æˆå‘˜ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Option</span></span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="literal">Some</span>(T),</span><br><span class="line">    <span class="literal">None</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ä¸‹é¢ä»£ç ä¸­çš„if let Some(word) = optional_target {}å®é™…ä¸Šå°±æ˜¯å°†optional_targetè¿™ä¸ªæšä¸¾ç±»å‹çš„å€¼ç»“æ„åˆ°wordä¸Šï¼Œç„¶åè¿›è¡Œä¸€ä¸ªæ“ä½œ</p>
<p>while letè¯­å¥ä¹Ÿæ˜¯ä¸€ä¸ªé“ç†ï¼Œç”±äºoptional_integersçš„å…ƒç´ éƒ½æ˜¯Someç±»å‹çš„å˜é‡ï¼Œå› æ­¤é¦–å…ˆè¦æŠŠoptional_integersçš„å€¼è§£æ„åˆ°Some(integer)ä¸Šï¼Œç„¶åå†è¿›è¡Œæ“ä½œï¼Œå› æ­¤å‡ºç°ä¸€ä¸ªSomeåŒ…è£¹ä¸€ä¸ªSome</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// options2.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint options2` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#[cfg(test)]</span></span><br><span class="line"><span class="keyword">mod</span> tests &#123;</span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">simple_option</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> target = <span class="string">"rustlings"</span>;</span><br><span class="line">        <span class="keyword">let</span> optional_target = <span class="literal">Some</span>(target);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> Make this an if let statement whose value is "Some" type</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(word) = optional_target &#123;</span><br><span class="line">            <span class="built_in">assert_eq!</span>(word, target);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">layered_option</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> range = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> optional_integers: <span class="built_in">Vec</span>&lt;<span class="built_in">Option</span>&lt;<span class="built_in">i8</span>&gt;&gt; = <span class="built_in">vec!</span>[<span class="literal">None</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>..(range + <span class="number">1</span>) &#123;</span><br><span class="line">            optional_integers.push(<span class="literal">Some</span>(i));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> cursor = range;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> make this a while let statement - remember that vector.pop also</span></span><br><span class="line">        <span class="comment">// adds another layer of Option&lt;T&gt;. You can stack `Option&lt;T&gt;`s into</span></span><br><span class="line">        <span class="comment">// while let and if let.</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">let</span> <span class="literal">Some</span>(<span class="literal">Some</span>(integer)) = optional_integers.pop() &#123;</span><br><span class="line">            <span class="built_in">assert_eq!</span>(integer, cursor);</span><br><span class="line">            cursor -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">assert_eq!</span>(cursor, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…³äºif letçš„è¯¦ç»†è®²è§£</p>
<p><a href="https://rustwiki.org/zh-CN/reference/expressions/if-expr.html" target="_blank" rel="noopener">if å’Œ if let è¡¨è¾¾å¼ - Rust å‚è€ƒæ‰‹å†Œ ä¸­æ–‡ç‰ˆ</a></p>
<h1 id="options3-rs"><a href="#options3-rs" class="headerlink" title="options3.rs"></a>options3.rs</h1><p>refå’Œ&amp;ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> c = <span class="string">'Q'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// èµ‹å€¼è¯­å¥ä¸­å·¦è¾¹çš„ `ref` å…³é”®å­—ç­‰ä»·äºå³è¾¹çš„ `&amp;` ç¬¦å·ã€‚</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">ref</span> ref_c1 = c;</span><br><span class="line"><span class="keyword">let</span> ref_c2 = &amp;c;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// options3.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint options3` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// I AM NOT DONE</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span> &#123;</span><br><span class="line">    x: <span class="built_in">i32</span>,</span><br><span class="line">    y: <span class="built_in">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> y: <span class="built_in">Option</span>&lt;Point&gt; = <span class="literal">Some</span>(Point &#123; x: <span class="number">100</span>, y: <span class="number">200</span> &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">match</span> y &#123;</span><br><span class="line">        <span class="literal">Some</span>(<span class="keyword">ref</span> p) =&gt; <span class="built_in">println!</span>(<span class="string">"Co-ordinates are &#123;&#125;,&#123;&#125; "</span>, p.x, p.y),</span><br><span class="line">        _ =&gt; <span class="built_in">panic!</span>(<span class="string">"no match!"</span>),</span><br><span class="line">    &#125;</span><br><span class="line">    y; <span class="comment">// Fix without deleting this line.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="errors2-rs"><a href="#errors2-rs" class="headerlink" title="errors2.rs"></a>errors2.rs</h1><p>å…³äºerrorsï¼š</p>
<ul>
<li><p>å…³äºparseï¼š</p>
<p>parseè¿”å›çš„æ˜¯ä¸€ä¸ªResultæšä¸¾ç±»å‹ï¼ŒæˆåŠŸçš„è¯å°†ä¼šæ˜¯Result::Ok()ï¼Œå¤±è´¥æ˜¯è¯æ˜¯Result::Errï¼Œå› æ­¤æƒ³è·å–parseæˆåŠŸæ—¶è¿”å›çš„æ­£ç¡®å€¼ï¼Œéœ€è¦å°†è¿”å›å€¼unwrap()</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> astr = <span class="string">"7"</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> n = astr.parse::&lt;<span class="built_in">i32</span>&gt;().unwrap();</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, n);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> n = astr.parse::&lt;<span class="built_in">i64</span>&gt;().unwrap();</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, n);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> n = astr.parse::&lt;<span class="built_in">u32</span>&gt;().unwrap();</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, n);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> n = astr.parse::&lt;<span class="built_in">u64</span>&gt;().unwrap();</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, n);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> astr = <span class="string">"7.42"</span>;</span><br><span class="line">   <span class="keyword">let</span> n: <span class="built_in">f32</span> = astr.parse().unwrap();</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, n);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> n: <span class="built_in">f64</span> = astr.parse().unwrap();</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¤è¯†åˆ°Resultè¿™ä¸ªæšä¸¾ç±»å‹ï¼š<code>[Result](https://rustwiki.org/zh-CN/std/result/enum.Result.html)</code> æ˜¯ <code>[Option](https://rustwiki.org/zh-CN/std/option/enum.Option.html)</code> ç±»å‹çš„æ›´ä¸°å¯Œçš„ç‰ˆæœ¬ï¼Œæè¿°çš„æ˜¯å¯èƒ½çš„<strong>é”™è¯¯</strong>è€Œä¸æ˜¯å¯èƒ½çš„<strong>ä¸å­˜åœ¨</strong>ã€‚</p>
<p><a href="https://rustwiki.org/zh-CN/rust-by-example/error/result.html" target="_blank" rel="noopener">ç»“æœ Result - é€šè¿‡ä¾‹å­å­¦ Rust ä¸­æ–‡ç‰ˆ</a></p>
</li>
</ul>
<p>è€Œåšé¢˜çš„æ—¶å€™è¿™ä¸ªä¾‹å­ï¼Œè¿”å›çš„é”™è¯¯ç±»å‹æ˜¯<code>std::num::ParseIntError</code> </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// errors2.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Say we're writing a game where you can buy items with tokens. All items cost</span></span><br><span class="line"><span class="comment">// 5 tokens, and whenever you purchase items there is a processing fee of 1</span></span><br><span class="line"><span class="comment">// token. A player of the game will type in how many items they want to buy, and</span></span><br><span class="line"><span class="comment">// the `total_cost` function will calculate the total cost of the tokens. Since</span></span><br><span class="line"><span class="comment">// the player typed in the quantity, though, we get it as a string-- and they</span></span><br><span class="line"><span class="comment">// might have typed anything, not just numbers!</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Right now, this function isn't handling the error case at all (and isn't</span></span><br><span class="line"><span class="comment">// handling the success case properly either). What we want to do is: if we call</span></span><br><span class="line"><span class="comment">// the `parse` function on a string that is not a number, that function will</span></span><br><span class="line"><span class="comment">// return a `ParseIntError`, and in that case, we want to immediately return</span></span><br><span class="line"><span class="comment">// that error from our function and not try to multiply and add.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// There are at least two ways to implement this that are both correct-- but one</span></span><br><span class="line"><span class="comment">// is a lot shorter!</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint errors2` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// I AM NOT DONE</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> std::num::ParseIntError;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">total_cost</span></span>(item_quantity: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">Result</span>&lt;<span class="built_in">i32</span>, ParseIntError&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> processing_fee = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> cost_per_item = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">let</span> qty = item_quantity.parse::&lt;<span class="built_in">i32</span>&gt;();</span><br><span class="line">    <span class="comment">// å¦‚æœparse()è½¬æ¢æˆåŠŸï¼Œqtyå°†ä¼šæ˜¯ä¸€ä¸ªResult::Ok(qty)</span></span><br><span class="line">    <span class="comment">// å¦‚æœparse()è½¬æ¢å¤±è´¥ï¼Œqtyå°†ä¼šæ˜¯ä¸€ä¸ªResult::Err(ParseIntError)</span></span><br><span class="line">    <span class="keyword">match</span> qty &#123;</span><br><span class="line">        <span class="literal">Ok</span>(qty) =&gt; <span class="literal">Ok</span>(qty * cost_per_item + processing_fee),</span><br><span class="line">        <span class="literal">Err</span>(ParseIntError) =&gt; <span class="literal">Err</span>(ParseIntError)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[cfg(test)]</span></span><br><span class="line"><span class="keyword">mod</span> tests &#123;</span><br><span class="line">    <span class="keyword">use</span> super::*;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">item_quantity_is_a_valid_number</span></span>() &#123;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(total_cost(<span class="string">"34"</span>), <span class="literal">Ok</span>(<span class="number">171</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">item_quantity_is_an_invalid_number</span></span>() &#123;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(</span><br><span class="line">            total_cost(<span class="string">"beep boop"</span>).unwrap_err().to_string(),</span><br><span class="line">            <span class="string">"invalid digit found in string"</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿˜å¯ä»¥ç”¨?ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">total_cost</span></span>(item_quantity: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">Result</span>&lt;<span class="built_in">i32</span>, ParseIntError&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> processing_fee = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> cost_per_item = <span class="number">5</span>;</span><br><span class="line">    <span class="comment">// å¦‚æœæˆåŠŸå°±æŠŠOké‡Œé¢çš„å€¼ç»™qtyï¼Œé”™è¯¯å°±ç›´æ¥è¿”å›é”™è¯¯</span></span><br><span class="line">    <span class="keyword">let</span> qty = item_quantity.parse::&lt;<span class="built_in">i32</span>&gt;()?;</span><br><span class="line">    <span class="comment">// match qty &#123;</span></span><br><span class="line">    <span class="comment">//     Ok(qty) =&gt; Ok(qty * cost_per_item + processing_fee),</span></span><br><span class="line">    <span class="comment">//     Err(ParseIntError) =&gt; Err(ParseIntError)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æˆåŠŸå°±è¿”å›è´¹ç”¨</span></span><br><span class="line">    <span class="literal">Ok</span>(qty * cost_per_item + processing_fee)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="errors3-rs"><a href="#errors3-rs" class="headerlink" title="errors3.rs"></a>errors3.rs</h1><p>åœ¨å‡½æ•°é‡Œé¢ä½¿ç”¨?:</p>
<p>å› ä¸º?çš„é€»è¾‘æ˜¯è¿™æ ·çš„ï¼š</p>
<p>å¦‚æœè¿”å›çš„ä¸æ˜¯Errï¼Œå°±æ­£å¸¸è¿è¡Œå¹¶ä¸”å°†Resultæšä¸¾ç±»å‹çš„å€¼ç»“æ„ç»™cost</p>
<p>ä½†å¦‚æœè¿”å›çš„æ˜¯Errï¼Œå‡½æ•°å°±ä¼šç«‹åˆ»ç»ˆæ­¢ï¼Œç„¶åè¿”å›ä¸€ä¸ªResult::Errç±»å‹çš„å€¼ï¼Œå› æ­¤å¿…é¡»ç»™å‡½æ•°è®¾ç½®è¿”å›å€¼</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// errors3.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// This is a program that is trying to use a completed version of the</span></span><br><span class="line"><span class="comment">// `total_cost` function from the previous exercise. It's not working though!</span></span><br><span class="line"><span class="comment">// Why not? What should we do to fix it?</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint errors3` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> std::num::ParseIntError;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() -&gt; <span class="built_in">Result</span>&lt;(), ParseIntError&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> tokens = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">let</span> pretend_user_input = <span class="string">"8"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> cost = total_cost(pretend_user_input)?;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> cost &gt; tokens &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"You can't afford that many!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        tokens -= cost;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"You now have &#123;&#125; tokens."</span>, tokens);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Result</span>::<span class="literal">Ok</span>(())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">total_cost</span></span>(item_quantity: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">Result</span>&lt;<span class="built_in">i32</span>, ParseIntError&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> processing_fee = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> cost_per_item = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">let</span> qty = item_quantity.parse::&lt;<span class="built_in">i32</span>&gt;()?;</span><br><span class="line"></span><br><span class="line">    <span class="literal">Ok</span>(qty * cost_per_item + processing_fee)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯åœ¨mainå‡½æ•°é‡Œé¢è¿”å›ä¸€ä¸ª<code>Result::Ok(String::from(&quot;implement success!&quot;))</code> æ˜¯ä¸åˆæ³•çš„ï¼Œå› ä¸º<code>main</code>å‡½æ•°é€šå¸¸æœ‰ä¸¤ç§æœ‰æ•ˆçš„è¿”å›ç±»å‹ï¼š<code>()</code>ï¼ˆè¡¨ç¤ºæˆåŠŸï¼‰å’Œ<code>Result&lt;(), E&gt;</code>ï¼ˆè¡¨ç¤ºæˆåŠŸæˆ–å‡ºç°é”™è¯¯ï¼‰ã€‚<code>main</code>å‡½æ•°çš„è¿”å›ç±»å‹å¿…é¡»å®ç°<code>Termination</code> traitï¼Œè¯¥traitè§„å®šäº†ç¨‹åºçš„ç»ˆæ­¢è¡Œä¸º</p>
<h1 id="errors4-rs"><a href="#errors4-rs" class="headerlink" title="errors4.rs"></a>errors4.rs</h1><p>å¯ä»¥åƒè¿™æ ·ç”¨åŒ¹é…ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">new</span></span>(value: <span class="built_in">i64</span>) -&gt; <span class="built_in">Result</span>&lt;PositiveNonzeroInteger, CreationError&gt; &#123;</span><br><span class="line">	  <span class="keyword">match</span> value &#123;</span><br><span class="line">	      x <span class="keyword">if</span> x &lt; <span class="number">0</span> =&gt; <span class="literal">Err</span>(CreationError::Negative),</span><br><span class="line">	      x <span class="keyword">if</span> x == <span class="number">0</span> =&gt; <span class="literal">Err</span>(CreationError::Zero),</span><br><span class="line">	      x =&gt; <span class="literal">Ok</span>(PositiveNonzeroInteger(x <span class="keyword">as</span> <span class="built_in">u64</span>)),</span><br><span class="line">	  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ„Ÿè§‰è¿™é‡Œä¹Ÿå¯ä»¥ç›´æ¥ifåˆ¤æ–­ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> value &gt; <span class="number">0</span> &#123;</span><br><span class="line">    <span class="literal">Ok</span>(PositiveNonzeroInteger(value <span class="keyword">as</span> <span class="built_in">u64</span>))</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> value &lt; <span class="number">0</span> &#123;</span><br><span class="line">    <span class="literal">Err</span>(CreationError::Negative)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="literal">Err</span>(CreationError::Zero)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="errors6-rs"><a href="#errors6-rs" class="headerlink" title="errors6.rs"></a>errors6.rs</h1><p>è½¬æ¢é”™è¯¯ç±»å‹ï¼šå°†æ ‡å‡†åº“å®šä¹‰çš„é”™è¯¯ç±»å‹è½¬æ¢ä¸ºè‡ªå®šä¹‰çš„ParsePosNonzeroError</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// errors6.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Using catch-all error types like `Box&lt;dyn error::Error&gt;` isn't recommended</span></span><br><span class="line"><span class="comment">// for library code, where callers might want to make decisions based on the</span></span><br><span class="line"><span class="comment">// error content, instead of printing it out or propagating it further. Here, we</span></span><br><span class="line"><span class="comment">// define a custom error type to make it possible for callers to decide what to</span></span><br><span class="line"><span class="comment">// do next when our function returns an error.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint errors6` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> std::num::ParseIntError;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This is a custom error type that we will be using in `parse_pos_nonzero()`.</span></span><br><span class="line"><span class="meta">#[derive(PartialEq, Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ParsePosNonzeroError</span></span> &#123;</span><br><span class="line">    Creation(CreationError),</span><br><span class="line">    ParseInt(ParseIntError),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> ParsePosNonzeroError &#123;</span><br><span class="line">		<span class="comment">// å°†é”™è¯¯ç±»å‹è½¬æ¢ä¸ºParsePosNonzeroErrorçš„Creationç±»å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">from_creation</span></span>(err: CreationError) -&gt; ParsePosNonzeroError &#123;</span><br><span class="line">        ParsePosNonzeroError::Creation(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> add another error conversion function here.</span></span><br><span class="line">    <span class="comment">// å°†é”™è¯¯ç±»å‹è½¬æ¢ä¸ºParsePosNonzeroErrorçš„ParseIntç±»å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">from_parseint</span></span>(err: ParseIntError) -&gt; ParsePosNonzeroError &#123;</span><br><span class="line">        ParsePosNonzeroError::ParseInt(err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">parse_pos_nonzero</span></span>(s: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">Result</span>&lt;PositiveNonzeroInteger, ParsePosNonzeroError&gt; &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> change this to return an appropriate error instead of panicking</span></span><br><span class="line">    <span class="comment">// when `parse()` returns an error.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç†parse()å‡ºé”™çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">let</span> x: <span class="built_in">i64</span> = s.parse().map_err(ParsePosNonzeroError::from_parseint)?;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†åˆ›å»ºæ—¶å‡ºé”™çš„æƒ…å†µ</span></span><br><span class="line">    PositiveNonzeroInteger::new(x).map_err(ParsePosNonzeroError::from_creation)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Don't change anything below this line.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#[derive(PartialEq, Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PositiveNonzeroInteger</span></span>(<span class="built_in">u64</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">#[derive(PartialEq, Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">CreationError</span></span> &#123;</span><br><span class="line">    Negative,</span><br><span class="line">    Zero,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> PositiveNonzeroInteger &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">new</span></span>(value: <span class="built_in">i64</span>) -&gt; <span class="built_in">Result</span>&lt;PositiveNonzeroInteger, CreationError&gt; &#123;</span><br><span class="line">        <span class="keyword">match</span> value &#123;</span><br><span class="line">            x <span class="keyword">if</span> x &lt; <span class="number">0</span> =&gt; <span class="literal">Err</span>(CreationError::Negative),</span><br><span class="line">            x <span class="keyword">if</span> x == <span class="number">0</span> =&gt; <span class="literal">Err</span>(CreationError::Zero),</span><br><span class="line">            x =&gt; <span class="literal">Ok</span>(PositiveNonzeroInteger(x <span class="keyword">as</span> <span class="built_in">u64</span>)),</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[cfg(test)]</span></span><br><span class="line"><span class="keyword">mod</span> test &#123;</span><br><span class="line">    <span class="keyword">use</span> super::*;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">test_parse_error</span></span>() &#123;</span><br><span class="line">        <span class="comment">// We can't construct a ParseIntError, so we have to pattern match.</span></span><br><span class="line">        <span class="built_in">assert!</span>(matches!(</span><br><span class="line">            parse_pos_nonzero(<span class="string">"not a number"</span>),</span><br><span class="line">            <span class="literal">Err</span>(ParsePosNonzeroError::ParseInt(_))</span><br><span class="line">        ));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">test_negative</span></span>() &#123;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(</span><br><span class="line">            parse_pos_nonzero(<span class="string">"-555"</span>),</span><br><span class="line">            <span class="literal">Err</span>(ParsePosNonzeroError::Creation(CreationError::Negative))</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">test_zero</span></span>() &#123;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(</span><br><span class="line">            parse_pos_nonzero(<span class="string">"0"</span>),</span><br><span class="line">            <span class="literal">Err</span>(ParsePosNonzeroError::Creation(CreationError::Zero))</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">test_positive</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> x = PositiveNonzeroInteger::new(<span class="number">42</span>);</span><br><span class="line">        <span class="built_in">assert!</span>(x.is_ok());</span><br><span class="line">        <span class="built_in">assert_eq!</span>(parse_pos_nonzero(<span class="string">"42"</span>), <span class="literal">Ok</span>(x.unwrap()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…³äºmap_errï¼š</p>
<ul>
<li>Maps a <strong>Result&lt;T, E&gt; to Result&lt;T, F&gt;</strong> by applying a function to a contained Err value, leaving an Ok value untouched.</li>
<li></li>
<li>ä¹Ÿå°±æ˜¯ä¸è§¦å‘é”™è¯¯è¿”å›ï¼Œè€Œæ˜¯ç­‰å¾…ä¸‹ä¸€æ­¥å¯¹è¿™ä¸ªé”™è¯¯çš„å¤„ç†</li>
</ul>
<p>ä»£ç ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†parse()å‡ºé”™çš„æƒ…å†µ</span></span><br><span class="line"><span class="keyword">let</span> x: <span class="built_in">i64</span> = s.parse().map_err(ParsePosNonzeroError::from_parseint)?;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤„ç†åˆ›å»ºæ—¶å‡ºé”™çš„æƒ…å†µ</span></span><br><span class="line">PositiveNonzeroInteger::new(x).map_err(ParsePosNonzeroError::from_creation)</span><br></pre></td></tr></table></figure>

<ul>
<li>é¦–å…ˆ<code>s.parse()</code>å°è¯•å°†sè¿›è¡Œè½¬æ¢ï¼š<ul>
<li>å¦‚æœå‡ºé”™çš„è¯ï¼Œ<code>map_err()</code>å°±ä¼šè¿”å›<code>ParsePosNonzeroError::from_parseint</code> è¿™ä¸ªè‡ªå®šä¹‰çš„é”™è¯¯ç±»å‹ç„¶åç›´æ¥è¿”å›ï¼Œè€Œä¸æ˜¯<code>ParseIntError</code></li>
<li>å¦‚æœæ²¡å‡ºé”™ï¼Œ<code>map_err()</code> å°±ä¼šè¿”å›ä¸€ä¸ªResult::Ok(value)ä½œä¸ºsè½¬æ¢åçš„å€¼â€”â€”å› æ­¤åé¢ä¸€å®šè¦åŠ ?ï¼Œä¸ç„¶å‡ºé”™çš„æƒ…å†µç¡®å®å¯ä»¥æ­£å¸¸è¿”å›ï¼Œä½†æ˜¯æ²¡å‡ºé”™æ—¶Resultç±»å‹çš„å€¼æ˜¯æ— æ³•ä¸i64ç±»å‹çš„xç»‘å®šçš„ï¼Œè€Œ?å¯ä»¥å°†æ­£å¸¸è¿”å›çš„å€¼ç›´æ¥unwrap</li>
</ul>
</li>
<li>ç„¶åxè¢«æˆåŠŸç»‘å®šä¸€ä¸ªi64ç±»å‹çš„æ•´æ•°ï¼Œå°±éœ€è¦åˆ¤æ–­xæ˜¯å¦æ»¡è¶³éè´Ÿæ•°ï¼Œå› æ­¤åˆ›å»ºä¸€ä¸ª<code>PositiveNonzeroInteger</code> ç±»å‹çš„ç»“æ„ä½“ï¼Œxçš„å€¼ä½œä¸ºç»“æ„ä½“çš„å€¼ï¼Œç„¶åè°ƒç”¨ç»“æ„ä½“æ–¹æ³•new()<ul>
<li>å¦‚æœnewæˆåŠŸè¿”å›Ok(PositiveNonzeroInteger(x as u64))ï¼Œé‚£ä¹ˆmap_err()å°±è¿”å›è¿™ä¸ªResult::Okç±»å‹çš„å€¼</li>
<li>å¦‚æœnewå‡ºé”™äº†è¿”å›äº†ä¸€ä¸ªResult::Errç±»å‹çš„å€¼ï¼Œé‚£ä¹ˆmap_err()å°±è¿”å›<code>ParsePosNonzeroError::from_creation</code> è¿™ä¸ªè‡ªå®šä¹‰çš„é”™è¯¯ç±»å‹ç„¶åç›´æ¥è¿”å›ï¼Œè€Œä¸æ˜¯<code>CreationError</code></li>
</ul>
</li>
</ul>
<h1 id="generics2-rs"><a href="#generics2-rs" class="headerlink" title="generics2.rs"></a>generics2.rs</h1><p>ä½¿ç”¨æ³›å‹</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// generics2.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// This powerful wrapper provides the ability to store a positive integer value.</span></span><br><span class="line"><span class="comment">// Rewrite it using generics so that it supports wrapping ANY type.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint generics2` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">struct</span> <span class="title">Wrapper</span></span>&lt;T&gt; &#123;</span><br><span class="line">    value: T,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span>&lt;T&gt; Wrapper&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">new</span></span>(value: T) -&gt; <span class="keyword">Self</span> &#123;</span><br><span class="line">        Wrapper &#123; value &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[cfg(test)]</span></span><br><span class="line"><span class="keyword">mod</span> tests &#123;</span><br><span class="line">    <span class="keyword">use</span> super::*;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">store_u32_in_wrapper</span></span>() &#123;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(Wrapper::&lt;<span class="built_in">i32</span>&gt;::new(<span class="number">42</span>).value, <span class="number">42</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">store_str_in_wrapper</span></span>() &#123;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(Wrapper::&lt;&amp;<span class="built_in">str</span>&gt;::new(<span class="string">"Foo"</span>).value, <span class="string">"Foo"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="traits5-rs"><a href="#traits5-rs" class="headerlink" title="traits5.rs"></a>traits5.rs</h1><p>ç‰¹å¾çš„å¤šé‡çº¦æŸ</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// traits5.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Your task is to replace the '??' sections so the code compiles.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Don't change any line other than the marked one.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint traits5` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">trait</span> <span class="title">SomeTrait</span></span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">some_function</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">        <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">trait</span> <span class="title">OtherTrait</span></span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">other_function</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">        <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SomeStruct</span></span> &#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">OtherStruct</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> SomeTrait <span class="keyword">for</span> SomeStruct &#123;&#125;</span><br><span class="line"><span class="keyword">impl</span> OtherTrait <span class="keyword">for</span> SomeStruct &#123;&#125;</span><br><span class="line"><span class="keyword">impl</span> SomeTrait <span class="keyword">for</span> OtherStruct &#123;&#125;</span><br><span class="line"><span class="keyword">impl</span> OtherTrait <span class="keyword">for</span> OtherStruct &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// YOU MAY ONLY CHANGE THE NEXT LINE</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">some_func</span></span>(item: (<span class="keyword">impl</span> SomeTrait + OtherTrait)) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">    item.some_function() &amp;&amp; item.other_function()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    some_func(SomeStruct &#123;&#125;);</span><br><span class="line">    some_func(OtherStruct &#123;&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="quiz3-rs"><a href="#quiz3-rs" class="headerlink" title="quiz3.rs"></a>quiz3.rs</h1><p>å…³äºæ ¼å¼åŒ–å­—ç¬¦ä¸²format!ï¼šå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ³›å‹éƒ½å¯ä»¥ç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¿…é¡»è¦æœ‰Displayç‰¹å¾çš„æ³›å‹æ‰å¯ä»¥ï¼Œå› æ­¤ä½¿ç”¨T: Displayè¿™ä¸ªç‰¹å¾çº¦æŸ</p>
<p><code>pub fn notify&lt;T: Summary&gt;(item1: &amp;T, item2: &amp;T) {}</code></p>
<p>åƒè¿™æ®µä»£ç çš„æ„æ€å°±æ˜¯ï¼šçº¦æŸTå¿…é¡»å…·æœ‰ç‰¹å¾Summaryï¼Œä¸”item1å’Œitem2éƒ½æ˜¯Tç±»å‹çš„å¼•ç”¨</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// quiz3.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// This quiz tests:</span></span><br><span class="line"><span class="comment">// - Generics</span></span><br><span class="line"><span class="comment">// - Traits</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// An imaginary magical school has a new report card generation system written</span></span><br><span class="line"><span class="comment">// in Rust! Currently the system only supports creating report cards where the</span></span><br><span class="line"><span class="comment">// student's grade is represented numerically (e.g. 1.0 -&gt; 5.5). However, the</span></span><br><span class="line"><span class="comment">// school also issues alphabetical grades (A+ -&gt; F-) and needs to be able to</span></span><br><span class="line"><span class="comment">// print both types of report card!</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Make the necessary code changes in the struct ReportCard and the impl block</span></span><br><span class="line"><span class="comment">// to support alphabetical report cards. Change the Grade in the second test to</span></span><br><span class="line"><span class="comment">// "A+" to show that your changes allow alphabetical grades.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint quiz3` or use the `hint` watch subcommand for a hint.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// I AM NOT DONE</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> std::fmt::Display;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å› ä¸ºæˆç»©æ—¢æœ‰å­—ç¬¦ä¸²åˆæœ‰æµ®ç‚¹æ•°ï¼Œå› æ­¤å®šä¹‰gradeä¸ºä¸€ä¸ªæ³›å‹</span></span><br><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">struct</span> <span class="title">ReportCard</span></span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">pub</span> grade: T,</span><br><span class="line">    <span class="keyword">pub</span> student_name: <span class="built_in">String</span>,</span><br><span class="line">    <span class="keyword">pub</span> student_age: <span class="built_in">u8</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™é‡Œè§„å®šTå¿…é¡»æ˜¯å…·æœ‰Displayç‰¹å¾çš„ç±»å‹ </span></span><br><span class="line"><span class="keyword">impl</span>&lt;T: Display&gt; ReportCard&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">print</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">String</span> &#123;</span><br><span class="line">        <span class="built_in">format!</span>(<span class="string">"&#123;&#125; (&#123;&#125;) - achieved a grade of &#123;&#125;"</span>,</span><br><span class="line">            &amp;(*<span class="keyword">self</span>).student_name, &amp;<span class="keyword">self</span>.student_age, &amp;<span class="keyword">self</span>.grade) </span><br><span class="line">            <span class="comment">// è¿™é‡Œè®¿é—®selfå­—æ®µæ—¶éšå¼è§£å¼•ç”¨ï¼Œä½†ä½ è¦æ‰‹åŠ¨è§£å¼•ç”¨ä¹Ÿå¯ä»¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[cfg(test)]</span></span><br><span class="line"><span class="keyword">mod</span> tests &#123;</span><br><span class="line">    <span class="keyword">use</span> super::*;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">generate_numeric_report_card</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> report_card = ReportCard &#123;</span><br><span class="line">            grade: <span class="number">2.1</span>,</span><br><span class="line">            student_name: <span class="string">"Tom Wriggle"</span>.to_string(),</span><br><span class="line">            student_age: <span class="number">12</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(</span><br><span class="line">            report_card.print(),</span><br><span class="line">            <span class="string">"Tom Wriggle (12) - achieved a grade of 2.1"</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">generate_alphabetic_report_card</span></span>() &#123;</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> Make sure to change the grade here after you finish the exercise.</span></span><br><span class="line">        <span class="keyword">let</span> report_card = ReportCard &#123;</span><br><span class="line">            grade: <span class="built_in">String</span>::from(<span class="string">"A+"</span>),</span><br><span class="line">            student_name: <span class="string">"Gary Plotter"</span>.to_string(),</span><br><span class="line">            student_age: <span class="number">11</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">assert_eq!</span>(</span><br><span class="line">            report_card.print(),</span><br><span class="line">            <span class="string">"Gary Plotter (11) - achieved a grade of A+"</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="lifetimes3-rs"><a href="#lifetimes3-rs" class="headerlink" title="lifetimes3.rs"></a>lifetimes3.rs</h1><p>å…³äºç»“æ„ä½“çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p>ä¸ä»…ä»…å‡½æ•°å…·æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œç»“æ„ä½“å…¶å®ä¹Ÿæœ‰è¿™ä¸ªæ¦‚å¿µï¼Œåªä¸è¿‡æˆ‘ä»¬ä¹‹å‰å¯¹ç»“æ„ä½“çš„ä½¿ç”¨éƒ½åœç•™åœ¨éå¼•ç”¨ç±»å‹å­—æ®µä¸Šã€‚ç»†å¿ƒçš„åŒå­¦åº”è¯¥èƒ½å›æƒ³èµ·æ¥ï¼Œä¹‹å‰ä¸ºä»€ä¹ˆä¸åœ¨ç»“æ„ä½“ä¸­ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢é‡æˆ–è€…å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼Œè€Œæ˜¯ç»Ÿä¸€ä½¿ç”¨ <code>String</code> ç±»å‹ï¼ŸåŸå› å¾ˆç®€å•ï¼Œåè€…åœ¨ç»“æ„ä½“åˆå§‹åŒ–æ—¶ï¼Œåªè¦è½¬ç§»æ‰€æœ‰æƒå³å¯ï¼Œè€Œå‰è€…ï¼ŒæŠ±æ­‰ï¼Œå®ƒä»¬æ˜¯å¼•ç”¨ï¼Œå®ƒä»¬ä¸èƒ½ä¸ºæ‰€æ¬²ä¸ºã€‚</p>
<p>æ—¢ç„¶ä¹‹å‰å·²ç»ç†è§£äº†ç”Ÿå‘½å‘¨æœŸï¼Œé‚£ä¹ˆæ„å‘³ç€åœ¨ç»“æ„ä½“ä¸­ä½¿ç”¨å¼•ç”¨ä¹Ÿå˜å¾—å¯èƒ½ï¼šåªè¦ä¸ºç»“æ„ä½“ä¸­çš„<strong>æ¯ä¸€ä¸ªå¼•ç”¨æ ‡æ³¨ä¸Šç”Ÿå‘½å‘¨æœŸ</strong>å³å¯ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ImportantExcerpt</span></span>&lt;<span class="symbol">'a</span>&gt; &#123;</span><br><span class="line">    part: &amp;<span class="symbol">'a</span> <span class="built_in">str</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> novel = <span class="built_in">String</span>::from(<span class="string">"Call me Ishmael. Some years ago..."</span>);</span><br><span class="line">    <span class="keyword">let</span> first_sentence = novel.split(<span class="string">'.'</span>).next().expect(<span class="string">"Could not find a '.'"</span>);</span><br><span class="line">    <span class="keyword">let</span> i = ImportantExcerpt &#123;</span><br><span class="line">        part: first_sentence,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç»“æ„ä½“ <code>ImportantExcerpt</code> æ‰€å¼•ç”¨çš„å­—ç¬¦ä¸² <code>str</code> ç”Ÿå‘½å‘¨æœŸéœ€è¦å¤§äºç­‰äºè¯¥ç»“æ„ä½“çš„ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚</p>
<h1 id="iterators2-rs"><a href="#iterators2-rs" class="headerlink" title="iterators2.rs"></a>iterators2.rs</h1><p>è¿­ä»£å™¨ï¼š</p>
<ul>
<li><p>è¿­ä»£å™¨æ˜¯ä¼šè¢«æ¶ˆè€—çš„ï¼š</p>
<p>å½“ä½¿ç”¨äº†next()ï¼Œè¿­ä»£å™¨å°±ä¼šè¢«æ¶ˆè€—ï¼Œç›¸å½“äºå–å‡ºäº†é‚£ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¸ªå…ƒç´ å…¶å®å·²ç»ä¸åœ¨è¿­ä»£å™¨é‡Œé¢äº†ï¼Œå› æ­¤æœ€å¼€å§‹æˆ‘ç›´æ¥å°†firstè½¬æ¢ä¸ºå¤§å†™åç›´æ¥è¿”å›äº†è¿­ä»£å™¨å‰©ä½™çš„å…ƒç´ ï¼Œè¿™ä¼šå¯¼è‡´è¿”å›çš„å­—ç¬¦ä¸²æ²¡æœ‰é¢„æœŸçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Step 1.</span></span><br><span class="line"><span class="comment">// Complete the `capitalize_first` function.</span></span><br><span class="line"><span class="comment">// "hello" -&gt; "Hello"</span></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">capitalize_first</span></span>(input: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">String</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> c = input.chars();</span><br><span class="line">    <span class="keyword">match</span> c.next() &#123;</span><br><span class="line">        <span class="literal">None</span> =&gt; <span class="built_in">String</span>::new(),</span><br><span class="line">        <span class="literal">Some</span>(first) =&gt; &#123;</span><br><span class="line">            <span class="keyword">let</span> <span class="keyword">mut</span> first_upp: <span class="built_in">String</span> = first.to_uppercase().collect();</span><br><span class="line">            <span class="keyword">let</span> chars_str: <span class="built_in">String</span> = c.collect();</span><br><span class="line">            first_upp.push_str(&amp;chars_str);</span><br><span class="line">            first_upp</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="iterators4-rs"><a href="#iterators4-rs" class="headerlink" title="iterators4.rs"></a>iterators4.rs</h1><p><a href="https://rustwiki.org/zh-CN/book/ch13-02-iterators.html#æ¶ˆè´¹è¿­ä»£å™¨çš„æ–¹æ³•" target="_blank" rel="noopener">ä½¿ç”¨è¿­ä»£å™¨å¤„ç†å…ƒç´ åºåˆ— - Rust ç¨‹åºè®¾è®¡è¯­è¨€ ä¸­æ–‡ç‰ˆ</a></p>
<p>ç”¨è¿­ä»£å™¨å®ç°é€’å½’ï¼š<strong>ä½¿ç”¨æ¶ˆè´¹è€…é€‚é…å™¨çš„æ–¹æ³•</strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">factorial</span></span>(num: <span class="built_in">u64</span>) -&gt; <span class="built_in">u64</span> &#123;</span><br><span class="line">    <span class="comment">// Complete this function to return the factorial of num</span></span><br><span class="line">    <span class="comment">// Do not use:</span></span><br><span class="line">    <span class="comment">// - return</span></span><br><span class="line">    <span class="comment">// Try not to use:</span></span><br><span class="line">    <span class="comment">// - imperative style loops (for, while)</span></span><br><span class="line">    <span class="comment">// - additional variables</span></span><br><span class="line">    <span class="comment">// For an extra challenge, don't use:</span></span><br><span class="line">    <span class="comment">// - recursion</span></span><br><span class="line">    <span class="comment">// Execute `rustlings hint iterators4` for hints.</span></span><br><span class="line">    (<span class="number">1</span>..=num).product()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ Rust ä¸­ï¼Œ<code>(1..=num)</code> æ˜¯ä¸€ä¸ªèŒƒå›´ï¼ˆRangeï¼‰è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºä»1åˆ°<code>num</code>ï¼ˆåŒ…æ‹¬<code>num</code>æœ¬èº«ï¼‰çš„ä¸€ä¸ªèŒƒå›´ã€‚<strong>è¿™ä¸ªèŒƒå›´å®é™…ä¸Šæ˜¯ä¸€ä¸ªè¿­ä»£å™¨</strong>ï¼Œå®ƒå¯ä»¥ç”Ÿæˆä»1åˆ°<code>num</code>çš„æ‰€æœ‰æ•°å­—åºåˆ—ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>(1..=num)</code> åˆ›å»ºä¸€ä¸ªåŒ…å«ä»1åˆ°<code>num</code>çš„æ•°å­—åºåˆ—çš„è¿­ä»£å™¨ã€‚ç„¶åï¼Œæˆ‘ä»¬è°ƒç”¨è¿­ä»£å™¨çš„ <code>product()</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°†è¿­ä»£å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ç›¸ä¹˜ï¼Œå¾—åˆ°å®ƒä»¬çš„ä¹˜ç§¯ä½œä¸ºç»“æœã€‚</p>
<p>å› æ­¤ï¼Œ<code>(1..=num).product()</code> è¿™ä¸ªè¯­å¥çš„æ„æ€æ˜¯ï¼šå…ˆç”Ÿæˆä»1åˆ°<code>num</code>çš„æ•°å­—åºåˆ—è¿­ä»£å™¨ï¼Œç„¶åè®¡ç®—è¿™ä¸ªåºåˆ—ä¸­æ‰€æœ‰æ•°å­—çš„ä¹˜ç§¯ï¼Œæœ€ç»ˆå¾—åˆ°é˜¶ä¹˜çš„ç»“æœã€‚</p>
<h1 id="iterators5-rs"><a href="#iterators5-rs" class="headerlink" title="iterators5.rs"></a>iterators5.rs</h1><p>å…³äºé—­åŒ…å’Œè¿­ä»£å™¨æ–¹æ³•çš„ä½¿ç”¨</p>
<p>ä¸ç”¨å¾ªç¯ï¼Œæ‰¾å‡ºmapé‡Œé¢æœ‰å¤šå°‘ä¸ªé”®å€¼ä¸ºvalueçš„å…ƒç´ </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">count_iterator</span></span>(map: &amp;HashMap&lt;<span class="built_in">String</span>, Progress&gt;, value: Progress) -&gt; <span class="built_in">usize</span> &#123;</span><br><span class="line">    <span class="comment">// map is a hashmap with String keys and Progress values.</span></span><br><span class="line">    <span class="comment">// map = &#123; "variables1": Complete, "from_str": None, ... &#125;</span></span><br><span class="line">    map.values().filter(|progress| **progress == value).count()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>.values()</code>ï¼šä½¿ç”¨äº†HashMapçš„valueæ–¹æ³•ï¼Œè·å–äº†ä¸€ä¸ªåŒ…å«æ‰€æœ‰é”®å€¼çš„è¿­ä»£å™¨ã€‚</p>
<p><strong><code>pub fn [values](https://rustwiki.org/zh-CN/std/collections/struct.HashMap.html#method.values)(&amp;self) -&gt; [Values](https://rustwiki.org/zh-CN/std/collections/hash_map/struct.Values.html)&lt;&#39;_, K, V&gt;</code></strong>ä¸€ä¸ªä»¥ä»»æ„é¡ºåºè®¿é—®æ‰€æœ‰å€¼çš„è¿­ä»£å™¨ã€‚ è¿­ä»£å™¨å…ƒç´ ç±»å‹ä¸º <code>&amp;&#39;a V</code> ï¼Œå³å¯¹é”®å€¼çš„å¼•ç”¨</p>
</li>
<li><p><code>.filter()</code>  ï¼š<strong>åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨</strong>ï¼Œè¯¥è¿­ä»£å™¨ä½¿ç”¨é—­åŒ…ç¡®å®šæ˜¯å¦åº”äº§ç”Ÿå…ƒç´ ã€‚ç»™å®šä¸€ä¸ªå…ƒç´ ï¼Œé—­åŒ…å¿…é¡»è¿”å› <code>true</code> æˆ– <code>false</code>ã€‚è¿”å›çš„è¿­ä»£å™¨å°†ä»…ç”Ÿæˆé—­åŒ…ä¸ºå…¶è¿”å› true çš„å…ƒç´ ã€‚</p>
</li>
<li><p><code>.count()</code> ï¼šæ¶ˆè€—è¿­ä»£å™¨ï¼Œè®¡ç®—è¿­ä»£æ¬¡æ•°å¹¶è¿”å›å®ƒã€‚æ­¤æ–¹æ³•å°†åå¤è°ƒç”¨ <code>[next](https://rustwiki.org/zh-CN/std/iter/trait.Iterator.html#tymethod.next)</code>ï¼Œç›´åˆ°é‡åˆ° <code>[None](https://rustwiki.org/zh-CN/std/option/enum.Option.html#variant.None)ï¼Œ</code>å¹¶è¿”å›å®ƒçœ‹åˆ° <code>[Some](https://rustwiki.org/zh-CN/std/option/enum.Option.html#variant.Some)</code> çš„æ¬¡æ•°ã€‚ è¯·æ³¨æ„ï¼Œå³ä½¿è¿­ä»£å™¨æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œä¹Ÿå¿…é¡»è‡³å°‘è°ƒç”¨ä¸€æ¬¡ <code>[next](https://rustwiki.org/zh-CN/std/iter/trait.Iterator.html#tymethod.next)</code>ã€‚</p>
</li>
</ul>
<p>è¿”å›ä¸€ä¸ªæ‰€æœ‰å“ˆå¸Œè¡¨é‡Œé¢é”®å€¼ä¸ºæŒ‡å®šçŠ¶æ€çš„æ•°é‡å’Œï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">count_collection_iterator</span></span>(collection: &amp;[HashMap&lt;<span class="built_in">String</span>, Progress&gt;], value: Progress) -&gt; <span class="built_in">usize</span> &#123;</span><br><span class="line">    <span class="comment">// collection is a slice of hashmaps.</span></span><br><span class="line">    <span class="comment">// collection = [&#123; "variables1": Complete, "from_str": None, ... &#125;,</span></span><br><span class="line">    <span class="comment">//     &#123; "variables2": Complete, ... &#125;, ... ]</span></span><br><span class="line">    collection.iter().map(|map| count_iterator(map, value)).sum()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>.map()</code> ï¼šIteratorç‰¹å¾çš„å‡½æ•°ï¼Œè·å–ä¸€ä¸ªé—­åŒ…å¹¶<strong>åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨</strong>ï¼Œè¯¥è¿­ä»£å™¨åœ¨æ¯ä¸ªå…ƒç´ ä¸Šè°ƒç”¨è¯¥é—­åŒ…ã€‚</li>
<li>é¦–å…ˆåˆ›å»ºcollectionçš„è¿­ä»£å™¨ï¼Œå†ä½¿ç”¨mapä½¿å¾—è¿­ä»£å™¨ä¸Šçš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨count_iterator()ï¼Œå¯¹äºæ¯ä¸ªå“ˆå¸Œè¡¨éƒ½è®¡ç®—é”®å€¼ä¸ºprogressçš„ä¸ªæ•°</li>
<li><code>.sum()</code> ï¼šå°†è¿­ä»£å™¨é‡Œé¢çš„æ¯ä¸ªå…ƒç´ ç›¸åŠ ï¼Œæ‰€ä»¥è¿™ä¹ˆå†™ä¹Ÿæ˜¯å¯¹çš„ï¼š</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> iter = collection.iter().map(|map| count_iterator(map, value));</span><br><span class="line">iter.sum()</span><br></pre></td></tr></table></figure>
<h1 id="box1-rsâ€”â€”æ™ºèƒ½æŒ‡é’ˆ"><a href="#box1-rsâ€”â€”æ™ºèƒ½æŒ‡é’ˆ" class="headerlink" title="box1.rsâ€”â€”æ™ºèƒ½æŒ‡é’ˆ"></a>box1.rsâ€”â€”æ™ºèƒ½æŒ‡é’ˆ</h1><p><a href="https://course.rs/advance/smart-pointer/box.html#å°†åŠ¨æ€å¤§å°ç±»å‹å˜ä¸º-sized-å›ºå®šå¤§å°ç±»å‹" target="_blank" rel="noopener">Boxå †å¯¹è±¡åˆ†é… - Rustè¯­è¨€åœ£ç»(Rust Course)</a></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨Boxæ¥å®šä¹‰Consï¼Œå°†Listå­˜åˆ°å †ä¸Šï¼Œé‚£ä¹ˆListçš„å¤§å°å°±å›ºå®šäº†</span></span><br><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">enum</span> <span class="title">List</span></span> &#123;</span><br><span class="line">    Cons(<span class="built_in">i32</span>, <span class="built_in">Box</span>&lt;List&gt;),</span><br><span class="line">    Nil,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">create_empty_list</span></span>() -&gt; List &#123;</span><br><span class="line">    List::Nil</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">create_non_empty_list</span></span>() -&gt; List &#123;</span><br><span class="line">    List::Cons(<span class="number">1</span>, <span class="built_in">Box</span>::new(List::Cons(<span class="number">2</span>, <span class="built_in">Box</span>::new(List::Nil))))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="threads1-rs"><a href="#threads1-rs" class="headerlink" title="threads1.rs"></a>threads1.rs</h1><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">		<span class="comment">// åˆ›å»ºhandlesï¼Œç”¨ä»¥å­˜å‚¨åé¢10ä¸ªçº¿ç¨‹çš„å¥æŸ„ </span></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> handles = <span class="built_in">vec!</span>[];</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// é€šè¿‡å¾ªç¯åˆ›å»ºäº†10ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹ä¼šæ‰§è¡Œä¸€ä¸ªé—­åŒ…</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..<span class="number">10</span> &#123;</span><br><span class="line">		    <span class="comment">// ä½¿ç”¨moveæ‹¿èµ°å½“å‰içš„æ‰€æœ‰æƒ</span></span><br><span class="line">        handles.push(thread::spawn(<span class="keyword">move</span> || &#123;</span><br><span class="line">            <span class="keyword">let</span> start = Instant::now();</span><br><span class="line">            thread::sleep(Duration::from_millis(<span class="number">250</span>));</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 250msåè¾“å‡ºï¼Œå› ä¸ºiçš„æ‰€æœ‰æƒè¢«æ‹¿åˆ°äº†ï¼Œå› æ­¤å¯ä»¥è®¿é—®i</span></span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">"thread &#123;&#125; is complete"</span>, i);</span><br><span class="line">            start.elapsed().as_millis()</span><br><span class="line">        &#125;));</span><br><span class="line">    &#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// åˆ›å»ºresultsï¼Œç”¨ä»¥å­˜å‚¨10ä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´</span></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> results: <span class="built_in">Vec</span>&lt;<span class="built_in">u128</span>&gt; = <span class="built_in">vec!</span>[];</span><br><span class="line">    <span class="keyword">for</span> handle <span class="keyword">in</span> handles &#123;</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> a struct is returned from thread::spawn, can you use it?</span></span><br><span class="line">        <span class="comment">// ç­‰å¾…æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆå†ç»“æŸä¸»çº¿ç¨‹</span></span><br><span class="line">        results.push(handle.join().unwrap());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¾“å‡ºæ—¶é—´</span></span><br><span class="line">    <span class="keyword">for</span> (i, result) <span class="keyword">in</span> results.into_iter().enumerate() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"thread &#123;&#125; took &#123;&#125;ms"</span>, i, result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>çº¿ç¨‹è¿”å›å€¼æ˜¯å¦‚ä½•å¾—åˆ°çš„ï¼Ÿ</p>
<p>åœ¨ <code>handle.join().unwrap()</code> ä¸­ï¼Œ<code>join()</code> æ–¹æ³•ä¼šç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆå¹¶è·å–çº¿ç¨‹çš„è¿”å›å€¼ï¼Œå³æ¯ä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ï¼Œç„¶åé€šè¿‡ <code>unwrap()</code> æ–¹æ³•å°†å…¶å–å‡ºå¹¶å­˜å‚¨åœ¨ <code>results</code> å‘é‡ä¸­ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/Easter1995/blog-image/202404241805103.png" alt="Untitled"></p>
</li>
<li><p>çº¿ç¨‹ç¼–å·å’Œæ—¶é—´æ˜¯å¦‚ä½•è¾“å‡ºçš„ï¼Ÿ</p>
<p><code>results.into_iter().enumerate()</code>: <code>into_iter()</code> æ–¹æ³•å°† <code>results</code> å‘é‡è½¬æ¢ä¸ºä¸€ä¸ªæ‹¥æœ‰æ‰€æœ‰æƒçš„è¿­ä»£å™¨ï¼Œ<code>enumerate()</code> æ–¹æ³•å¯¹è¿­ä»£å™¨è¿›è¡Œç´¢å¼•è¿­ä»£ï¼Œè¿”å›ä¸€ä¸ªå…ƒç»„ <code>(index, value)</code>ï¼Œå…¶ä¸­ <code>index</code> è¡¨ç¤ºå…ƒç´ åœ¨è¿­ä»£å™¨ä¸­çš„ç´¢å¼•ï¼Œ<code>value</code> è¡¨ç¤ºå…ƒç´ çš„å€¼ã€‚</p>
</li>
</ul>
<h1 id="threads3-rsâ€”â€”å¤šä¸ªå‘é€è€…"><a href="#threads3-rsâ€”â€”å¤šä¸ªå‘é€è€…" class="headerlink" title="threads3.rsâ€”â€”å¤šä¸ªå‘é€è€…"></a>threads3.rsâ€”â€”å¤šä¸ªå‘é€è€…</h1><p>ä¸ºä»€ä¹ˆè¿™é‡Œéœ€è¦å…‹éš†å‘é€æ–¹ï¼Ÿ</p>
<ul>
<li>å› ä¸ºthreadä½¿ç”¨äº†é—­åŒ…å…³é”®å­—moveï¼Œè¿™ä¼šä½¿å¾—åœ¨åˆ›å»ºç¬¬ä¸€ä¸ªçº¿ç¨‹æ—¶ï¼Œtxçš„æ‰€æœ‰æƒå·²ç»è¢«ç§»åˆ°äº†ç¬¬ä¸€ä¸ªçº¿ç¨‹é‡Œé¢ï¼Œç¬¬äºŒä¸ªçº¿ç¨‹è¿˜æƒ³ç”¨txå‘é€ä¿¡æ¯è‡ªç„¶æ˜¯åšä¸åˆ°çš„</li>
<li>å› æ­¤å…‹éš†ä¸€ä¸ªtxï¼Œç¬¬äºŒä¸ªçº¿ç¨‹å°±å¯ä»¥ä½¿ç”¨äº†</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">send_tx</span></span>(q: Queue, tx: mpsc::Sender&lt;<span class="built_in">u32</span>&gt;) -&gt; () &#123;</span><br><span class="line">    <span class="keyword">let</span> qc = Arc::new(q);</span><br><span class="line">    <span class="keyword">let</span> qc1 = Arc::clone(&amp;qc);</span><br><span class="line">    <span class="keyword">let</span> qc2 = Arc::clone(&amp;qc);</span><br><span class="line">    <span class="comment">// å…‹éš†å‘é€æ–¹</span></span><br><span class="line">    <span class="keyword">let</span> tx_clone = tx.clone();</span><br><span class="line"></span><br><span class="line">    thread::spawn(<span class="keyword">move</span> || &#123;</span><br><span class="line">        <span class="keyword">for</span> val <span class="keyword">in</span> &amp;qc1.first_half &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">"sending &#123;:?&#125;"</span>, val);</span><br><span class="line">            tx.send(*val).unwrap();</span><br><span class="line">            thread::sleep(Duration::from_secs(<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    thread::spawn(<span class="keyword">move</span> || &#123;</span><br><span class="line">        <span class="keyword">for</span> val <span class="keyword">in</span> &amp;qc2.second_half &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">"sending &#123;:?&#125;"</span>, val);</span><br><span class="line">            <span class="comment">// ä½¿ç”¨å…‹éš†çš„å‘é€æ–¹</span></span><br><span class="line">            tx_clone.send(*val).unwrap();</span><br><span class="line">            thread::sleep(Duration::from_secs(<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="macros3-rs"><a href="#macros3-rs" class="headerlink" title="macros3.rs"></a>macros3.rs</h1><ul>
<li>ä½¿ç”¨macro_rules!æ¥å®šä¹‰å®</li>
<li>å®çš„å®šä¹‰å¿…é¡»åœ¨è°ƒç”¨ä¹‹å‰</li>
<li>é€šè¿‡åœ¨ <code>my_macro</code> å®å®šä¹‰å‰åŠ ä¸Š <code>#[macro_export]</code> å±æ€§ï¼Œä½¿å¾—å®å¯ä»¥åœ¨æ¨¡å—å¤–éƒ¨ä½¿ç”¨</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">mod</span> macros &#123;</span><br><span class="line">    <span class="meta">#[macro_export]</span></span><br><span class="line">    <span class="built_in">macro_rules!</span> my_macro &#123;</span><br><span class="line">        () =&gt; &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">"Check out my macro!"</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    my_macro!();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="macros4-rs"><a href="#macros4-rs" class="headerlink" title="macros4.rs"></a>macros4.rs</h1><p>æ¨¡å¼åŒ¹é…ï¼š</p>
<ol>
<li><code>$()</code> ä¸­åŒ…å«çš„æ˜¯æ¨¡å¼ <code>$x:expr</code>ï¼Œè¯¥æ¨¡å¼ä¸­çš„ <code>expr</code> è¡¨ç¤ºä¼šåŒ¹é…ä»»ä½• Rust è¡¨è¾¾å¼ï¼Œå¹¶ç»™äºˆè¯¥æ¨¡å¼ä¸€ä¸ªåç§° <code>$x</code></li>
<li>å› æ­¤ <code>$x</code> æ¨¡å¼å¯ä»¥è·Ÿæ•´æ•° <code>1</code> è¿›è¡ŒåŒ¹é…ï¼Œä¹Ÿå¯ä»¥è·Ÿå­—ç¬¦ä¸² â€œhelloâ€ è¿›è¡ŒåŒ¹é…: <code>vec![&quot;hello&quot;, &quot;world&quot;]</code></li>
<li><code>$()</code> ä¹‹åçš„é€—å·ï¼Œæ„å‘³ç€<code>1</code> å’Œ <code>2</code> ä¹‹é—´å¯ä»¥ä½¿ç”¨é€—å·è¿›è¡Œåˆ†å‰²ï¼Œä¹Ÿæ„å‘³ç€ <code>3</code> æ—¢å¯ä»¥æ²¡æœ‰é€—å·ï¼Œä¹Ÿå¯ä»¥æœ‰é€—å·ï¼š<code>vec![1, 2, 3,]</code> </li>
<li><code>*</code>è¯´æ˜ä¹‹å‰çš„æ¨¡å¼å¯ä»¥å‡ºç°é›¶æ¬¡ä¹Ÿå¯ä»¥ä»»æ„æ¬¡ï¼Œè¿™é‡Œå‡ºç°äº†ä¸‰æ¬¡</li>
</ol>
<p>åŒ¹é…ä¸€æ¬¡ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[rustfmt::skip]</span></span><br><span class="line"><span class="built_in">macro_rules!</span> my_macro &#123;</span><br><span class="line">    () =&gt; &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Check out my macro!"</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    ($val:expr) =&gt; &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Look at this other macro: &#123;&#125;"</span>, $val);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    my_macro!();</span><br><span class="line">    my_macro!(<span class="number">7777</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…å¤šæ¬¡ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[rustfmt::skip]</span></span><br><span class="line"><span class="built_in">macro_rules!</span> my_macro &#123;</span><br><span class="line">    () =&gt; &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Check out my macro!"</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    ($($val:expr),*) =&gt; &#123;</span><br><span class="line">        $(</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">"Look at this other macro: &#123;&#125;"</span>, $val);</span><br><span class="line">        )*</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    my_macro!();</span><br><span class="line">    my_macro!(<span class="number">7777</span>, <span class="number">999</span>, <span class="string">"hello"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="tests5-rsâ€”â€”è£¸æŒ‡é’ˆå’Œunsafe"><a href="#tests5-rsâ€”â€”è£¸æŒ‡é’ˆå’Œunsafe" class="headerlink" title="tests5.rsâ€”â€”è£¸æŒ‡é’ˆå’Œunsafe"></a>tests5.rsâ€”â€”è£¸æŒ‡é’ˆå’Œunsafe</h1><ul>
<li><p>åœ¨è£¸æŒ‡é’ˆ <code>*const T</code> ä¸­ï¼Œè¿™é‡Œçš„ <code>*</code> åªæ˜¯ç±»å‹åç§°çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶æ²¡æœ‰è§£å¼•ç”¨çš„å«ä¹‰</p>
</li>
<li><p>ä¸‹é¢çš„ä»£ç <strong>åŸºäºå€¼çš„å¼•ç”¨</strong>åŒæ—¶åˆ›å»ºäº†å¯å˜å’Œä¸å¯å˜çš„è£¸æŒ‡é’ˆï¼Œ<strong>åˆ›å»ºè£¸æŒ‡é’ˆæ˜¯å®‰å…¨çš„è¡Œä¸ºï¼Œè€Œè§£å¼•ç”¨è£¸æŒ‡é’ˆæ‰æ˜¯ä¸å®‰å…¨çš„è¡Œä¸º</strong> :</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> num = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> r1 = &amp;num <span class="keyword">as</span> *<span class="keyword">const</span> <span class="built_in">i32</span>; <span class="comment">// ä¸å¯å˜è£¸æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">let</span> r2 = &amp;<span class="keyword">mut</span> num <span class="keyword">as</span> *<span class="keyword">mut</span> <span class="built_in">i32</span>; <span class="comment">// å¯å˜è£¸æŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="algorithm1â€”â€”åˆå¹¶é“¾è¡¨"><a href="#algorithm1â€”â€”åˆå¹¶é“¾è¡¨" class="headerlink" title="algorithm1â€”â€”åˆå¹¶é“¾è¡¨"></a>algorithm1â€”â€”åˆå¹¶é“¾è¡¨</h1><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">merge</span></span>(list_a:LinkedList&lt;T&gt;,list_b:LinkedList&lt;T&gt;) -&gt; <span class="keyword">Self</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//TODO</span></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> merged_list = LinkedList::new();</span><br><span class="line">        <span class="comment">// è·å–é“¾è¡¨çš„å¼€å§‹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> node_a = list_a.start; </span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> node_b = list_b.start;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> node_a.is_some() || node_b.is_some() &#123;</span><br><span class="line">            <span class="comment">// æŒ‡é’ˆè§£å¼•ç”¨ï¼Œå…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆæœ‰å¯èƒ½ä¸ºNone</span></span><br><span class="line">            <span class="comment">// ä½†æ˜¯ä¸è·å¾—valçš„æ‰€æœ‰æƒ</span></span><br><span class="line">            <span class="keyword">let</span> a_val = node_a.map(|ptr| <span class="keyword">unsafe</span>&#123; &amp;(*ptr.as_ptr()).val &#125;);</span><br><span class="line">            <span class="keyword">let</span> b_val = node_b.map(|ptr| <span class="keyword">unsafe</span>&#123; &amp;(*ptr.as_ptr()).val &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ¯”è¾ƒå¤§å°</span></span><br><span class="line">            <span class="keyword">match</span> (a_val, b_val) &#123;</span><br><span class="line">                <span class="comment">// ä¸¤ä¸ªéƒ½éç©º</span></span><br><span class="line">                (<span class="literal">Some</span>(a), <span class="literal">Some</span>(b)) =&gt; &#123;</span><br><span class="line">                    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">                        merged_list.add(a.clone());</span><br><span class="line">                        <span class="comment">// æŒ‡é’ˆè§£å¼•ç”¨ä¸”è·å¾—æŒ‡é’ˆå†…å®¹çš„æ‰€æœ‰æƒ</span></span><br><span class="line">                        node_a = <span class="keyword">unsafe</span>&#123; (*node_a.unwrap().as_ptr()).next &#125;;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        merged_list.add(b.clone());</span><br><span class="line">                        node_b = <span class="keyword">unsafe</span>&#123; (*node_b.unwrap().as_ptr()).next &#125;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="comment">// aå·²ç»ç©ºäº†ï¼Œç›´æ¥æŠŠbå‰©ä¸‹çš„å…ƒç´ å…¨éƒ¨åŠ è¿›é“¾è¡¨</span></span><br><span class="line">                (<span class="literal">None</span>, <span class="literal">Some</span>(b)) =&gt; &#123;</span><br><span class="line">                    merged_list.add(b.clone());</span><br><span class="line">                    node_b = <span class="keyword">unsafe</span>&#123; (*node_b.unwrap().as_ptr()).next &#125;;</span><br><span class="line">                &#125;,</span><br><span class="line">                (<span class="literal">Some</span>(a), <span class="literal">None</span>) =&gt; &#123;</span><br><span class="line">                    merged_list.add(a.clone());</span><br><span class="line">                    node_a = <span class="keyword">unsafe</span>&#123; (*node_a.unwrap().as_ptr()).next &#125;;</span><br><span class="line">                &#125;,</span><br><span class="line">                (<span class="literal">None</span>, <span class="literal">None</span>) =&gt; &#123;</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        merged_list</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h1 id="algorithm2â€”â€”é“¾è¡¨åè½¬"><a href="#algorithm2â€”â€”é“¾è¡¨åè½¬" class="headerlink" title="algorithm2â€”â€”é“¾è¡¨åè½¬"></a>algorithm2â€”â€”é“¾è¡¨åè½¬</h1><ul>
<li><p>å› ä¸ºç”¨åˆ°äº†cloneï¼Œå› æ­¤å¿…é¡»é™å®šTæ˜¯å…·æœ‰Cloneç‰¹å¾çš„æ³›å‹</p>
</li>
<li><p>æ–¹æ³•ä¸€</p>
<ul>
<li>ä½¿ç”¨<code>std::mem::replace(self, reversed_list);</code> äº¤æ¢æ–°é“¾è¡¨å’Œselfçš„æ‰€æœ‰æƒ</li>
</ul>
</li>
<li><p>æ–¹æ³•äºŒ</p>
<ul>
<li>ç›´æ¥å°†æ–°é“¾è¡¨çš„æ‰€æœ‰æƒäº¤ç»™self</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span>&lt;T: <span class="built_in">Clone</span>&gt; LinkedList&lt;T&gt; &#123;</span><br><span class="line">	<span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">reverse</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>)&#123;</span><br><span class="line">		<span class="keyword">let</span> <span class="keyword">mut</span> reversed_list = LinkedList::new();</span><br><span class="line">        <span class="comment">// è·å–é“¾è¡¨çš„æœ«å°¾èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> current_node = <span class="keyword">self</span>.end;</span><br><span class="line">        <span class="keyword">while</span> current_node.is_some() &#123;</span><br><span class="line">            <span class="comment">// è·å–å½“å‰èŠ‚ç‚¹å€¼çš„å¼•ç”¨</span></span><br><span class="line">            <span class="keyword">let</span> value = current_node.map(|ptr| <span class="keyword">unsafe</span>&#123; &amp;(*ptr.as_ptr()).val &#125;);</span><br><span class="line">            <span class="keyword">match</span> value &#123;</span><br><span class="line">                <span class="literal">Some</span>(x) =&gt; &#123;</span><br><span class="line">                    <span class="comment">// æ–°é“¾è¡¨åŠ å…¥x</span></span><br><span class="line">                    reversed_list.add(x.clone());</span><br><span class="line">                    <span class="comment">// æŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">                    current_node = <span class="keyword">unsafe</span>&#123; (*current_node.unwrap().as_ptr()).prev &#125;;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="literal">None</span> =&gt; <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// äº¤æ¢æ–°é“¾è¡¨å’ŒåŸé“¾è¡¨çš„æ‰€æœ‰æƒ</span></span><br><span class="line">        <span class="comment">// std::mem::replace(self, reversed_list);</span></span><br><span class="line">        *<span class="keyword">self</span> = reversed_list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¶ä¸­whileå¾ªç¯é‚£æ®µå¯ä»¥è¿™æ ·æ”¹ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="keyword">let</span> <span class="literal">Some</span>(node_ptr) = current_node &#123;</span><br><span class="line">    <span class="keyword">let</span> value = <span class="keyword">unsafe</span> &#123; &amp;(*node_ptr.as_ptr()).val &#125;; <span class="comment">// å› ä¸ºnode_ptrè‚¯å®šæ˜¯Someç±»å‹çš„ï¼Œå…¶å€¼ä¸€å®šå­˜åœ¨</span></span><br><span class="line">    reversed_list.add(value.clone());</span><br><span class="line">    current_node = <span class="keyword">unsafe</span> &#123; (*node_ptr.as_ptr()).prev &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="algorithm4â€”â€”äºŒå‰æŸ¥æ‰¾æ ‘"><a href="#algorithm4â€”â€”äºŒå‰æŸ¥æ‰¾æ ‘" class="headerlink" title="algorithm4â€”â€”äºŒå‰æŸ¥æ‰¾æ ‘"></a>algorithm4â€”â€”äºŒå‰æŸ¥æ‰¾æ ‘</h1><ul>
<li><p>å› ä¸ºè¦é€’å½’å®ç°æ’å…¥å’ŒæŸ¥æ‰¾ï¼Œæ‰€ä»¥åº”è¯¥å°†searchå’Œinsertå®ç°ä¸ºTreeNodeçš„æ–¹æ³•ï¼Œæ‰€ä»¥TreeNodeæ–¹æ³•çš„å®ç°åº”è¯¥è¦å†™åœ¨æœ€å‰é¢</p>
</li>
<li><p>äºŒå‰æ ‘èŠ‚ç‚¹çš„æ–¹æ³•ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­¤æ—¶selfæ˜¯äºŒå‰æ ‘é‡Œé¢çš„ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">insert</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, value: T) &#123;</span><br><span class="line">    <span class="keyword">match</span> value.cmp(&amp;<span class="keyword">self</span>.value) &#123;</span><br><span class="line">        <span class="comment">// è¦æ’å…¥çš„èŠ‚ç‚¹å°äºå½“å‰èŠ‚ç‚¹</span></span><br><span class="line">        Ordering::Less =&gt; &#123;</span><br><span class="line">            <span class="comment">// åº”è¯¥æŠŠå®ƒå¾€å·¦è¾¹é€’å½’</span></span><br><span class="line">            <span class="keyword">match</span> &amp;<span class="keyword">mut</span> <span class="keyword">self</span>.left &#123;</span><br><span class="line">                <span class="literal">Some</span>(left) =&gt; &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœå·¦æŒ‡é’ˆæœ‰å€¼ï¼Œå°±ç»§ç»­é€’å½’</span></span><br><span class="line">                    <span class="comment">// å·¦æŒ‡é’ˆæ˜¯ä¸€ä¸ªBox</span></span><br><span class="line">                    (*left).insert(value);</span><br><span class="line">                &#125;</span><br><span class="line">                _ =&gt; &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœå·¦æŒ‡é’ˆæŒ‡å‘Noneï¼Œå°±è®©å®ƒæŒ‡å‘æ–°å»ºèŠ‚ç‚¹</span></span><br><span class="line">                    <span class="keyword">self</span>.left = <span class="literal">Some</span>(<span class="built_in">Box</span>::new(TreeNode::new(value)));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Ordering::Greater =&gt; &#123;</span><br><span class="line">            <span class="comment">// åº”è¯¥æŠŠå®ƒå¾€å³è¾¹é€’å½’</span></span><br><span class="line">            <span class="keyword">match</span> &amp;<span class="keyword">mut</span> <span class="keyword">self</span>.right &#123;</span><br><span class="line">                <span class="literal">Some</span>(right) =&gt; &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœå³æŒ‡é’ˆæœ‰å€¼ï¼Œå°±ç»§ç»­é€’å½’</span></span><br><span class="line">                    <span class="comment">// å³æŒ‡é’ˆæ˜¯ä¸€ä¸ªBox</span></span><br><span class="line">                    (*right).insert(value);</span><br><span class="line">                &#125;</span><br><span class="line">                _ =&gt; &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœå³æŒ‡é’ˆæŒ‡å‘Noneï¼Œå°±è®©å®ƒæŒ‡å‘æ–°å»ºèŠ‚ç‚¹</span></span><br><span class="line">                    <span class="keyword">self</span>.right = <span class="literal">Some</span>(<span class="built_in">Box</span>::new(TreeNode::new(value)));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        _ =&gt; &#123;&#125; <span class="comment">// ç›¸ç­‰æ—¶ä¸æ’å…¥æ–°èŠ‚ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">search</span></span>(&amp;<span class="keyword">self</span>, value: T) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">	  <span class="keyword">match</span> value.cmp(&amp;<span class="keyword">self</span>.value) &#123;</span><br><span class="line">	      Ordering::Less =&gt; &#123;</span><br><span class="line">	          <span class="comment">// è¯´æ˜åº”è¯¥å¾€å½“å‰èŠ‚ç‚¹çš„å·¦è¾¹æ‰¾</span></span><br><span class="line">	          <span class="keyword">match</span> &amp;<span class="keyword">self</span>.left &#123;</span><br><span class="line">	              <span class="literal">Some</span>(left) =&gt; &#123; <span class="keyword">return</span> left.search(value); &#125;</span><br><span class="line">	              _ =&gt; &#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</span><br><span class="line">	          &#125;</span><br><span class="line">	      &#125;</span><br><span class="line">	      Ordering::Greater =&gt; &#123;</span><br><span class="line">	          <span class="comment">// è¯´æ˜åº”è¯¥å¾€å½“å‰èŠ‚ç‚¹çš„å³è¾¹æ‰¾</span></span><br><span class="line">	          <span class="keyword">match</span> &amp;<span class="keyword">self</span>.right &#123;</span><br><span class="line">	              <span class="literal">Some</span>(right) =&gt; &#123; <span class="keyword">return</span> right.search(value); &#125;</span><br><span class="line">	              _ =&gt; &#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</span><br><span class="line">	          &#125;</span><br><span class="line">	      &#125;</span><br><span class="line">	      _ =&gt; &#123; <span class="keyword">return</span> <span class="literal">true</span>; &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>äºŒå‰æ ‘çš„æ–¹æ³•</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Insert a value into the BST</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">insert</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, value: T) &#123;</span><br><span class="line">    <span class="comment">// ç›´æ¥ä½¿ç”¨èŠ‚ç‚¹çš„æ’å…¥æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">match</span> &amp;<span class="keyword">mut</span> <span class="keyword">self</span>.root &#123;</span><br><span class="line">        <span class="literal">Some</span>(root_node) =&gt; &#123;</span><br><span class="line">            root_node.insert(value);</span><br><span class="line">        &#125;</span><br><span class="line">        _ =&gt; &#123;</span><br><span class="line">            <span class="keyword">self</span>.root = <span class="literal">Some</span>(<span class="built_in">Box</span>::new(TreeNode::new(value)));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Search for a value in the BST</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">search</span></span>(&amp;<span class="keyword">self</span>, value: T) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">    <span class="keyword">match</span> &amp;<span class="keyword">self</span>.root &#123;</span><br><span class="line">        <span class="literal">Some</span>(root_node) =&gt; &#123; root_node.search(value) &#125;</span><br><span class="line">        _ =&gt; &#123; <span class="literal">false</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="algorithm7â€”â€”ç”¨Vecå®ç°æ ˆ"><a href="#algorithm7â€”â€”ç”¨Vecå®ç°æ ˆ" class="headerlink" title="algorithm7â€”â€”ç”¨Vecå®ç°æ ˆ"></a>algorithm7â€”â€”ç”¨Vecå®ç°æ ˆ</h1><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘ï¼šsizeè®°å¾—-=1</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">pop</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) -&gt; <span class="built_in">Option</span>&lt;T&gt; &#123;</span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">self</span>.size &gt; <span class="number">0</span> &#123;</span><br><span class="line">			<span class="keyword">self</span>.size -= <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">self</span>.data.pop()</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">bracket_match</span></span>(bracket: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">bool</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> <span class="keyword">mut</span> stack = Stack::new();</span><br><span class="line">	<span class="comment">// éå†å­—ç¬¦ä¸²é‡Œé¢çš„å­—ç¬¦</span></span><br><span class="line">	<span class="keyword">for</span> chr <span class="keyword">in</span> bracket.chars() &#123;</span><br><span class="line">		<span class="comment">// æ‰«æåˆ°å·¦æ‹¬å·å°±å…¥æ ˆ</span></span><br><span class="line">		<span class="keyword">if</span> chr == <span class="string">'('</span> || chr == <span class="string">'&#123;'</span> || chr == <span class="string">'['</span> &#123;</span><br><span class="line">			stack.push(chr);</span><br><span class="line">		&#125; </span><br><span class="line">		<span class="keyword">if</span> chr == <span class="string">')'</span> || chr == <span class="string">'&#125;'</span> || chr == <span class="string">']'</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> stack.is_empty() &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(stack_top) = stack.pop() &#123;</span><br><span class="line">				<span class="keyword">if</span> chr == <span class="string">')'</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> stack_top != <span class="string">'('</span> &#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</span><br><span class="line">				&#125; <span class="keyword">else</span> <span class="keyword">if</span> chr == <span class="string">'&#125;'</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> stack_top != <span class="string">'&#123;'</span> &#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</span><br><span class="line">				&#125; <span class="keyword">else</span> <span class="keyword">if</span> chr == <span class="string">']'</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> stack_top != <span class="string">'['</span> &#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	stack.is_empty()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="algorithm8â€”â€”ä¸¤ä¸ªé˜Ÿåˆ—å®ç°æ ˆ"><a href="#algorithm8â€”â€”ä¸¤ä¸ªé˜Ÿåˆ—å®ç°æ ˆ" class="headerlink" title="algorithm8â€”â€”ä¸¤ä¸ªé˜Ÿåˆ—å®ç°æ ˆ"></a>algorithm8â€”â€”ä¸¤ä¸ªé˜Ÿåˆ—å®ç°æ ˆ</h1><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡ºé˜Ÿï¼Œå‡ºç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">dequeue</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) -&gt; <span class="built_in">Result</span>&lt;T, &amp;<span class="built_in">str</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> !<span class="keyword">self</span>.elements.is_empty() &#123;</span><br><span class="line">        <span class="literal">Ok</span>(<span class="keyword">self</span>.elements.remove(<span class="number">0usize</span>))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="literal">Err</span>(<span class="string">"Stack is empty"</span>) <span class="comment">// å‘ï¼šè®°å¾—æŠŠåŸæ¥çš„â€œQueueâ€æ”¹æˆâ€œStackâ€</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çœ‹é˜Ÿå¤´çš„å…ƒç´ çš„å€¼</span></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">peek</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">Result</span>&lt;&amp;T, &amp;<span class="built_in">str</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">match</span> <span class="keyword">self</span>.elements.first() &#123;</span><br><span class="line">        <span class="literal">Some</span>(value) =&gt; <span class="literal">Ok</span>(value),</span><br><span class="line">        <span class="literal">None</span> =&gt; <span class="literal">Err</span>(<span class="string">"Stack is empty"</span>),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">push</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, elem: T) &#123;</span><br><span class="line">    <span class="keyword">self</span>.q1.enqueue(elem); <span class="comment">// å…¥é˜Ÿåˆ—q1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">pop</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) -&gt; <span class="built_in">Result</span>&lt;T, &amp;<span class="built_in">str</span>&gt; &#123;</span><br><span class="line">    <span class="comment">// å°†q1é‡Œé¢çš„é™¤æœ€åä¸€ä¸ªå…ƒç´ ä¾æ¬¡å‡ºæ ˆå­˜åˆ°q2</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> <span class="number">1</span>..<span class="keyword">self</span>.q1.size() &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Ok</span>(value) = <span class="keyword">self</span>.q1.dequeue() &#123;</span><br><span class="line">            <span class="keyword">self</span>.q2.enqueue(value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    std::mem::swap(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>.q1, &amp;<span class="keyword">mut</span> <span class="keyword">self</span>.q2); <span class="comment">// äº¤æ¢q1ã€q2æ‰€æœ‰æƒ</span></span><br><span class="line">    <span class="keyword">self</span>.q2.dequeue() <span class="comment">// q2è´Ÿè´£å‡ºé˜Ÿ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">is_empty</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">		<span class="keyword">self</span>.q1.is_empty() &amp;&amp; <span class="keyword">self</span>.q2.is_empty()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="algorithm9â€”â€”å †æ’åº"><a href="#algorithm9â€”â€”å †æ’åº" class="headerlink" title="algorithm9â€”â€”å †æ’åº"></a>algorithm9â€”â€”å †æ’åº</h1><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span>&lt;T&gt; Heap&lt;T&gt;</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">    T: <span class="built_in">Default</span> + std::cmp::<span class="built_in">PartialOrd</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">new</span></span>(comparator: <span class="function"><span class="keyword">fn</span></span>(&amp;T, &amp;T) -&gt; <span class="built_in">bool</span>) -&gt; <span class="keyword">Self</span> &#123;</span><br><span class="line">        <span class="keyword">Self</span> &#123;</span><br><span class="line">            count: <span class="number">0</span>,</span><br><span class="line">            items: <span class="built_in">vec!</span>[T::default()], <span class="comment">// ä»ä¸‹æ ‡ä¸º1çš„åœ°æ–¹å¼€å§‹å­˜å †</span></span><br><span class="line">            comparator,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">len</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">usize</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.count</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">is_empty</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.len() == <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">add</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, value: T) &#123;</span><br><span class="line">        <span class="keyword">self</span>.count += <span class="number">1</span>; <span class="comment">// indexä»1å¼€å§‹</span></span><br><span class="line">        <span class="keyword">self</span>.items.push(value); <span class="comment">// å…ˆåœ¨å †çš„æœ€åæ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> index = <span class="keyword">self</span>.count;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> index &gt; <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> parent_idx = <span class="keyword">self</span>.parent_idx(index); <span class="comment">// è·å–æœ€åä¸€ä¸ªå…ƒç´ çš„çˆ¶å…ƒç´ </span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">self</span>.comparator)(&amp;<span class="keyword">self</span>.items[index], &amp;<span class="keyword">self</span>.items[parent_idx]) &#123;</span><br><span class="line">                <span class="keyword">self</span>.items.swap(index, parent_idx); <span class="comment">// å°†å®ƒå’Œçˆ¶å…ƒç´ äº¤æ¢</span></span><br><span class="line">                index = parent_idx; <span class="comment">// å‘ç”Ÿäº¤æ¢åindexç§»åŠ¨åˆ°çˆ¶å…ƒç´ çš„ä½ç½®</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">parent_idx</span></span>(&amp;<span class="keyword">self</span>, idx: <span class="built_in">usize</span>) -&gt; <span class="built_in">usize</span> &#123;</span><br><span class="line">        idx / <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­idxæ˜¯å¦æœ‰å­©å­</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">children_present</span></span>(&amp;<span class="keyword">self</span>, idx: <span class="built_in">usize</span>) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.left_child_idx(idx) &lt;= <span class="keyword">self</span>.count</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">left_child_idx</span></span>(&amp;<span class="keyword">self</span>, idx: <span class="built_in">usize</span>) -&gt; <span class="built_in">usize</span> &#123;</span><br><span class="line">        idx * <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">right_child_idx</span></span>(&amp;<span class="keyword">self</span>, idx: <span class="built_in">usize</span>) -&gt; <span class="built_in">usize</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.left_child_idx(idx) + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‰å †è§„å®šçš„é¡ºåºè¿”å›ä¸¤ä¸ªå­©å­ä¸­åº”è¯¥åœ¨å‰é¢çš„ä¸€ä¸ªçš„ç´¢å¼•å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">smallest_child_idx</span></span>(&amp;<span class="keyword">self</span>, idx: <span class="built_in">usize</span>) -&gt; <span class="built_in">usize</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> left = <span class="keyword">self</span>.left_child_idx(idx);</span><br><span class="line">        <span class="keyword">let</span> right = <span class="keyword">self</span>.right_child_idx(idx);</span><br><span class="line">        <span class="keyword">if</span> right &gt; <span class="keyword">self</span>.count &#123;</span><br><span class="line">            left</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">self</span>.comparator)(&amp;<span class="keyword">self</span>.items[left], &amp;<span class="keyword">self</span>.items[right]) &#123;</span><br><span class="line">            left</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">next</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) -&gt; <span class="built_in">Option</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">self</span>.count == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›¸å½“äºå †æ’åº</span></span><br><span class="line">    <span class="keyword">let</span> ret = <span class="keyword">self</span>.items.swap_remove(<span class="number">1</span>); <span class="comment">// å°†å †é¡¶å…ƒç´ è¾“å‡ºï¼Œå †åº•å…ƒç´ å‡ä¸Šæ¥</span></span><br><span class="line">    <span class="keyword">self</span>.count -= <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// å†æ¬¡è°ƒæ•´å †ä¸ºå¤§æ ¹å †æˆ–å°æ ¹å †</span></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> index = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// å½“å½“å‰å…ƒç´ æœ‰å­å…ƒç´ æ—¶</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">self</span>.children_present(index) &#123;</span><br><span class="line">        <span class="keyword">let</span> child_index = <span class="keyword">self</span>.smallest_child_idx(index);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">self</span>.comparator)(&amp;<span class="keyword">self</span>.items[child_index], &amp;<span class="keyword">self</span>.items[index]) &#123;</span><br><span class="line">            <span class="keyword">self</span>.items.swap(child_index, index);</span><br><span class="line">            index = child_index;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>; <span class="comment">// å¦‚æœä¸breakä¼šè¿›å…¥æ­»å¾ªç¯</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="literal">Some</span>(ret)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="algorithm10â€”â€”å›¾"><a href="#algorithm10â€”â€”å›¾" class="headerlink" title="algorithm10â€”â€”å›¾"></a>algorithm10â€”â€”å›¾</h1><p>ç”¨åˆ°äº†<code>get_mut()</code></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ— å‘å›¾ç»“æ„çš„é‚»æ¥è¡¨ï¼Œç”¨HashMapæ¥å­˜å‚¨ï¼Œé”®æ˜¯Stringï¼Œé”®å€¼æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå…¶ä¸­i32å¯èƒ½è¡¨ç¤ºè¾¹é•¿</span></span><br><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">struct</span> <span class="title">UndirectedGraph</span></span> &#123;</span><br><span class="line">    adjacency_table: HashMap&lt;<span class="built_in">String</span>, <span class="built_in">Vec</span>&lt;(<span class="built_in">String</span>, <span class="built_in">i32</span>)&gt;&gt;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span> Graph <span class="keyword">for</span> UndirectedGraph &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">new</span></span>() -&gt; UndirectedGraph &#123;</span><br><span class="line">        UndirectedGraph &#123;</span><br><span class="line">            adjacency_table: HashMap::new(),</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è·å–é‚»æ¥è¡¨çš„å¯å˜å¼•ç”¨</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">adjacency_table_mutable</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) -&gt; &amp;<span class="keyword">mut</span> HashMap&lt;<span class="built_in">String</span>, <span class="built_in">Vec</span>&lt;(<span class="built_in">String</span>, <span class="built_in">i32</span>)&gt;&gt; &#123;</span><br><span class="line">        &amp;<span class="keyword">mut</span> <span class="keyword">self</span>.adjacency_table</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è·å–é‚»æ¥è¡¨çš„å¼•ç”¨</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">adjacency_table</span></span>(&amp;<span class="keyword">self</span>) -&gt; &amp;HashMap&lt;<span class="built_in">String</span>, <span class="built_in">Vec</span>&lt;(<span class="built_in">String</span>, <span class="built_in">i32</span>)&gt;&gt; &#123;</span><br><span class="line">        &amp;<span class="keyword">self</span>.adjacency_table</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ·»åŠ è¾¹</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">add_edge</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, edge: (&amp;<span class="built_in">str</span>, &amp;<span class="built_in">str</span>, <span class="built_in">i32</span>)) &#123;</span><br><span class="line">        <span class="comment">// è¦åœ¨ä¸‰å…ƒç»„çš„ç¬¬ä¸€ä¸ªstrå’Œç¬¬äºŒä¸ªsträ¹‹é—´åŠ è¾¹</span></span><br><span class="line">        <span class="keyword">let</span> (vertice1, vertice2, weight) = edge;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å¦‚æœç¬¬ä¸€ä¸ªç‚¹æŸ¥è¯¢å¾—åˆ°</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(adj1) = <span class="keyword">self</span>.adjacency_table_mutable().get_mut(&amp;<span class="built_in">String</span>::from(vertice1)) &#123;</span><br><span class="line">            adj1.push((<span class="built_in">String</span>::from(vertice2), weight));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>.add_node(vertice1);</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(new_adj1) = <span class="keyword">self</span>.adjacency_table_mutable().get_mut(vertice1) &#123;</span><br><span class="line">                new_adj1.push((<span class="built_in">String</span>::from(vertice2), weight));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœç¬¬äºŒä¸ªç‚¹æŸ¥è¯¢å¾—åˆ°</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(adj2) = <span class="keyword">self</span>.adjacency_table_mutable().get_mut(vertice2) &#123;</span><br><span class="line">            adj2.push((<span class="built_in">String</span>::from(vertice1), weight));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>.add_node(vertice2);</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(new_adj2) = <span class="keyword">self</span>.adjacency_table_mutable().get_mut(&amp;<span class="built_in">String</span>::from(vertice2)) &#123;</span><br><span class="line">                new_adj2.push((<span class="built_in">String</span>::from(vertice1), weight));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ æˆåŠŸè¿”å›trueï¼Œæ·»åŠ å¤±è´¥è¿”å›false</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">add_node</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, node: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">self</span>.contains(node) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.adjacency_table_mutable().insert(node.to_string(), <span class="built_in">Vec</span>::new());</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åœ¨ç»“æ„ä½“æ–¹æ³•ä¸­å®ç°äº†</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">add_edge</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, edge: (&amp;<span class="built_in">str</span>, &amp;<span class="built_in">str</span>, <span class="built_in">i32</span>));</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/24/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-xforcevesa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/24/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-xforcevesa/" class="post-title-link" itemprop="url">2024å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç¬¬ä¸€é˜¶æ®µæ€»ç»“-xforcevesa</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-24 17:58:06" itemprop="dateCreated datePublished" datetime="2024-04-24T17:58:06+00:00">2024-04-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-27 00:49:10" itemprop="dateModified" datetime="2024-04-27T00:49:10+00:00">2024-04-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ç¬¬ä¸€é˜¶æ®µ-Rustå­¦ä¹ "><a href="#ç¬¬ä¸€é˜¶æ®µ-Rustå­¦ä¹ " class="headerlink" title="ç¬¬ä¸€é˜¶æ®µ - Rustå­¦ä¹ "></a>ç¬¬ä¸€é˜¶æ®µ - Rustå­¦ä¹ </h2><h3 id="å‰è¨€å°è®°"><a href="#å‰è¨€å°è®°" class="headerlink" title="å‰è¨€å°è®°"></a>å‰è¨€å°è®°</h3><p>å” å—‘ä¸€ç•ªï¼šåœ¨æ­¤æ¬¡å¼€æºæ“ä½œç³»ç»Ÿé›†è®­è¥ä¹‹å‰ï¼Œæˆ‘å®é™…ä¸Šå·²ç»å‚åŠ è¿‡è‹¥å¹²æ¬¡äº†ã€‚æœ€æ—©çš„æ—¶å€™ï¼Œæ˜¯æˆ‘å¯¹è±¡åœ¨2022å¹´çœ‹åˆ°äº†é›†è®­è¥çš„å¼€è¥é€šçŸ¥ï¼Œå¹¶åœ¨GitHubçš„issueä¸Šå›å¤æ¥æŠ¥åã€‚ç„¶è€Œï¼Œç”±äºæˆ‘ä¹‹å‰æ²¡æœ‰ç•™æ„åˆ°ç›¸å…³ä¿¡æ¯ï¼Œé”™è¿‡äº†è¿‡å»å¥½å‡ æœŸçš„æœºä¼šã€‚è¿™ä¸€æ¬¡ä¹Ÿç®—åšæ˜¯è‡ªå·±é‡æ¥çš„æœºä¼šå§ã€‚ä¸è¿‡è¯´èµ·æ¥ï¼Œè¿™ä¸ªrustlingsçš„ç¡®æ˜¯æˆ‘ä»å»å¹´ä¸€ç›´åšåˆ°äº†ç°åœ¨ã€‚ä»Šå¹´ç›´æ¥æ–°å¢10é“æ•°æ®ç»“æ„é¢˜ï¼Œ <del>æœ¬fwç›´æ¥æ²¡æ³•ä¹Ÿå°±ä¸Šäº†äº¿ç‚¹ç‚¹unsafeï¼Œ</del> å¥½åœ¨ä¹‹å‰æœ‰ç»éªŒï¼Œäºæ˜¯ä¸‰å¤©å†²åˆºå®Œæˆï¼Œå°±æœ‰äº†æœ¬æ–‡ä¹‹ç¬¬ä¸€é˜¶æ®µæ€»ç»“ã€‚</p>
<p>Rustä½•ç‰©è€…ä¹Ÿï¼Ÿä¸€ä¸ªä»¤äººå®‰å¦‚ç£çŸ³çš„C++ Promax <del>ï¼ˆé’Ÿç¦»è€çˆ·å­çœ‹åç‚¹ä¸ªèµï¼‰</del> ï¼Œèƒœä»»WebAssemblyã€æ™®é€šå‘½ä»¤è¡Œåº”ç”¨ä¹ƒè‡³æ“ä½œç³»ç»Ÿç¼–å†™ã€‚è¯­æ³•æ¼‚äº®ï¼Œmatchä¸macroéå¸¸èµã€‚å…·æœ‰æˆä½“ç³»çš„åŒ…ç®¡ç†å™¨ï¼Œå®‰è£…å¯¼å…¥æ–°æ¨¡å—è½»æ¾å¦‚Pythonï¼Œrust-analyzerä¹Ÿå¾ˆèµï¼Œæä¾›æ¯”Pylanceæ›´å¥½çš„é«˜äº®æç¤ºã€‚è¿è¡Œæ•ˆç‡ä¹Ÿå¯ä»¥ï¼Œçœ‹ä¼¼å……æ»¡äº†å‡½æ•°ï¼Œå…¶å®llvmä¼˜åŒ–çš„ä¹ŸæŒºä¸é”™ï¼ˆ</p>
<p>ç®—å•¦ï¼Œåé¢æ˜¯æ­£ç»æ—¶é—´ï¼Œå°†å±•ç¤ºæœ¬äººå†™çš„ä»£ç ç¤ºä¾‹å’Œæ­£ç»ç‚¹çš„Rustå­¦ä¹ æ„Ÿæƒ³ï¼Œå†æ¬¡æ„Ÿè°¢æ¸…åå¤§å­¦å¼€æºæ“ä½œç³»ç»Ÿé›†è®­è¥ï¼</p>
<h3 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h3><h4 id="Bellman-Ford"><a href="#Bellman-Ford" class="headerlink" title="Bellman-Ford"></a>Bellman-Ford</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span> &#123;</span><br><span class="line">    source: <span class="built_in">usize</span>,</span><br><span class="line">    destination: <span class="built_in">usize</span>,</span><br><span class="line">    weight: <span class="built_in">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">bellman_ford</span></span>(edges: &amp;<span class="built_in">Vec</span>&lt;Edge&gt;, num_vertices: <span class="built_in">usize</span>, source: <span class="built_in">usize</span>) -&gt; <span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> distances = <span class="built_in">vec!</span>[<span class="built_in">i32</span>::MAX; num_vertices];</span><br><span class="line">    distances[source] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="number">0</span>..num_vertices - <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> edge <span class="keyword">in</span> edges &#123;</span><br><span class="line">            <span class="keyword">if</span> distances[edge.source] + edge.weight &lt; distances[edge.destination] &#123;</span><br><span class="line">                distances[edge.destination] = distances[edge.source] + edge.weight;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> edge <span class="keyword">in</span> edges &#123;</span><br><span class="line">        <span class="keyword">if</span> distances[edge.source] + edge.weight &lt; distances[edge.destination] &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">"å›¾ä¸­åŒ…å«è´Ÿæƒé‡ç¯"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    distances</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> num_vertices = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">let</span> edges = <span class="built_in">vec!</span>[</span><br><span class="line">        Edge &#123; source: <span class="number">0</span>, destination: <span class="number">1</span>, weight: -<span class="number">1</span> &#125;,</span><br><span class="line">        Edge &#123; source: <span class="number">0</span>, destination: <span class="number">2</span>, weight: <span class="number">4</span> &#125;,</span><br><span class="line">        Edge &#123; source: <span class="number">1</span>, destination: <span class="number">2</span>, weight: <span class="number">3</span> &#125;,</span><br><span class="line">        Edge &#123; source: <span class="number">1</span>, destination: <span class="number">3</span>, weight: <span class="number">2</span> &#125;,</span><br><span class="line">        Edge &#123; source: <span class="number">1</span>, destination: <span class="number">4</span>, weight: <span class="number">2</span> &#125;,</span><br><span class="line">        Edge &#123; source: <span class="number">3</span>, destination: <span class="number">2</span>, weight: <span class="number">5</span> &#125;,</span><br><span class="line">        Edge &#123; source: <span class="number">3</span>, destination: <span class="number">1</span>, weight: <span class="number">1</span> &#125;,</span><br><span class="line">        Edge &#123; source: <span class="number">4</span>, destination: <span class="number">3</span>, weight: -<span class="number">3</span> &#125;,</span><br><span class="line">    ];</span><br><span class="line">    <span class="keyword">let</span> source = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> distances = bellman_ford(&amp;edges, num_vertices, source);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"é¡¶ç‚¹åˆ°æºé¡¶ç‚¹çš„è·ç¦»"</span>);</span><br><span class="line">    <span class="keyword">for</span> (i, &amp;dist) <span class="keyword">in</span> distances.iter().enumerate() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"&#123;&#125; \t\t &#123;&#125;"</span>, i, dist);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­¦ä¹ æ„Ÿæƒ³"><a href="#å­¦ä¹ æ„Ÿæƒ³" class="headerlink" title="å­¦ä¹ æ„Ÿæƒ³"></a>å­¦ä¹ æ„Ÿæƒ³</h2><p>æœ‰äº†Rustè¿™æ ·ä¸€é—¨å¼ºå¤§è€Œå¤æ‚çš„ç¼–ç¨‹è¯­è¨€ï¼Œæˆ‘çš„å­¦ä¹ ä¹‹æ—…ä¹Ÿå°±å……æ»¡äº†æŒ‘æˆ˜å’Œæ”¶è·ã€‚åœ¨å­¦ä¹ Rustçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ·±åˆ»ä½“ä¼šåˆ°äº†å…¶ç‹¬ç‰¹çš„è®¾è®¡ç†å¿µå’ŒåŠŸèƒ½ç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§ä½¿å¾—Ruståœ¨ç³»ç»Ÿç¼–ç¨‹é¢†åŸŸæœ‰ç€ç‹¬ç‰¹çš„ä¼˜åŠ¿å’Œä»·å€¼ã€‚</p>
<p>é¦–å…ˆï¼ŒRustçš„å†…å­˜ç®¡ç†æœºåˆ¶è®©æˆ‘å°è±¡æ·±åˆ»ã€‚é€šè¿‡æ‰€æœ‰æƒï¼ˆownershipï¼‰ã€å€Ÿç”¨ï¼ˆborrowingï¼‰å’Œç”Ÿå‘½å‘¨æœŸï¼ˆlifetimeï¼‰ç­‰æ¦‚å¿µï¼ŒRustå®ç°äº†å†…å­˜å®‰å…¨å’Œçº¿ç¨‹å®‰å…¨ï¼Œé¿å…äº†å¸¸è§çš„å†…å­˜é”™è¯¯å’Œæ•°æ®ç«äº‰é—®é¢˜ã€‚è™½ç„¶è¿™äº›æ¦‚å¿µåœ¨å¼€å§‹æ—¶è®©æˆ‘æ„Ÿåˆ°æœ‰äº›å›°æƒ‘ï¼Œä½†é€šè¿‡ä¸æ–­çš„å®è·µå’Œé˜…è¯»æ–‡æ¡£ï¼Œæˆ‘é€æ¸æŒæ¡äº†å®ƒä»¬ï¼Œå¹¶å¼€å§‹æ„Ÿå—åˆ°å®ƒä»¬å¸¦æ¥çš„å¥½å¤„ã€‚ä¸å…¶ä»–è¯­è¨€ç›¸æ¯”ï¼ŒRustçš„å†…å­˜ç®¡ç†æœºåˆ¶è®©æˆ‘æ„Ÿåˆ°æ›´åŠ è‡ªä¿¡ï¼Œå› ä¸ºæˆ‘çŸ¥é“æˆ‘çš„ç¨‹åºä¸ä¼šå› ä¸ºå†…å­˜é”™è¯¯è€Œå´©æºƒã€‚</p>
<p>å…¶æ¬¡ï¼ŒRustçš„æ¨¡å¼åŒ¹é…ï¼ˆpattern matchingï¼‰å’Œé”™è¯¯å¤„ç†æœºåˆ¶è®©æˆ‘çœ¼å‰ä¸€äº®ã€‚æ¨¡å¼åŒ¹é…ä¸ä»…å¯ä»¥ç”¨äºè§£æ„æ•°æ®ç»“æ„ï¼Œè¿˜å¯ä»¥ç”¨äºæ§åˆ¶ç¨‹åºçš„æµç¨‹ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°å’Œæ˜“äºç†è§£ã€‚è€Œé”™è¯¯å¤„ç†æ–¹é¢ï¼ŒRustå¼•å…¥äº†Resultå’ŒOptionç­‰æšä¸¾ç±»å‹ï¼Œå¼ºåˆ¶ç¨‹åºå‘˜å¤„ç†å¯èƒ½å‡ºç°çš„é”™è¯¯æƒ…å†µï¼Œé¿å…äº†ä¼ ç»Ÿçš„å¼‚å¸¸æœºåˆ¶å¸¦æ¥çš„ä¸€äº›é—®é¢˜ã€‚å­¦ä¹ å¦‚ä½•åˆ©ç”¨è¿™äº›ç‰¹æ€§ç¼–å†™å¥å£®çš„ä»£ç æ˜¯æˆ‘å­¦ä¹ Rustè¿‡ç¨‹ä¸­çš„ä¸€å¤§æ”¶è·ã€‚</p>
<p>æ­¤å¤–ï¼ŒRustçš„å¹¶å‘ç¼–ç¨‹æ”¯æŒä¹Ÿç»™æˆ‘ç•™ä¸‹äº†æ·±åˆ»çš„å°è±¡ã€‚é€šè¿‡æ ‡å‡†åº“æä¾›çš„åŸºäºæ¶ˆæ¯ä¼ é€’çš„å¹¶å‘æ¨¡å‹ï¼Œä»¥åŠåŸå­ç±»å‹å’ŒåŒæ­¥åŸè¯­ç­‰å·¥å…·ï¼ŒRustè®©å¹¶å‘ç¼–ç¨‹å˜å¾—æ›´åŠ å®‰å…¨å’Œå®¹æ˜“ã€‚æˆ‘æ›¾ç»å°è¯•ç”¨Rustç¼–å†™å¤šçº¿ç¨‹ç¨‹åºï¼Œå¹¶å‘ç°åœ¨Rustçš„å¸®åŠ©ä¸‹ï¼Œæˆ‘å¯ä»¥æ›´åŠ è½»æ¾åœ°ç®¡ç†çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡å’ŒåŒæ­¥ï¼Œé¿å…äº†å¸¸è§çš„å¹¶å‘é”™è¯¯ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/24/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-255doesnotexist/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/24/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-255doesnotexist/" class="post-title-link" itemprop="url">2024æ˜¥å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç¬¬ä¸€é˜¶æ®µæ€»ç»“æŠ¥å‘Š-255doesnotexist</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-24 10:30:40" itemprop="dateCreated datePublished" datetime="2024-04-24T10:30:40+00:00">2024-04-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-27 00:49:10" itemprop="dateModified" datetime="2024-04-27T00:49:10+00:00">2024-04-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="2024æ˜¥å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç¬¬ä¸€é˜¶æ®µæ€»ç»“æŠ¥å‘Š"><a href="#2024æ˜¥å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç¬¬ä¸€é˜¶æ®µæ€»ç»“æŠ¥å‘Š" class="headerlink" title="2024æ˜¥å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç¬¬ä¸€é˜¶æ®µæ€»ç»“æŠ¥å‘Š"></a>2024æ˜¥å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç¬¬ä¸€é˜¶æ®µæ€»ç»“æŠ¥å‘Š</h1><p>ä¸€ä¸ªæœˆä¹‹å‰å…¶å®è·Ÿç€ The Rust Programming Language å­¦ä¹ è¿‡ Rustï¼Œä»åŒå­¦é‚£é‡Œå¬è¿‡ rustlingsï¼Œä½†æ²¡æœ‰åšè¿‡ã€‚è¿™æ¬¡æœ‰æœºä¼šæ“äº†ä¸€ä¸‹ï¼Œå¯¹ç†è§£çš„å¸®åŠ©è¿˜æ˜¯æŒºå¤§çš„ã€‚</p>
<h2 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h2><p>rustlings çš„å®éªŒå…¶å®æŒºç®€å•çš„ã€‚åŸºæœ¬ä¸Šè·Ÿç€ç¼–è¯‘å™¨å’Œæç¤ºéƒ½èƒ½ç‹¬ç«‹å®Œæˆã€‚å®ƒçš„ check ä¹Ÿä¸ä¸¥æ ¼ï¼Œæ•°æ®ç‚¹å°‘ã€è¿‡ç¼–è¯‘å³å¯ã€‚åŸºæœ¬ä¸Šå®Œæˆè´¨é‡å…¨é è‡ªè§‰</p>
<p>Rust è¯­è¨€çš„çº¦æŸï¼Œåœ¨æœ€å 10 é“ç®—æ³•é¢˜ä¸Šè¿˜æ˜¯ä½“ç°å¾—æ¯”è¾ƒæ£˜æ‰‹çš„ã€‚ä¸€éƒ¨åˆ†æ•°æ®ç»“æ„çš„å®ç°éœ€è¦å¥— Arc ç”šè‡³ unsafeã€‚è¿™ä¹Ÿæ˜¯æ‰€è°“â€œå¿…è¦çš„ç‰ºç‰²â€å§ã€‚æ­¤å¤–ï¼Œç”Ÿå‘½å‘¨æœŸçš„å¤„ç†æ„Ÿè§‰è¿˜æ˜¯ä¸å¤Ÿä¼˜é›…ã€‚æœ‰äº›å¥‡æ€ªçš„æ„Ÿè§‰ã€‚</p>
<p>é™¤äº†è¿™ 10 é¢˜ä»¥å¤–ï¼Œå…¶ä»–éƒ¨åˆ†åŸºæœ¬éƒ½æ˜¯è¯­è¨€åŸºæœ¬è¯­æ³•ã€å†…å®¹çš„ä»‹ç»ï¼Œä¹ŸåŒ…æ‹¬åŒ…ç®¡ç†å™¨çš„ä½¿ç”¨ï¼Œcargo test çš„ä½¿ç”¨ã€‚ç›¸å¯¹æ¥è¯´éƒ½æ˜¯æ¯”è¾ƒåŸºç¡€çš„å†…å®¹ã€‚åªè¦è·Ÿç€åšå°±å¾ˆç®€å•ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>rustlings æ˜¯ä¸ªå¾ˆå¥½çš„ Rust å­¦ä¹ é¡¹ç›®ï¼Œå¾ˆé€‚åˆè®¡åˆ’åš rCore Lab çš„åŒå­¦å…¥é—¨ Rust ä½¿ç”¨ã€‚æ˜¯è¿™æ ·çš„ã€‚æ²¡é”™ã€‚</p>
<p>å¸Œæœ›åæœŸä¹Ÿèƒ½ç»§ç»­è·Ÿä¸‹å»ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/23/2024-OS%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-FV/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/23/2024-OS%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-FV/" class="post-title-link" itemprop="url">2024 OSè¥ç¬¬ä¸€é˜¶æ®µæ€»ç»“-FV</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-23 17:11:39" itemprop="dateCreated datePublished" datetime="2024-04-23T17:11:39+00:00">2024-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-27 00:49:10" itemprop="dateModified" datetime="2024-04-27T00:49:10+00:00">2024-04-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æ²‰è¿· LOL åå¹´ï¼Œå½’æ¥ä»æ˜¯ç™½é“¶ çš„ç»å¸¸ç¿˜è¯¾ä½†æ¯•ä¸šåæœ‰è‡ªå·±å¤ä¹ 408ä¸“ä¸šè¯¾çš„è¡€äºç§‘ç­è€ä¸œè¥¿ï¼Œå†™è¿‡ vue,nodejs,python,C </p>
<blockquote>
<p>(æ¬¢è¿æ‰¾æˆ‘å¹²æ´»ï¼Œå¯ä»¥ä¸ºçˆ±å‘ç”µ) </p>
</blockquote>
<ul>
<li>æ¯æ—¥å­¦ä¹ è®°å½•ï¼š<a href="https://github.com/HideOnBush-FV/os-summer-record" target="_blank" rel="noopener">https://github.com/HideOnBush-FV/os-summer-record</a></li>
</ul>
<p>ç¬¬ä¸€é˜¶æ®µåšçš„äº‹å°±æ˜¯ 90% åˆ· rustlingsï¼ŒåŠ ä¸Š 10% å¤ä¹ äº†ä¸‹åŸºç¡€çŸ¥è¯†</p>
<h1 id="rust"><a href="#rust" class="headerlink" title="rust"></a>rust</h1><blockquote>
<p>ä¸€è¨€ä»¥è”½ä¹‹ï¼Œæˆ‘æ°¸è¿œå–œæ¬¢ C ğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒš</p>
</blockquote>
<p>å®‰å…¨è¯šå¯è´µï¼Œè‡ªç”±ä»·æ›´é«˜ã€‚ä½†æ˜¯ä¸ºäº†å®Œæˆè®­ç»ƒè¥è¿˜æ˜¯å­¦ä¹ ä¸€ä¸‹</p>
<p><code>ç±»å‹å¤ªå¤šè¦åŒ¹é…ï¼Œæ‰€æœ‰æƒè½¬ç§»ï¼Œå¯å˜å¼•ç”¨ä¸ä¸å¯å˜å¼•ç”¨çš„é™åˆ¶</code> æ˜¯è€½è¯¯æˆ‘æœ€é•¿æ—¶é—´çš„ï¼Œæœºåˆ¶ç†è§£ä½†æ˜¯æ„Ÿè§‰ç”¨èµ·æ¥å°±æ˜¯å¾ˆä¸æ–¹ä¾¿ã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li>åœ£ç»ï¼š <a href="https://course.rs/basic/collections/vector.html" target="_blank" rel="noopener">https://course.rs/basic/collections/vector.html</a></li>
<li>å®˜æ–¹æ‰‹å†Œï¼š<a href="https://doc.rust-lang.org/std/index.html" target="_blank" rel="noopener">https://doc.rust-lang.org/std/index.html</a></li>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://doc.rust-lang.org/book/" target="_blank" rel="noopener">https://doc.rust-lang.org/book/</a></li>
</ul>
<p>åœ£ç»ä¹Ÿå°±å›¾ä¸€ä¹ï¼ŒçœŸå­¦rustè¿˜å¾— <code>å®˜æ–¹æ–‡æ¡£</code>ï¼Œå†™ä»£ç ç¥å™¨ï¼š<code>å®˜æ–¹æ‰‹å†Œ</code></p>
<p>å®˜æ–¹æ–‡æ¡£ï¼šç†è§£ä¸€äº›æœºåˆ¶å’ŒåŸºç¡€ç”¨æ³•ï¼Œåš rustlings é‡Œæ¨¡å—åˆ†ç±»å’Œè°ƒç”¨æ–¹å¼ã€ç¼–è¯‘å™¨å‚æ•° ç­‰é¢˜ç›®æ—¶ç”¨åˆ°çš„</p>
<p>å®˜æ–¹æ‰‹å†Œï¼šå„ç§ç±»å‹åŒ…å«çš„å‡½æ•°å’Œç”¨æ³•ï¼Œä¸ä¼šåšäº†å°±ç¿»ä¸€ç¿»ï¼Œåœ¨å·¦è¾¹åˆ—è¡¨æ‰¾ä¸€æ‰¾ï¼Œç»å¸¸èƒ½æœ‰æ„æƒ³ä¸åˆ°çš„æ”¶è·</p>
<h2 id="å…·ä½“å†…å®¹"><a href="#å…·ä½“å†…å®¹" class="headerlink" title="å…·ä½“å†…å®¹"></a>å…·ä½“å†…å®¹</h2><p>å¯¹æˆ‘æœ‰ç”¨çš„æ–°å­¦åˆ°çš„ä¸”å€¼å¾—å€¼å¾—è®°å½•çš„ ä¸»è¦æ˜¯ Option çš„å‡ ä¸ªæ–¹æ³•</p>
<ul>
<li>as_mut() ï¼š&amp;mut Option<T> -&gt; Option&lt;&amp;mut T&gt;.</T></li>
<li>as_ref() ï¼š &amp;Option<T> -&gt; Option&lt;&amp;T&gt;.</T></li>
<li>as_deref_mut() ï¼š Option<T> (or &amp;mut Option<T>) to Option&lt;&amp;mut T::Target&gt;</T></T></li>
</ul>
<p>å‰é¢é¢˜ç›®é‡Œç”¨åˆ°çš„æ—¶å€™åªæ˜¯æŒ‰ç…§æç¤ºä¿®æ”¹ï¼Œæ²¡æœ‰ç»†ç©¶åŠŸèƒ½å’Œç”¨æ³•ï¼Œåé¢ç®—æ³•é¢˜æ‰å‘ç°å¾ˆå¥½ç”¨</p>
<p>è¿˜æœ‰ä¸€äº›ç”¨èµ·æ¥ä¸ç†Ÿç»ƒæˆ–è€…è¿˜æ²¡ç”¨ä½†æ„Ÿè§‰ä»¥åå¯èƒ½ä¼šæœ‰ç”¨çš„ï¼Œå…·ä½“ç”¨æ³•ç­‰å®è·µä¸­å†ç ”ç©¶äº†</p>
<ul>
<li>Rc, Arc, Cell, RefCell</li>
</ul>
<h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h1><p>åŒ…æ‹¬ rustlings é‡Œæ–°åŠ å…¥äº†ä¸€äº›ç®—æ³•é¢˜ï¼Œå°å¤ä¹ äº†ä¸€ä¸‹æ¶‰åŠåˆ°çš„ BST, heap çš„å†…å®¹ï¼Œ</p>
<p>å…¶ä»– BFS, DFS, stackï¼Œqueueï¼Œå›¾ï¼Œéƒ½å¤ªåŸºæœ¬äº†æ²¡å•¥å¥½è¯´çš„ï¼ŒDFS è¿è¾¹çš„ç±»å‹éƒ½ä¸ç”¨åŒºåˆ† =ã€‚=<br>å»ºè®®ä¸‹æ¬¡æå‡åˆ° 912 éš¾åº¦ğŸ˜‰ï¼ˆbushiï¼‰<br>åŠ ç‚¹ æœ€çŸ­è·¯å¾„ã€KMPå•¥çš„ å¯ä»¥æœ‰ğŸ¥º</p>
<h2 id="äºŒå‰æœç´¢æ ‘"><a href="#äºŒå‰æœç´¢æ ‘" class="headerlink" title="äºŒå‰æœç´¢æ ‘"></a>äºŒå‰æœç´¢æ ‘</h2><ul>
<li><p>ç‰¹æ€§ï¼šä¸­åºï¼Œä»»æ„ parent ä¸å°äºå·¦å­æ ‘ï¼Œä¸å¤§äºå³å­æ ‘ã€‚<br>äº¦å³ä¸­åºéå†åºåˆ—å•è°ƒéé™</p>
<h2 id="å®Œå…¨äºŒå‰æ ‘"><a href="#å®Œå…¨äºŒå‰æ ‘" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘"></a>å®Œå…¨äºŒå‰æ ‘</h2></li>
<li><p>å¹³è¡¡å› å­å¤„å¤„éè´Ÿï¼šå·¦å­æ ‘æ»¡æ ‘</p>
</li>
<li><p>é€»è¾‘èŠ‚ç‚¹ä¸ç‰©ç†å…ƒç´ ä¾å±‚æ¬¡éå†æ¬¡åºå½¼æ­¤å¯¹åº”ï¼š</p>
</li>
</ul>
<p>Parent(i) = ( i-1 ) &gt;&gt; 1<br>LChild(i) = ( 1 + ( i &lt;&lt; 1 )<br>RChild(i) = ( 1 + i ) &lt;&lt; 1</p>
<h2 id="å®Œå…¨äºŒå‰å †"><a href="#å®Œå…¨äºŒå‰å †" class="headerlink" title="å®Œå…¨äºŒå‰å †"></a>å®Œå…¨äºŒå‰å †</h2><ul>
<li>ç”¨ç‰©ç†ä¸Šçš„å‘é‡å®ç°é€»è¾‘ä¸Šçš„å®Œå…¨äºŒå‰æ ‘</li>
<li>ç»´æŒååºè€Œéå…¨åºï¼Œå³ val [i] &lt;= val [Parent(i)]</li>
</ul>
<p>æ“ä½œ</p>
<ul>
<li>æ’å…¥ + ä¸Šæ»¤ O(lgn)ï¼šåªä¸ Parent å¯¹æ¯”å¹¶ç›´æ¥äº’æ¢ </li>
<li>åˆ é™¤ + ä¸‹æ»¤ O(lgn)ï¼šç”¨æœ«èŠ‚ç‚¹å¡«å……æ ¹èŠ‚ç‚¹ï¼ˆç»´æŒç»“æ„æ€§ï¼‰+ swap(e, max(Lchild, Rchild)) ï¼ˆç»´æŒå †åºæ€§ï¼‰</li>
</ul>
<h1 id="æ“ä½œç³»ç»Ÿ"><a href="#æ“ä½œç³»ç»Ÿ" class="headerlink" title="æ“ä½œç³»ç»Ÿ"></a>æ“ä½œç³»ç»Ÿ</h1><p>å½“å¹´å°±è¿™é—¨è¯¾å­¦å¾—æœ€å¥½ï¼Œå‰å‡ ä¸ªæœˆåˆ·äº†ä¸‹ <code>ã€ŠThree Easy Piecesã€‹</code>ï¼Œçœ‹ä¸€åŠå‘ç°è¿˜æ˜¯ <code>rCoreæŒ‡å¯¼ä¹¦</code> æœ€å¥½ï¼Œç†è®ºä¸å®è·µç›¸ç»“åˆï¼Œè®²è§£è¯¦ç»†æ¸…æ™°ï¼Œæ“ä½œåˆ‡å®å¯è¡Œï¼Œè·Ÿç€åˆ·äº†ä¸¤ç« </p>
<p>ç¬¬ä¸€é˜¶æ®µç”¨ä¸ä¸Šï¼Œå‰©ä¸‹çš„ç­‰åˆ°ç¬¬äºŒé˜¶æ®µå†è¡¥å•¦</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/23/2024-rcore-summary-stage1-imag1ne/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/23/2024-rcore-summary-stage1-imag1ne/" class="post-title-link" itemprop="url">2024å¤å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç¬¬ä¸€é˜¶æ®µå°ç»“</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-23 12:55:26" itemprop="dateCreated datePublished" datetime="2024-04-23T12:55:26+00:00">2024-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-27 00:49:10" itemprop="dateModified" datetime="2024-04-27T00:49:10+00:00">2024-04-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åˆæ¬¡æ¥è§¦ Rustï¼Œæ˜¯åœ¨å­¦æ ¡å­¦ä¹ æ“ä½œç³»ç»Ÿè¯¾ç¨‹çš„æ—¶å€™ã€‚è¿™é—¨è¯¾çš„ç»ƒä¹ è¯¾ä¸­ï¼Œéœ€è¦ç”¨ Rust è¯­è¨€æ¥å®Œæˆç¼–ç¨‹ç»ƒä¹ ã€‚åœ¨å­¦ä¹  Rust ä¹‹å‰ï¼Œæˆ‘å¯¹ç¼–ç¨‹è¯­è¨€çš„å­¦ä¹ å¹¶æ²¡æœ‰å¾ˆå¤§çš„çƒ­æƒ…ã€‚å› ä¸ºåœ¨æˆ‘çš„å°è±¡é‡Œé™¤äº†å­¦ä¹ ç¬¬ä¸€é—¨ç¼–ç¨‹è¯­è¨€ C çš„æ—¶å€™èŠ±äº†äº›åŠŸå¤«ï¼Œä¹‹åå­¦ä¹ çš„ Javaï¼ŒPythonï¼ŒJavascript ä¹‹ç±»çš„éƒ½æ˜¯ç†Ÿæ‚‰ä¸€ä¸‹è¯­æ³•åå°±å¾ˆå¿«ä¸Šæ‰‹ã€‚å½“æ—¶æˆ‘çœ‹å­¦æ ¡é‡Œè¯¾ç¨‹çš„å®‰æ’ä¹Ÿå°±æ˜¯å¤§æ¦‚ç»™å­¦ä¹  Rust ä¸€å‘¨çš„æ—¶é—´ï¼Œåé¢å°±å¼€å§‹åšå„ç§ç»ƒä¹ äº†ï¼Œæ‰€ä»¥æˆ‘å¹¶æ²¡ä» Rust è¿™é—¨è¯­è¨€ä¸­æœŸå¾…è¿‡ä»€ä¹ˆç‰¹åˆ«å¤æ‚çš„ä¸œè¥¿ã€‚</p>
<p>çœŸæ­£å¼€å§‹å­¦ä¹ çš„æ—¶å€™ï¼Œå‘ç°äº‹æƒ…å¥½åƒå¹¶æ²¡æœ‰æˆ‘æƒ³çš„é‚£ä¹ˆç®€å•ã€‚æˆ‘å‘ç°é™¤äº†è¦ç†è§£ Rust çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€æœ‰æƒç­‰æ¦‚å¿µæ„å¤–ï¼Œè¿˜è¦å…³æ³¨å¾ˆå¤šåº•å±‚çš„ç»†èŠ‚ã€‚æ…¢æ…¢åœ°æˆ‘å°±æ˜ç™½äº†ï¼Œæƒ³è¦çœŸæ­£ç†è§£ Rust è¿™é—¨è¯­è¨€ï¼Œæˆ‘éœ€è¦æ·±å…¥æ€è€ƒ Rust çš„è®¾è®¡å“²å­¦ï¼Œå¤šçœ‹çœ‹ <a href="https://rust-lang.github.io/rfcs/" target="_blank" rel="noopener">The Rust RFC Book</a>ï¼Œæ”¶è·ä¼šéå¸¸å¤§ã€‚</p>
<p>å¯¹äº Rust è¿™é—¨ç¼–ç¨‹è¯­è¨€çš„å­¦ä¹ ï¼Œç¦»æˆ‘æœ€å¼€å§‹æ¥è§¦æœ‰ä¸€æ®µæ—¶é—´äº†ã€‚è¿™æ¬¡è®­ç»ƒè¥çš„ç¬¬ä¸€é˜¶æ®µï¼Œå…¶å®å¯¹æˆ‘ä¸ªäººæ¥è¯´æ˜¯å¯¹è¿™é—¨ç¼–ç¨‹è¯­è¨€çš„å¤ä¹ å’Œå·©å›ºã€‚</p>
<h2 id="å¿ƒå¾—ä½“ä¼š"><a href="#å¿ƒå¾—ä½“ä¼š" class="headerlink" title="å¿ƒå¾—ä½“ä¼š"></a>å¿ƒå¾—ä½“ä¼š</h2><p>å­¦ä¹  Rust æˆ‘æ„Ÿè§‰æ²¡æœ‰å¾ˆéš¾ï¼Œå¤šè¯»ä¸€è¯» <a href="https://doc.rust-lang.org/book/" target="_blank" rel="noopener">The Rust Programming Language</a>,  <a href="https://rust-lang.github.io/rfcs/" target="_blank" rel="noopener">The Rust RFC Book</a> å’Œ <a href="https://doc.rust-lang.org/std/" target="_blank" rel="noopener">æ ‡å‡†åº“æ–‡æ¡£</a>ï¼Œå¯¹äºåˆæœŸå­¦ä¹ å®Œå…¨è¶³å¤Ÿã€‚å¯¹äº Rustlingsï¼Œæˆ‘å¹¶ä¸æ˜¯ç‰¹åˆ«å–œæ¬¢ï¼Œå¯¹äºå­¦ä¹ æ¥è¯´å¸®åŠ©å¹¶ä¸å¤§ï¼Œé‡Œé¢çš„ç»ƒä¹ å¯¹äºå­¦ä¹ è€…æ¥è¯´å°±æ˜¯éš¾è€…ä¸ä¼šï¼Œä¼šè€…ä¸éš¾ã€‚å¤šå†™å¤šç»ƒå¤šäº¤æµï¼Œæœ‰ç–‘æƒ‘ä¸è¦è¿Ÿç–‘ï¼Œæ‰“å¼€ <a href="https://play.rust-lang.org" target="_blank" rel="noopener">Rust Playground</a>å¤šå†™ç¤ºä¾‹æ¢ç´¢ï¼Œåœ¨æˆ‘çœ‹æ¥æ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹æ³•ã€‚</p>
<p>å¯¹äºè¯­è¨€æœ¬èº«é‚£äº›ç»†ç¢çš„çŸ¥è¯†ç‚¹ï¼Œä¹Ÿæ²¡åšè¿‡è¯¦ç»†çš„ç¬”è®°ã€‚ä¹Ÿå°±æ˜¯åœ¨å­¦ä¹ é—­åŒ…çš„æ—¶å€™å†™è¿‡ä¸€ç¯‡æ€»ç»“ï¼š<a href="https://zhuanlan.zhihu.com/p/341815515" target="_blank" rel="noopener">Rustä¸­çš„é—­åŒ…ä¸å…³é”®å­—move</a></p>
<p>å‚åŠ è¿™æ¬¡è®­ç»ƒè¥ä¹Ÿæ˜¯æƒ³é‡æ–°æ‹¾èµ· Rustï¼Œå¹¶å°†å…¶è¿ç”¨åˆ°å®è·µå½“ä¸­ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/23/2024%E6%98%A5%E5%A4%8FrCore%E8%AE%AD%E7%BB%83%E8%90%A5%E6%80%BB%E7%BB%93-Fontlos/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/23/2024%E6%98%A5%E5%A4%8FrCore%E8%AE%AD%E7%BB%83%E8%90%A5%E6%80%BB%E7%BB%93-Fontlos/" class="post-title-link" itemprop="url">2024æ˜¥å¤rCoreè®­ç»ƒè¥æ€»ç»“--Fontlos</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-23 10:40:53" itemprop="dateCreated datePublished" datetime="2024-04-23T10:40:53+00:00">2024-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-27 00:49:10" itemprop="dateModified" datetime="2024-04-27T00:49:10+00:00">2024-04-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>å‡ å¹´å‰å°±èŒç”Ÿäº†ç”¨ Rust åˆ¶ä½œä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„æƒ³æ³•, ä½† x86 çš„å¤æ‚åº¦åˆæœ‰ç‚¹è®©äººæœ›è€Œå´æ­¥, è€Œå½“æ—¶æ°å¥½é‡åˆ°äº† riscv, æ°å¥½é‡åˆ°äº† rCore. åˆ°ç°åœ¨, ç»ˆäºæœ‰äº†ä¸€ä¸ªå¯ä»¥äº²èº«åŠ å…¥è®­ç»ƒè¥çš„æœºä¼š, åœ¨æ­¤æ„Ÿè°¢å„ä½è€å¸ˆå’Œå­¦é•¿ä»¬ä¸ºæ­¤çš„ä»˜å‡º</p>
<h1 id="ç¬¬ä¸€é˜¶æ®µ-Rustlings-æ€»ç»“"><a href="#ç¬¬ä¸€é˜¶æ®µ-Rustlings-æ€»ç»“" class="headerlink" title="ç¬¬ä¸€é˜¶æ®µ Rustlings æ€»ç»“"></a>ç¬¬ä¸€é˜¶æ®µ Rustlings æ€»ç»“</h1><p>å‡ å¹´å‰å°†è‡ªå·±å­¦ä¹  Rust çš„è¿‡ç¨‹æ±‡æ€»æˆç¬”è®°å†™æˆæ•™ç¨‹æ”¾åœ¨ <a href="https://fontlos.com" target="_blank" rel="noopener">ä¸ªäººåšå®¢</a> ä¸Šäº†. è¿™é‡Œåªå†ç®€å•æ€»ç»“ä¸€ä¸‹ä¸€äº›é‡è¦æ¦‚å¿µå†…å®¹</p>
<p><strong>æ‰€æœ‰æƒ (Ownership)</strong></p>
<p>æ‰€æœ‰æƒæ˜¯ Rust çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µ, ç”¨äºç¡®ä¿å†…å­˜å®‰å…¨. å®ƒè§„å®šäº†ä¸€ä¸ªå˜é‡ (æˆ–æ•°æ®) åœ¨ä»»ä½•æ—¶åˆ»éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ‰€æœ‰è€…. å½“æ‰€æœ‰è€…ç¦»å¼€ä½œç”¨åŸŸæ—¶, å…¶æ‰€æ‹¥æœ‰çš„æ•°æ®å°†è‡ªåŠ¨é‡Šæ”¾, é˜²æ­¢å†…å­˜æ³„æ¼. é€šè¿‡ç§»åŠ¨èµ‹å€¼å’Œä¸å¯å˜ / å¯å˜å€Ÿç”¨, å¾—ä»¥æ§åˆ¶æ•°æ®çš„è®¿é—®å’Œç”Ÿå‘½å‘¨æœŸ</p>
<ol>
<li><strong>ç§»åŠ¨èµ‹å€¼</strong>: å½“ä¸€ä¸ªå€¼ä»ä¸€ä¸ªå˜é‡è½¬ç§»åˆ°å¦ä¸€ä¸ªå˜é‡æ—¶, åŸå˜é‡å°†ä¸å†æ‹¥æœ‰æ•°æ®æ‰€æœ‰æƒ, ä¸èƒ½å†è¢«è®¿é—®</li>
<li><strong>å¼•ç”¨ä¸å€Ÿç”¨</strong>:<ul>
<li><strong>ä¸å¯å˜å¼•ç”¨</strong>: å…è®¸å®‰å…¨è¯»å–ä½†ä¸ä¿®æ”¹åŸå§‹æ•°æ®</li>
<li><strong>å¯å˜å¼•ç”¨</strong>: ç‹¬å è®¿é—®, å…è®¸ä¿®æ”¹æ•°æ®, åŒä¸€ä½œç”¨åŸŸå†…ä¸å¯å­˜åœ¨å¤šä¸ªå¯å˜å¼•ç”¨æŒ‡å‘åŒä¸€æ•°æ®</li>
</ul>
</li>
</ol>
<p><strong>æ³›å‹ (Generics) ä¸ç”Ÿå‘½å‘¨æœŸ (Lifetimes)</strong></p>
<p>æ³›å‹å…è®¸åˆ›å»ºé€‚ç”¨äºå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„å’Œå‡½æ•°, æ— éœ€é‡å¤å®ç°. ç”Ÿå‘½å‘¨æœŸå¯è¢«è§†ä¸ºä¸€ç§ç‰¹æ®Šçš„æ³›å‹. ç”Ÿå‘½å‘¨æœŸæ³¨è§£æ˜¯ç”¨æ¥æè¿°å¼•ç”¨çš„æœ‰æ•ˆæœŸçš„ä¸€ç§æœºåˆ¶. åœ¨å‡½æ•°ç­¾åæˆ–ç»“æ„ä½“å®šä¹‰ä¸­, é€šè¿‡ç±»ä¼¼ <code>&#39;a</code> è¿™æ ·çš„ç¬¦å·æ¥è¡¨ç¤ºç”Ÿå‘½å‘¨æœŸå‚æ•°, å¹¶é€šè¿‡ä¸Šä¸‹æ–‡æ¨æ–­æˆ–æ˜¾å¼å£°æ˜æ¥ç¡®ä¿å¼•ç”¨ä¸ä¼šè¶…è¿‡å…¶åº•å±‚æ•°æ®çš„æœ‰æ•ˆæœŸ</p>
<p><strong>Traits (ç‰¹æ€§)</strong></p>
<p>ç‰¹è´¨æ˜¯ Rust ä¸­çš„ä¸€ç§æ¥å£æŠ½è±¡, å®ƒå®šä¹‰äº†ä¸€ç»„æ–¹æ³•ç­¾å, ä¾›å®ç°ç‰¹è´¨çš„ç±»å‹éµå®ˆ. é€šè¿‡ traits, Rust å®ç°äº†é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å¤šæ€æ€§.</p>
<p><strong>æ™ºèƒ½æŒ‡é’ˆ</strong></p>
<p>Rust æä¾›äº†ä¸€ç³»åˆ—æ™ºèƒ½æŒ‡é’ˆç±»å‹, å¦‚ <code>Box&lt;T&gt;</code> <code>Rc&lt;T&gt;</code> <code>Arc&lt;T&gt;</code> <code>RefCell&lt;T&gt;</code> ç­‰, å®ƒä»¬åˆ†åˆ«ç”¨äºç®¡ç†å †ä¸Šçš„å”¯ä¸€æ‰€æœ‰æƒ, å¼•ç”¨è®¡æ•°å…±äº«æ‰€æœ‰æƒ, çº¿ç¨‹å®‰å…¨çš„å¼•ç”¨è®¡æ•°å…±äº«æ‰€æœ‰æƒä»¥åŠåœ¨ç¼–è¯‘æ—¶é™æ€æ£€æŸ¥ä¹‹å¤–å¢åŠ è¿è¡Œæ—¶å€Ÿç”¨æ£€æŸ¥ç­‰åœºæ™¯</p>
<p><strong>å¤šçº¿ç¨‹ä¸å¼‚æ­¥ç¼–ç¨‹</strong></p>
<ul>
<li><strong>å¤šçº¿ç¨‹</strong>: Rust æ”¯æŒåŸç”Ÿçº¿ç¨‹, é€šè¿‡ <code>std::thread</code> æ¨¡å—ç›¸å…³API. Rust çš„ Ownership å’Œå€Ÿç”¨è§„åˆ™æœ‰åŠ©äºé˜²æ­¢æ•°æ®ç«äº‰å’Œæ­»é”ç­‰é—®é¢˜ï¼Œ<code>Mutex</code>, <code>RwLock</code> ç­‰åŒæ­¥åŸè¯­è¿›ä¸€æ­¥åŠ å¼ºäº†çº¿ç¨‹é—´çš„å®‰å…¨é€šä¿¡</li>
<li><strong>å¼‚æ­¥ç¼–ç¨‹</strong>: Rust å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹åŸºäº futures å’Œ <code>async/await</code> å…³é”®å­—ï¼Œæä¾›äº†é«˜æ•ˆéé˜»å¡IOçš„èƒ½åŠ›. <code>tokio</code> å’Œ <code>async-std</code> ç­‰åº“æä¾›äº†å¼‚æ­¥ç¼–ç¨‹çš„åŸºç¡€è®¾æ–½, åŒ…æ‹¬ä»»åŠ¡è°ƒåº¦, TCP / HTTP ç½‘ç»œç¼–ç¨‹ç­‰</li>
</ul>
<p>é™¤äº†è¿™äº›åŸºæœ¬è¯­æ³•, åœ¨ç»ƒä¹ ä¸­ä¹Ÿå®è·µäº†æ‰‹åŠ¨å®ç°é“¾è¡¨, åŒå‘é“¾è¡¨, å †æ ˆ, æ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆç®—æ³•, æ’åºç®—æ³•ç­‰. é€šè¿‡ Rustlings ç»ƒä¹ , å¯ä»¥é€æ­¥æŒæ¡ä»¥ä¸Šå„ä¸ªæ¦‚å¿µçš„å®é™…åº”ç”¨, é€šè¿‡è§£å†³å®é™…é—®é¢˜åŠ æ·±å¯¹ Rust ç¼–ç¨‹ç‰¹æ€§çš„ç†è§£, å¹¶å­¦ä¼šå¦‚ä½•åœ¨å®è·µä¸­éµå¾ª Rust çš„å®‰å…¨æ€§å’Œæ€§èƒ½åŸåˆ™, ä¸ºæ¥ä¸‹æ¥çš„ç¬¬äºŒé˜¶æ®µæ‰“ä¸‹åŸºç¡€, ä»¥æ„å»ºå®‰å…¨é«˜æ•ˆçš„ OS å†…æ ¸</p>
<p>æ­¤å¤–ä¹Ÿæ„Ÿè°¢ç¾¤å†…çš„å¤§ä½¬ä»¬, æ²¡äº‹ç¿»ç¿»å¤§ä½¬çš„èŠå¤©è®°å½•æ€»èƒ½å­¦åˆ°æ–°ä¸œè¥¿ :)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/23/abcd1234-rust-os/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/23/abcd1234-rust-os/" class="post-title-link" itemprop="url">abcd1234-rust-os</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-23 00:35:51" itemprop="dateCreated datePublished" datetime="2024-04-23T00:35:51+00:00">2024-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-27 00:49:10" itemprop="dateModified" datetime="2024-04-27T00:49:10+00:00">2024-04-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/rust-stage-1/" itemprop="url" rel="index"><span itemprop="name">rust-stage-1</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Rust-OS-ä¸€é˜¶æ®µå­¦ä¹ æ€»ç»“"><a href="#Rust-OS-ä¸€é˜¶æ®µå­¦ä¹ æ€»ç»“" class="headerlink" title="Rust OS ä¸€é˜¶æ®µå­¦ä¹ æ€»ç»“"></a>Rust OS ä¸€é˜¶æ®µå­¦ä¹ æ€»ç»“</h1><h2 id="ä¸ªäººèƒŒæ™¯æ¦‚è¿°"><a href="#ä¸ªäººèƒŒæ™¯æ¦‚è¿°" class="headerlink" title="ä¸ªäººèƒŒæ™¯æ¦‚è¿°"></a>ä¸ªäººèƒŒæ™¯æ¦‚è¿°</h2><p>æˆ‘æ˜¯ä¸€åè½¯ä»¶å·¥ç¨‹ä¸“ä¸šçš„å¤§äºŒæœ¬ç§‘ç”Ÿï¼Œæ›¾å‚ä¸è¿‡2023å¹´ç§‹å†¬å­£è®­ç»ƒè¥ã€‚<br>åœ¨å»å¹´çš„è®­ç»ƒè¥ä¸­ï¼Œæˆ‘å­¦ä¹ äº†rustï¼Œä½†å› ä¸ºç¬¬ä¸€æ¬¡å­¦ä¹ ï¼Œä¸”å½“æ—¶éœ€è¦å‡†å¤‡æœŸä¸­è€ƒè¯•å’Œå„ç§‘ä½œä¸šï¼Œæ²¡æœ‰æŒ‰æ—¶é€šè¿‡ç¬¬ä¸€é˜¶æ®µã€‚<br>è™½ç„¶æˆ‘åç»­è¿›å…¥äº†äºŒé˜¶æ®µç¾¤ï¼Œä½†æ²¡æœ‰å®Œæˆç¬¬äºŒé˜¶æ®µçš„å®éªŒéƒ¨åˆ†ï¼Œä»Šå¹´é‡æ–°å‚ä¸ï¼Œæ‰“ç®—è®¤çœŸè·Ÿè¿›ä¸‹å»ã€‚</p>
<h2 id="ä»Šå¹´ä¸€é˜¶æ®µå­¦ä¹ æ—¶é—´è¡¨"><a href="#ä»Šå¹´ä¸€é˜¶æ®µå­¦ä¹ æ—¶é—´è¡¨" class="headerlink" title="ä»Šå¹´ä¸€é˜¶æ®µå­¦ä¹ æ—¶é—´è¡¨"></a>ä»Šå¹´ä¸€é˜¶æ®µå­¦ä¹ æ—¶é—´è¡¨</h2><ul>
<li>2024-03-27 é‡æ–°æŠ¥åå‚ä¸æ´»åŠ¨ï¼Œå¹¶é‚€è¯·äº†ä¸€åæœ¬æ ¡å¤§ä¸‰å­¦é•¿å…±åŒè¿›æ­¥</li>
<li>2024-04-07 æ­£å¼å¼€å§‹å‚ä¸æ´»åŠ¨ï¼Œåˆé‚€è¯·äº†ä¸¤ä½åŒæ ¡åŒå­¦ï¼Œæˆ‘å¼€å§‹é‡æ–°å¤ä¹ rust</li>
<li>2024-04-12 é€šè¿‡ruståœ£ç»å¤ä¹ è‡³åŸºç¡€éƒ¨åˆ†å®Œæˆï¼Œå¼€å§‹è¿›è¡Œåšé¢˜</li>
<li>2024-04-13 ç´¯è®¡åšé¢˜3å°æ—¶ï¼Œåšè‡³43é¢˜</li>
<li>2024-04-19 è¿›è¡Œåˆ°cowæŒ‡é’ˆéƒ¨åˆ†</li>
<li>2024-04-20 å®Œæˆå‰100é¢˜</li>
<li>2024-04-21 å®Œæˆ110é¢˜ï¼Œå¼€å§‹æäº¤</li>
</ul>
<h2 id="ä¸€é˜¶æ®µå­¦ä¹ å†…å®¹æ¦‚è¿°"><a href="#ä¸€é˜¶æ®µå­¦ä¹ å†…å®¹æ¦‚è¿°" class="headerlink" title="ä¸€é˜¶æ®µå­¦ä¹ å†…å®¹æ¦‚è¿°"></a>ä¸€é˜¶æ®µå­¦ä¹ å†…å®¹æ¦‚è¿°</h2><p>æˆ‘æŒ‰ç…§<a href="https://course.rs/about-book.html" target="_blank" rel="noopener">â€œrustè¯­è¨€åœ£ç»â€</a>ä¸Šçš„è®²è§£é¡ºåºè¿›è¡Œå­¦ä¹ ï¼Œåˆ†åˆ«å­¦ä¹ äº†ï¼š</p>
<ul>
<li>å˜é‡çš„ç»‘å®šä¸è§£æ„</li>
<li>åŸºæœ¬ç±»å‹</li>
<li>æ‰€æœ‰æƒå’Œå€Ÿç”¨</li>
<li>å¤åˆç±»å‹</li>
<li>æµç¨‹æ§åˆ¶</li>
<li>æ¨¡å¼åŒ¹é…</li>
<li>æ–¹æ³•</li>
<li>æ³›å‹å’Œç‰¹å¾</li>
<li>é›†åˆç±»å‹</li>
<li>ç”Ÿå‘½å‘¨æœŸ</li>
<li>è¿”å›å€¼ã€é”™è¯¯å¤„ç†</li>
<li>åŒ…å’Œæ¨¡å—</li>
<li>æ³¨é‡Šå’Œæ–‡æ¡£</li>
<li>æ ¼å¼åŒ–è¾“å‡º</li>
<li>æ™ºèƒ½æŒ‡é’ˆ</li>
<li>å¤šçº¿ç¨‹</li>
<li>é—­åŒ…ä¸è¿­ä»£å™¨</li>
<li>å®ç¼–ç¨‹</li>
<li>unsafe rust</li>
</ul>
<h2 id="é—®é¢˜æ¦‚è¿°"><a href="#é—®é¢˜æ¦‚è¿°" class="headerlink" title="é—®é¢˜æ¦‚è¿°"></a>é—®é¢˜æ¦‚è¿°</h2><p>åœ¨ä¸€é˜¶æ®µè¿‡ç¨‹ä¸­ï¼Œæˆ‘é‡åˆ°äº†ä¸€å®šçš„é—®é¢˜ï¼Œå¹¶å°è¯•è¿›è¡Œè§£å†³ã€‚ä»¥ä¸‹å†…å®¹æ˜¯æˆ‘è®¤ä¸ºï¼Œä¸æ˜¯é‚£ä¹ˆâ€œè¾ƒä¸ºåŸºç¡€â€çš„é—®é¢˜ã€‚</p>
<h3 id="2024-04-12-é—®é¢˜ï¼šunicodeå±•ç¤º"><a href="#2024-04-12-é—®é¢˜ï¼šunicodeå±•ç¤º" class="headerlink" title="2024-04-12 é—®é¢˜ï¼šunicodeå±•ç¤º"></a>2024-04-12 é—®é¢˜ï¼šunicodeå±•ç¤º</h3><h4 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><p>åœ¨primitive_types2.rsä¸­ï¼Œæ³¨é‡Šè¦æ±‚å°è¯•ä¼ å…¥unicodeå­—ç¬¦ï¼Œæ¥ç†è§£rustä¸­çš„charã€‚<br>ä½†æ˜¯ï¼Œæˆ‘é€šè¿‡<code>https://emojidb.org/rust-emojis</code>è¿™ä¸ª<a href="https://emojidb.org/rust-emojis" target="_blank" rel="noopener">emojisç½‘å€</a>ï¼Œæ‹¿åˆ°äº†ä¸€ä¸ªemojiï¼šâ˜¢ï¸ï¼Œè¿›è¡Œæµ‹è¯•ï¼Œå´ç›´æ¥ç¼–è¯‘å‡ºé”™ï¼š  </p>
<img src="/blog/.io//2024/04/23/abcd1234-rust-os/unicode%E9%94%99%E8%AF%AF1.png" class title="unicodeç¼–è¯‘å‡ºé”™">
<h4 id="å‡ºé”™ä»£ç "><a href="#å‡ºé”™ä»£ç " class="headerlink" title="å‡ºé”™ä»£ç "></a>å‡ºé”™ä»£ç </h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// primitive_types2.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Fill in the rest of the line that has code missing! No hints, there's no</span></span><br><span class="line"><span class="comment">// tricks, just get used to typing these :)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint primitive_types2` or use the `hint` watch subcommand</span></span><br><span class="line"><span class="comment">// for a hint.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="comment">// Characters (`char`)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Note the _single_ quotes, these are different from the double quotes</span></span><br><span class="line">    <span class="comment">// you've been seeing around.</span></span><br><span class="line">    <span class="keyword">let</span> my_first_initial = <span class="string">'C'</span>;</span><br><span class="line">    <span class="keyword">if</span> my_first_initial.is_alphabetic() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Alphabetical!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> my_first_initial.is_numeric() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Numerical!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Neither alphabetic nor numeric!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> your_character = 'â˜¢ï¸'; <span class="comment">// Finish this line like the example! What's your favorite character?</span></span><br><span class="line">    <span class="comment">// Try a letter, try a number, try a special character, try a character</span></span><br><span class="line">    <span class="comment">// from a different language than your own, try an emoji!</span></span><br><span class="line">    <span class="keyword">if</span> your_character.is_alphabetic() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Alphabetical!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> your_character.is_numeric() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Numerical!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"Neither alphabetic nor numeric!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h4><p>æˆ‘ä¸é˜Ÿä¼é‡Œçš„æˆå‘˜ä»¬è¿›è¡Œäº†åˆæ­¥çš„å®éªŒå’Œè®¨è®ºï¼Œç¡®å®šæŠ¥é”™çš„åŸå› æ˜¯ï¼šâ€œâ˜¢ï¸â€æ— æ³•è¢«è§£ææˆå­—ç¬¦ï¼Œå¿…é¡»è¢«è§£ææˆå­—ç¬¦ä¸²ã€‚é‚£ä¹ˆï¼Œé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆå®ƒæ— æ³•è¢«è§£ææˆå­—ç¬¦ï¼Œè€Œå…¶å®ƒçš„unicodeç å¯ä»¥è¢«è§£ææˆå­—ç¬¦ï¼Ÿ</p>
<h4 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¿›è¡Œäº†å®éªŒï¼Œä»<a href="https://emojidb.org/rust-emojis" target="_blank" rel="noopener">emojisç½‘ç«™</a>ä¸­å¯»æ‰¾äº†å…¶ä»–çš„emojiå­—ç¬¦ï¼Œå‘ç°å¤§éƒ¨åˆ†çš„emojiç«Ÿç„¶éƒ½èƒ½è¢«è§£ææˆå­—ç¬¦ã€‚é‚£é—®é¢˜å°±æ˜¯å‡ºåœ¨â€œâ˜¢ï¸â€è¿™ä¸ªemojiä¸Šã€‚</p>
<p>æˆ‘ä»¬é˜Ÿå†…é€šè¿‡æŸ¥æ‰¾rustå®˜æ–¹çš„æ–‡æ¡£ï¼Œå‘ç°ï¼Œæ–‡æ¡£ä¸­è¯´ï¼Œunicodeç è¢«åˆ†ä¸ºäº†ä¸¤å¤§ç±»ï¼Œä¸€ç±»æ˜¯UTF-16ï¼Œä¸€ç±»æ˜¯UTF-8ã€‚<br>é‚£ä¹ˆï¼Œè¿™ä¸¤å¤§ç±»çš„unicodeå­—ç¬¦æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br>æˆ‘ä»¬é€šè¿‡æœé›†èµ„æ–™ã€è¯¢é—®aiç­‰æ–¹å¼ï¼Œå¾—åˆ°ï¼š</p>
<blockquote>
<p>UTF-16ç ç‚¹åœ¨0xD800åˆ°0xDFFFçš„èŒƒå›´å†…<br>UTF-8ç ç‚¹åœ¨0x80åˆ°0x10FFFFçš„èŒƒå›´å†…<br>å¦‚å›¾<img src="/blog/.io//2024/04/23/abcd1234-rust-os/unicode%E9%94%99%E8%AF%AF2.png" class title="è¯¢é—®chat-1"><br>å¦‚å›¾<img src="/blog/.io//2024/04/23/abcd1234-rust-os/unicode%E9%94%99%E8%AF%AF3.png" class title="è¯¢é—®chat-2"></p>
</blockquote>
<p>æˆ‘ä»¬çš„æ€»ç»“æ˜¯ï¼šUTF-8æ˜¯8ä½çš„ï¼Œå…¶ç”±ä¸€ä¸ªå­—èŠ‚è¿›è¡Œè¡¨ç¤ºï¼Œè€ŒUTF-16æ˜¯16ä½çš„ï¼Œå…¶ç”±ä¸¤ä¸ªå­—èŠ‚è¿›è¡Œè¡¨ç¤ºï¼Œå¾ˆå¯èƒ½æ˜¯å› ä¸ºâ€œâ˜¢ï¸â€æ˜¯UTF-16ç¼–ç ï¼Œå¯¼è‡´å…¶æ— æ³•è¢«è§£ææˆrusté‡Œçš„â€œå­—ç¬¦<code>char</code>â€ã€‚</p>
<h3 id="2024-04-12-é—®é¢˜ï¼šifå†…éƒ¨è¿”å›å¼‚å¸¸"><a href="#2024-04-12-é—®é¢˜ï¼šifå†…éƒ¨è¿”å›å¼‚å¸¸" class="headerlink" title="2024-04-12 é—®é¢˜ï¼šifå†…éƒ¨è¿”å›å¼‚å¸¸"></a>2024-04-12 é—®é¢˜ï¼šifå†…éƒ¨è¿”å›å¼‚å¸¸</h3><h4 id="é—®é¢˜æè¿°-1"><a href="#é—®é¢˜æè¿°-1" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><p>åœ¨ç¼–ç¨‹çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ„å¤–å‘ç°ï¼Œåœ¨ifè¯­å¥å†…ï¼Œé€šè¿‡ä¸å†™åˆ†å·çš„æ–¹å¼è¿›è¡Œè¿”å›ï¼Œä¼šäº§ç”Ÿé—®é¢˜ï¼Œç¨‹åºæ— æ³•ç¼–è¯‘ï¼Œè§ä¸‹å›¾ï¼š  </p>
<img src="/blog/.io//2024/04/23/abcd1234-rust-os/if%E9%94%99%E8%AF%AF1.png" class title="ifæ¡ä»¶ç¼–è¯‘å‡ºé”™">

<h4 id="å‡ºé”™ä»£ç -1"><a href="#å‡ºé”™ä»£ç -1" class="headerlink" title="å‡ºé”™ä»£ç "></a>å‡ºé”™ä»£ç </h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// structs3.rs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Structs contain data, but can also have logic. In this exercise we have</span></span><br><span class="line"><span class="comment">// defined the Package struct and we want to test some logic attached to it.</span></span><br><span class="line"><span class="comment">// Make the code compile and the tests pass!</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Execute `rustlings hint structs3` or use the `hint` watch subcommand for a</span></span><br><span class="line"><span class="comment">// hint.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Package</span></span> &#123;</span><br><span class="line">    sender_country: <span class="built_in">String</span>,</span><br><span class="line">    recipient_country: <span class="built_in">String</span>,</span><br><span class="line">    weight_in_grams: <span class="built_in">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> Package &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">new</span></span>(sender_country: <span class="built_in">String</span>, recipient_country: <span class="built_in">String</span>, weight_in_grams: <span class="built_in">i32</span>) -&gt; Package &#123;</span><br><span class="line">        <span class="keyword">if</span> weight_in_grams &lt;= <span class="number">0</span> &#123;</span><br><span class="line">            <span class="built_in">panic!</span>(<span class="string">"Can not ship a weightless package."</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Package &#123;</span><br><span class="line">                sender_country,</span><br><span class="line">                recipient_country,</span><br><span class="line">                weight_in_grams,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">is_international</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">        <span class="comment">// if self.sender_country != self.recipient_country &#123;</span></span><br><span class="line">        <span class="comment">//     return true;</span></span><br><span class="line">        <span class="comment">//     // true // error, 'true' return to the func is_international, not outside</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="comment">// // return false;</span></span><br><span class="line">        <span class="comment">// false // it can pass the compile</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// if self.sender_country == self.recipient_country &#123;</span></span><br><span class="line">        <span class="comment">//     false</span></span><br><span class="line">        <span class="comment">// &#125; else &#123;</span></span><br><span class="line">        <span class="comment">//     true</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.sender_country != <span class="keyword">self</span>.recipient_country <span class="comment">// most elegent way</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">get_fees</span></span>(&amp;<span class="keyword">self</span>, cents_per_gram: <span class="built_in">i32</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">        cents_per_gram * <span class="keyword">self</span>.weight_in_grams</span><br><span class="line">        <span class="comment">// Something goes here...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[cfg(test)]</span></span><br><span class="line"><span class="keyword">mod</span> tests &#123;</span><br><span class="line">    <span class="keyword">use</span> super::*;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="meta">#[should_panic]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">fail_creating_weightless_package</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> sender_country = <span class="built_in">String</span>::from(<span class="string">"Spain"</span>);</span><br><span class="line">        <span class="keyword">let</span> recipient_country = <span class="built_in">String</span>::from(<span class="string">"Austria"</span>);</span><br><span class="line"></span><br><span class="line">        Package::new(sender_country, recipient_country, -<span class="number">2210</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">create_international_package</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> sender_country = <span class="built_in">String</span>::from(<span class="string">"Spain"</span>);</span><br><span class="line">        <span class="keyword">let</span> recipient_country = <span class="built_in">String</span>::from(<span class="string">"Russia"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> package = Package::new(sender_country, recipient_country, <span class="number">1200</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">assert!</span>(package.is_international());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">create_local_package</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> sender_country = <span class="built_in">String</span>::from(<span class="string">"Canada"</span>);</span><br><span class="line">        <span class="keyword">let</span> recipient_country = sender_country.clone();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> package = Package::new(sender_country, recipient_country, <span class="number">1200</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">assert!</span>(!package.is_international());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#[test]</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">calculate_transport_fees</span></span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> sender_country = <span class="built_in">String</span>::from(<span class="string">"Spain"</span>);</span><br><span class="line">        <span class="keyword">let</span> recipient_country = <span class="built_in">String</span>::from(<span class="string">"Spain"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> cents_per_gram = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> package = Package::new(sender_country, recipient_country, <span class="number">1500</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">assert_eq!</span>(package.get_fees(cents_per_gram), <span class="number">4500</span>);</span><br><span class="line">        <span class="built_in">assert_eq!</span>(package.get_fees(cents_per_gram * <span class="number">2</span>), <span class="number">9000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é—®é¢˜åˆ†æ-1"><a href="#é—®é¢˜åˆ†æ-1" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h4><p>åœ¨é‡åˆ°è¿™ä¸ªé—®é¢˜ä¹‹åï¼Œæˆ‘è‡ªå·±åˆ†æä¸å‡ºæ¥ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„é”™è¯¯ã€‚äºæ˜¯ï¼Œæˆ‘å»æ‰¾é˜Ÿä¼é‡Œçš„å­¦é•¿è¿›è¡Œå’¨è¯¢ã€‚å­¦é•¿åœ¨ä»–çš„æ•™ç¨‹ä¹¦é‡Œæ‰¾åˆ°äº†ç­”æ¡ˆã€‚å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ï¼Œrustçš„ä½†ifè¯­å¥çš„è¿”å›å€¼å¿…ç„¶æ˜¯è¿”å›å•å…ƒ<code>()</code>ï¼Œå› æ­¤ï¼Œæˆ‘ä¸ä½¿ç”¨returnè¿”å›trueæ—¶ï¼Œç ´åäº†ifè¯­å¥çš„è¯­æ³•è§„åˆ™ï¼Œå¯¼è‡´å‡ºé”™ã€‚å…·ä½“æ•™ç¨‹å¦‚ä¸‹ï¼š  </p>
<img src="/blog/.io//2024/04/23/abcd1234-rust-os/if%E9%94%99%E8%AF%AF2.jpg" class title="ifæ¡ä»¶ç¼–è¯‘å‡ºé”™-è§£å†³">

<h2 id="é¢å¤–ç»ƒä¹ "><a href="#é¢å¤–ç»ƒä¹ " class="headerlink" title="é¢å¤–ç»ƒä¹ "></a>é¢å¤–ç»ƒä¹ </h2><p>åœ¨ç¬¬ä¸€é˜¶æ®µä¸­ï¼Œæˆ‘åœ¨æˆ‘ä»¬ä¸“ä¸šçš„æ“ä½œç³»ç»Ÿå®éªŒè¯¾ç¨‹ä¸­ï¼Œä½¿ç”¨rustç¼–ç¨‹ï¼Œå®Œæˆäº†å®éªŒå†…å®¹ï¼Œå…·ä½“å®Œæˆäº†ï¼š</p>
<ul>
<li>ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…é—®é¢˜</li>
<li>æ—¶é—´ç‰‡è½®è½¬å’Œä¼˜å…ˆçº§é˜Ÿåˆ—çš„è°ƒåº¦ç®—æ³•</li>
<li>æ–‡ä»¶ç³»ç»Ÿçš„å®ç°</li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨ç¬¬ä¸€é˜¶æ®µçš„å­¦ä¹ ä¸­ï¼Œæˆ‘å·©å›ºäº†æˆ‘ä»¬æ‰€æŒæ¡çš„ruståŸºç¡€ï¼Œå¹¶å¼€å§‹å­¦ä¹ æ“ä½œç³»ç»Ÿç›¸å…³çš„çŸ¥è¯†ã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘è¿˜åŸ¹å…»äº†æˆ‘çš„æ€è€ƒèƒ½åŠ›ï¼Œæ·±å…¥æ€è€ƒäº†rustçš„å®‰å…¨ä¸ä¸å®‰å…¨çš„åœ°æ–¹ã€‚åŒæ—¶ï¼Œé€šè¿‡å’Œç¾¤å‹çš„äº¤æµï¼Œæˆ‘ä¹Ÿå±•å¼€äº†å¯¹æ›´å¤šå…¶å®ƒçŸ¥è¯†ç‚¹çš„æ€è€ƒï¼Œæ¯”å¦‚â€œCopyâ€ã€â€œCloneâ€ç‰¹å¾å’Œâ€œDropâ€çš„å†²çªä¹‹å¤„ã€‚<br>æœ€é‡è¦çš„æ˜¯ï¼Œæˆ‘æ·±æ·±æ„è¯†åˆ°ï¼š<code>Talk is cheap, show me the code!</code></p>
<h2 id="å±•æœ›"><a href="#å±•æœ›" class="headerlink" title="å±•æœ›"></a>å±•æœ›</h2><p>ç›®å‰ï¼Œæˆ‘å·²ç»å¼€å§‹äº†ç¬¬äºŒé˜¶æ®µéƒ¨åˆ†å†…å®¹çš„å­¦ä¹ ï¼Œå¸Œæœ›å¯ä»¥é¡ºåˆ©çš„å®Œæˆç¬¬äºŒé˜¶æ®µçš„æ‰€æœ‰å†…å®¹ã€‚ä¹‹åå‚ä¸åˆ°ç¬¬ä¸‰é˜¶æ®µçš„é¡¹ç›®ä¸­ï¼Œç»§ç»­æé«˜è‡ªå·±çš„èƒ½åŠ›ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/23/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5Blog-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/23/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5Blog-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/" class="post-title-link" itemprop="url">2024æ˜¥å¤å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥Blog-ç¬¬ä¸€é˜¶æ®µ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-23 00:04:51" itemprop="dateCreated datePublished" datetime="2024-04-23T00:04:51+00:00">2024-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-27 00:49:10" itemprop="dateModified" datetime="2024-04-27T00:49:10+00:00">2024-04-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024æ˜¥å¤å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å› ä¸ºä¹‹å‰å­¦C++ç»“è¯†çš„å¥½å‹ç¾¤ä¸­å‘äº†è¿™ä¸ªè®­ç»ƒè¥çš„æŠ¥åé“¾æ¥ï¼Œæƒ³ç€æ­£å¥½OSè¿˜æ²¡æœ‰å­¦å°±æƒ³ç€æŠ¥åå‚åŠ äº†:)ã€‚å‚åŠ æœ¬æ¬¡è®­ç»ƒè¥ä¹‹å‰åªæœ‰csappçš„è®¡ç®—æœºä½“ç³»ç»“æ„è¿™ä¸€ç›¸å…³ç»éªŒï¼Œå¯¹äºRustå’ŒRISC-Vä¸€æ— æ‰€çŸ¥ã€‚ç¼–ç¨‹èƒ½åŠ›ä¸Šï¼Œä¸»è¦æ˜¯C++çš„æœåŠ¡å™¨å¼€å‘ï¼Œåšè¿‡å‡ ä¸ªåˆ†å¸ƒå¼å¾®æœåŠ¡é¡¹ç›®ï¼Œå›½å¤–çš„ä¸€äº›å…¬å¼€è¯¾labï¼ˆCS144/CS106B/CS50ç­‰ï¼‰ã€‚</p>
<p>æ€»ä½“æ¥è¯´ç¬¬ä¸€é˜¶æ®µå­¦ä¹ è¿‡ç¨‹è¿˜æ˜¯æœ‰ç‚¹ç—›è‹¦çš„ï¼Œæ¯•ç«ŸRustå­¦ä¹ æ›²çº¿æ¯”è¾ƒé™¡å³­ï¼Œä¸è¿‡ä¹Ÿæœ‰è®¸å¤šç‰¹æ€§èƒ½ä¸C++ç­‰è¯­è¨€è”ç³»èµ·æ¥ï¼Œå¸®åŠ©ç†è§£ã€‚åœ¨æŠ¥åä¹‹åå°±å¼€å§‹ç¿»é˜…å…ˆå‰è®­ç»ƒè¥çš„èµ„æ–™å¼€å§‹è‡ªå­¦Rustäº†ï¼Œæ€»ä½“è¿˜æ˜¯é¡ºåˆ©çš„</p>
<h2 id="ä¸€äº›é“¾æ¥ğŸ”—"><a href="#ä¸€äº›é“¾æ¥ğŸ”—" class="headerlink" title="ä¸€äº›é“¾æ¥ğŸ”—"></a>ä¸€äº›é“¾æ¥ğŸ”—</h2><ul>
<li>Rustå­¦ä¹ è®°å½•ï¼š<a href="https://github.com/Andrew211vibe/Rust-Course-Note" target="_blank" rel="noopener">https://github.com/Andrew211vibe/Rust-Course-Note</a></li>
<li>rCore-Tutorialå­¦ä¹ å®ç°ï¼š<a href="https://github.com/Andrew211vibe/rCore-Lab" target="_blank" rel="noopener">https://github.com/Andrew211vibe/rCore-Lab</a></li>
<li>Writing an OS in Rustå®ç°ï¼š<a href="https://github.com/Andrew211vibe/blog_os_impl.git" target="_blank" rel="noopener">https://github.com/Andrew211vibe/blog_os_impl.git</a></li>
<li>ä¸ªäººå­¦ä¹ ç¬”è®°ï¼š<a href="https://andrew211vibe.notion.site/2024-850ebd79bde0444f985e7c3c816f501f" target="_blank" rel="noopener">2024å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ (notion.site)</a></li>
</ul>
<h1 id="ç¬¬ä¸€é˜¶æ®µæ€»ç»“"><a href="#ç¬¬ä¸€é˜¶æ®µæ€»ç»“" class="headerlink" title="ç¬¬ä¸€é˜¶æ®µæ€»ç»“"></a>ç¬¬ä¸€é˜¶æ®µæ€»ç»“</h1><p>ç¬¬ä¸€é˜¶æ®µä¸»è¦é›†ä¸­äºRuståŸºç¡€è¯­æ³•çš„å­¦ä¹ ï¼Œå¹¶å®Œæˆrustlingsç»ƒä¹ é¢˜ï¼Œå…¶æ¬¡æ˜¯è¿›è¡ŒRISC-VæŒ‡ä»¤é›†çš„å­¦ä¹ </p>
<ul>
<li>Rustå› ä¸ºæ˜¯ç¬¬ä¸€æ¬¡ä¸Šæ‰‹ï¼Œç¼–ç ç†Ÿç»ƒåº¦è¿˜ä¸æ˜¯å¾ˆé«˜ï¼Œå¯¹äºä¸€äº›ç¼–ç æ›´é«˜æ•ˆçš„æ–¹å¼åº”ç”¨ä¸ç†Ÿç»ƒï¼Œç®—æ³•å’Œæ•°æ®ç»“æ„çš„å®ç°é‡åˆ°çš„ç£•ç»Šè¾ƒå¤š</li>
<li>RISC-VåŸºæœ¬æŒ‡ä»¤æ¯”è¾ƒå¥½ç†è§£ï¼Œå®é™…ç¼–å†™è¿˜æ˜¯å·®ä¸€äº›ï¼Œèƒ½ååº”æŒ‡ä»¤çš„è¡Œä¸ºï¼Œä¸€äº›å¯„å­˜å™¨è®°ä¸ä½</li>
<li>è®¡ç»„å’Œç¼–è¯‘åŸç†çŸ¥è¯†æ¯”è¾ƒè–„å¼±</li>
</ul>
<h2 id="Rust"><a href="#Rust" class="headerlink" title="Rust"></a>Rust</h2><p>Rustå­¦ä¹ è¿‡ç¨‹ä¸»è¦å‚è€ƒé˜…è¯»äº†ã€ŠRuståœ£ç»ã€‹ã€ã€ŠRust by Exampleã€‹ã€å’Œ<a href="https://tourofrust.com/05_zh-cn.html" target="_blank" rel="noopener">Rustä¹‹æ—…</a><br>ä¹‹åçš„æ—¶é—´ä¸»è¦æ˜¯å¯¹ã€ŠRuståœ£ç»ã€‹ä¸­çš„è¿›é˜¶éƒ¨åˆ†å’ŒåŸºç¡€éƒ¨åˆ†è¿›è¡Œé˜…è¯»ç¬”è®°å¹¶å¤ä¹ ï¼ŒåŸºç¡€éƒ¨åˆ†éš¾ç‚¹ä¸»è¦é›†ä¸­åœ¨æ‰€æœ‰æƒå’Œç‰¹å¾è¿™ä¸¤ä¸ªçŸ¥è¯†ç‚¹ä¸Šï¼Œå¯¹äºç”Ÿå‘½å‘¨æœŸä»¥åŠåŒ…å’Œæ¨¡å—çš„è®¨è®ºå¹¶ä¸æ˜¯ç‰¹åˆ«æ·±å…¥ã€‚è¿›é˜¶éƒ¨åˆ†éƒ½éš¾å“ˆå“ˆå“ˆå“ˆï¼Œè¿­ä»£å™¨å’Œæ™ºèƒ½æŒ‡é’ˆè¿˜ç®—æ¯”è¾ƒå¥½ç†è§£äº›ï¼Œå¯¹äºè¿­ä»£å™¨åŠ é—­åŒ…å®ç°çš„å‡½æ•°å¼ç¼–ç¨‹æ¯æ¬¡éƒ½è®©æˆ‘è§‰å¾—å¾ˆå¼ºå¤§ï¼ŒCellå’ŒRefCellæä¾›çš„å†…éƒ¨å¯å˜æ€§åŠ ä¸Šæ™ºèƒ½æŒ‡é’ˆä¹Ÿç»™ç¨‹åºæä¾›äº†å¾ˆå¤§çš„çµæ´»æ€§çš„å‰æä¸‹ä¿è¯äº†ä¸€å®šçš„å®‰å…¨æ€§ã€‚ç”Ÿå‘½å‘¨æœŸçš„ä½¿ç”¨ä¹Ÿæ˜¯ä¸€å¤§éš¾ç‚¹äº†ã€‚ä¹‹åè¿˜æœ‰unsafe Rustçš„ä½¿ç”¨ä»¥åŠå®ç¼–ç¨‹ï¼ˆå¯¹æ¯”C/C++çš„éš¾çš„å¤šä½†åŠŸèƒ½æ€§ä¹Ÿæ›´å¼ºå¤§ï¼‰</p>
<p>rustlingsçš„åŸºç¡€è¯­æ³•éƒ¨åˆ†ä¸ç®—ç‰¹åˆ«éš¾ï¼Œä¸ç†Ÿç»ƒçš„æŸ¥ä¸€æŸ¥å°±èƒ½å†™å¾—å‡ºæ¥ã€‚éš¾ç‚¹é›†ä¸­åœ¨testå’Œalgorithmç« èŠ‚ï¼Œä¸»è¦æ˜¯testååŠéƒ¨åˆ†ï¼Œä¸€äº›ç¯å¢ƒå˜é‡çš„è®¾ç½®ï¼Œä»¥åŠrustå®ç°æ•°æ®ç»“æ„ç®—æ³•æ‰€ç”¨åˆ°çš„unsafe rustå’Œæ™ºèƒ½æŒ‡é’ˆçš„æ“ä½œã€‚</p>
<p>ä¹‹åå°è¯•é˜…è¯»Learning Rust With Entirely Too Many Linked Listsï¼Œå’Œç”¨Rustå®ç°ä¸€äº›ç®—æ³•å’Œæ•°æ®ç»“æ„æ¥å·©å›ºï¼Œå¤šæ•²ä¸€äº›ä»£ç æé«˜ç†Ÿç»ƒåº¦ï¼Œå¤šæŸ¥æ–‡æ¡£ã€‚</p>
<h2 id="RISC-Vå­¦ä¹ "><a href="#RISC-Vå­¦ä¹ " class="headerlink" title="RISC-Vå­¦ä¹ "></a>RISC-Vå­¦ä¹ </h2><p>è¿™éƒ¨åˆ†çŸ¥è¯†å­¦ä¹ é¦–å…ˆæ˜¯é˜…è¯»äº†ã€Šè®¡ç®—æœºç»„æˆäºè®¾è®¡ï¼šRISC-Vç‰ˆã€‹çš„å‰ä¸¤ä¸ªç« èŠ‚ï¼Œå¯¹RISC-Vçš„åŸºæœ¬æŒ‡ä»¤å’ŒæŒ‡ä»¤æ ¼å¼æœ‰ä¸€ä¸ªäº†è§£ï¼Œä»¥åŠRISC-Vçš„è®¾è®¡å’Œè®¡ç®—æœºä½“ç³»ç»“æ„çš„8ä¸ªä¼Ÿå¤§æ€æƒ³ä¹‹é—´çš„è”ç³»ã€‚ä¹‹å‰é˜…è¯»csappå¹¶å®Œæˆlabå®éªŒï¼Œæœ‰äº›x86_64çš„ç»éªŒï¼Œå¯¹äºä¸€äº›åŸºæœ¬æŒ‡ä»¤å’Œä½œç”¨çš„ç†è§£è¿˜ç®—è½»æ¾ã€‚éš¾ç‚¹é›†ä¸­åœ¨åŸå­æŒ‡ä»¤ä¸Šã€‚ä¹‹åä¸»è¦é˜…è¯»äº†ã€ŠRISC-Væ‰‹å†Œã€‹ï¼Œä¸»è¦é‡ç‚¹æ˜¯ç¬¬åç« çš„ç‰¹æƒæ¶æ„ï¼Œæ¶‰åŠä¹‹årCoreçš„ç‰¹æƒçº§åˆ‡æ¢æ“ä½œä»¥åŠè™šæ‹Ÿå†…å­˜çš„å®ç°ï¼ˆSV39å¤šçº§é¡µè¡¨ï¼‰</p>
<p>å­¦ä¹ åå¯ä»¥çœ‹å‡ºRISC-VæŒ‡ä»¤é›†çš„å¼ºå¤§å’Œç®€å•ï¼Œå’Œx86_64ä¸åŒçš„ç†å¿µã€‚å…­ç§åŸºæœ¬æŒ‡ä»¤æ ¼å¼ï¼Œç­‰é•¿æŒ‡ä»¤å°±èƒ½æå®šä¸€åˆ‡ï¼Œç²¾å¦™çš„è®¾è®¡ï¼ˆå°±æ˜¯æœ‰æ—¶å€™è„‘å­è½¬ä¸è¿‡æ¥ï¼‰</p>
<h2 id="æŸ¥ç¼ºè¡¥æ¼"><a href="#æŸ¥ç¼ºè¡¥æ¼" class="headerlink" title="æŸ¥ç¼ºè¡¥æ¼"></a>æŸ¥ç¼ºè¡¥æ¼</h2><p>é˜…è¯»æ“ä½œç³»ç»Ÿå¯¼è®ºï¼Œç›®å‰è¿˜åœ¨è™šæ‹ŸåŒ–éƒ¨åˆ†ï¼Œç„¶åè§‚çœ‹å¯¼å­¦é˜¶æ®µçš„OSè¯¾å½•æ’­ï¼Œè¡¥è¶³æ“ä½œç³»ç»Ÿçš„ç†è®ºçŸ¥è¯†å’Œæ¦‚å¿µ</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/blog/">1</a><span class="page-number current">2</span><a class="page-number" href="/blog/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/23/">23</a><a class="extend next" rel="next" href="/blog/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">rcore-os Group</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/muse.js"></script>


<script src="/blog/js/next-boot.js"></script>


  















  

  

  

</body>
</html>
