<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/blog/lib/animate-css/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"rcore-os.github.io","root":"/blog/","scheme":"Muse","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="rcore-os Blog">
<meta property="og:url" content="http://rcore-os.github.io/blog/page/5/index.html">
<meta property="og:site_name" content="rcore-os Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="rcore-os Group">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://rcore-os.github.io/blog/page/5/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>rcore-os Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">rcore-os Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">rcore-os Group</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">508</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">30</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">481</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content index posts-expand">
          
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/10/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E4%B8%93%E4%B8%9A%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-qstommyshu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/10/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E4%B8%93%E4%B8%9A%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-qstommyshu/" class="post-title-link" itemprop="url">2024秋冬季专业阶段总结-qstommyshu</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-11-10 10:15:22 / Modified: 16:35:06" itemprop="dateCreated datePublished" datetime="2024-11-10T10:15:22+00:00">2024-11-10</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一阶段"><a href="#第一阶段" class="headerlink" title="第一阶段"></a>第一阶段</h1><p>我之前就做过rustlings了，前100道题还是比较容易的，但是在专业阶段开始之前再refresh一下知识挺好的。最后10道题我其实很喜欢，之前做rustlings 都是在非常零散的填空，最后十道题实现算法让我真正开始有了我可以用rust 做些什么的感觉（虽然写的时候也挺痛苦就是了，尤其是linked list）。现在回看其实有些地方可以用更好的方式实现，等放假了再去练一练！</p>
<h1 id="第二阶段"><a href="#第二阶段" class="headerlink" title="第二阶段"></a>第二阶段</h1><p>在rcore的实验课中，我学到了很多OS相关的知识。每一章的实验难度循序渐进，其中ch6, ch4, ch8 是我认为最难的，也是学到了最多东西的部分。</p>
<p>这3周走来我收获良多，也理解了很多以前就知道，但是懵懵懂懂的知识。从开始的获取<code>TaskInfo</code>中和群友的激烈讨论，到理解计算机系统数据都是一串二进制数据。再到开始理解地址空间，学会实现跨页机制和申请/释放内存。再到实现进程的创建，公平的<code>Stride</code>调度算法。再到文件系统，实现了系统文件的数据以及硬链接和删除文件。再到实现了线程级别的死锁检测。现在回看我都理解我这么短时间内怎么学到这么多知识的。</p>
<p>说实话我觉得最重要的还是跟群友一起讨论，加深自己对知识的理解。如果是我自己一个人学的话可能刚开始就放弃了。而且，在追求技术的路上见到这么多志同道合的人也是非常开心，在讨论中也学到了很多超越课程本身的东西。</p>
<p>当然，训练营时间还是挺紧凑的，做完了实验题目并不代表我真正把所有知识都掌握了，我还需要自己花时间巩固吸收指导书的内容。希望有一天我能总结出一本自己的指导书，把原来指导书中晦涩难懂的部分以更简洁明了的方式写出来帮助未来训练营的同学们。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/10/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E6%9D%A8%E5%AD%A6%E8%81%AA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/10/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E6%9D%A8%E5%AD%A6%E8%81%AA/" class="post-title-link" itemprop="url">2024秋冬开源操作系统训练营第二阶段总结-杨学聪</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-11-10 09:57:29 / Modified: 16:35:06" itemprop="dateCreated datePublished" datetime="2024-11-10T09:57:29+00:00">2024-11-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/summary/" itemprop="url" rel="index"><span itemprop="name">summary</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>After the second stage of the 2024 autumn winter open source operating system training camp, I would like to share my experience and summary with you.</p>
<p>This is the twice time I participated in the training camp, and this time I mainly learned about the basic knowledge of operating systems, including the process of operating system development, the structure of operating systems, and the basic principles of operating systems. </p>
<p>In the past years, I have spent a lot in operating system for x86 boards, including assembly, multi-language, segmentation, paging and multitask, which covers the real mode and protected mode.</p>
<p>It was the training camp that made me touch the RISC-V64 architecture.</p>
<p>I love RustSBI, but it made me kind of confused. I cannot make sense of the base implementation of the system, although it may be all right to depend on it.</p>
<p>With RustSBI, I easily realised the TIMER interrupt. This makes OSDev much easy! In x86 board, we need to write the control words to the PIC/RTC peripheral.</p>
<p>We used Trampoline to implement the syscall, exception, interrupt and other traps. This is very smart and comfortable. And this is the only assemly code in the whole project.</p>
<p>I also had the problem to treat the paired-notions like: “task” and “thread”, “process” and “task”.</p>
<p>In general, I have had a better understanding of operating systems development, RISC-V64 architecture, Rust and QEmu Simulator.</p>
<p>In the future, I’d like to rewrite my <a href="https://mecocoa.org" target="_blank" rel="noopener">MECOCOA</a> project, which make architecture “x86” and “Risc-V64” harmonious.</p>
<p>Thank you. Thanks to teachers and the people who have helped me.</p>
<p><em>Dosconio</em>.</p>
<p>2024AD Nov 10, Sun.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/10/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E6%9D%A8%E5%AD%A6%E8%81%AA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/10/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E6%9D%A8%E5%AD%A6%E8%81%AA/" class="post-title-link" itemprop="url">2024秋冬开源操作系统训练营第一阶段总结-杨学聪</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-11-10 09:57:10 / Modified: 16:35:06" itemprop="dateCreated datePublished" datetime="2024-11-10T09:57:10+00:00">2024-11-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/summary/" itemprop="url" rel="index"><span itemprop="name">summary</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>After the first stage of the 2024 autumn winter open source operating system training camp, I would like to share my experience and summary with you.</p>
<p>It was the training camp that made me touch the magic programming language – Rust.</p>
<p>In the stage, I learned the basic knowledge of Rust, and met a lot of like-minded students.</p>
<p>Before, besides assembly, I write the documents with only C series languages (C, C++ and C#). I was not able to imagine how the “memory-safety” would be. But after the touching the Rust, I found that the Rust is not only a simple language. Rust can check your code in compile time, considering the using for multi-thread, memory-leak, and the optimization in general. </p>
<p>Below are the impressive places that Rust has left me:</p>
<ul>
<li><p><code>unsafe</code> keyword: Like C#, Rust has a <code>unsafe</code> keyword, which is used to mark the code, which cannot be assured by the compiler. This enables us plug in the special code, solving the possible lack for the implementation of the current supply.</p>
</li>
<li><p><code>ownership</code> and <code>lifetime</code> system: Rust has a very special <code>ownership</code> system, which is different from the C series language. It can help us to avoid the memory leak or multi-reference. In other languages, we may forget to consider the mechanism about variable usage.</p>
</li>
<li><p><code>trait</code>: Rust has a very special <code>trait</code> system, which is similar to the interface in C#. It can make the code more flexible and reusable. We can avoid pure-virtual class in C++, which may import v-table making us uncomfortable.</p>
</li>
<li><p>default immutable: This encourages me to delare more variable when writing codes, which makes code more readable.</p>
</li>
</ul>
<p>However, there are still a lot I need to learn. In fact, I have not mastered standard C and C++ yet. This let me have a weakness in computer programming – I cannot consider from all sides to output a great code.</p>
<p>In the future, I’d like to study the Embedded-development relatived knowledge of Rust.</p>
<p>Thank you. Thanks to teachers and the people who have helped me.</p>
<p><em>Dosconio</em>.</p>
<p>2024AD Nov 10, Sun.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/10/2024A-rCore-Blog-Aoi979/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/10/2024A-rCore-Blog-Aoi979/" class="post-title-link" itemprop="url">2024A-rCore-Blog-Aoi979</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-11-10 02:36:55 / Modified: 16:35:06" itemprop="dateCreated datePublished" datetime="2024-11-10T02:36:55+00:00">2024-11-10</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="第一阶段总结"><a href="#第一阶段总结" class="headerlink" title="第一阶段总结"></a>第一阶段总结</h2><p>对Rust这门编程语言早有耳闻，在活动开始之前就学过一遍rust,不过因为用的不多也没有很熟练，第一阶段的Rust练习巩固了基础，我平时是写C/C++的，真正写起来的时候非常强烈的感受到Rust 的设计与C++之间的差异，Rust对安全的要求非常严格，还有就是这个编译器很强大，虽然过不了编译挺烦人的，但编译器又能教你改正错误，也算是Rust的一个魅力了</p>
<h2 id="第二阶段总结"><a href="#第二阶段总结" class="headerlink" title="第二阶段总结"></a>第二阶段总结</h2><ul>
<li><p>ch1~3</p>
<p>在学习汇编语言的过程中，我深刻体会到了“切换上下文”的概念。通过阅读trap.s和switch.s的代码，我不仅学到了编程技巧，还对操作系统和计算机的深层次工作原理有了更为深刻的理解。</p>
</li>
<li><p>ch4</p>
<p>地址空间的章节对我而言是一大挑战。尽管在理论学习中已经有所接触，但真正深入到代码层面时，我仍然感到些许迷茫。理解MapArea和MemorySet的过程颇费周折，最初我错误地将rCore视为单页表系统，导致对许多操作感到困惑。经过反复推敲和深入学习，我终于克服了这一障碍，这一部分的学习经历让我受益匪浅。</p>
</li>
<li><p>ch5 &amp; ch8</p>
<p>与第四章相比，第五章和第八章的编程题目难度有所降低。这两章引入了进程的概念，并为后续的并发章节做了良好的铺垫。我开始对之前觉得理所当然存在的进程和线程有了更深刻的理解。在Linux系统中，进程和线程只是共享程度不同的任务。相较于理论书籍，代码的直观性让我对这些概念有了更加清晰的认识。第八章中，我花费了一些时间来理解银行家算法，一旦掌握，编程题目便迎刃而解。</p>
</li>
<li><p>ch6</p>
<p>这一章对我来说是整个学习阶段中难度最大的。在理论学习时，我对文件系统章节的理解不够深入，面对文档中逐步引入的抽象概念，我感到十分困惑。在反复阅读文档和代码后，我终于在微信训练营群友的帮助下完成了作业。我希望rCore在未来的讲解中能够更加细致地涵盖这一部分。</p>
</li>
<li><p>ch7</p>
<p>很轻量的章节，为系统引入了管道，实现了进程间的通信，因为没有编程作业，就没上面的章节反复翻阅文档式的去理解各个细节</p>
<h2 id="感悟"><a href="#感悟" class="headerlink" title="感悟"></a>感悟</h2><p>回顾这一阶段的学习，我感到非常充实。尽管在第六章的学习过程中遇到了不小的挑战，但这段经历对我的成长无疑是宝贵的。无论我能否在接下来的学习中继续坚持，这一阶段所学到的知识和技能都将对我产生长远的影响。</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/blog-for-yjymosheng/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/blog-for-yjymosheng/" class="post-title-link" itemprop="url">blog_for_yjymosheng  殷金钰</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 22:34:33" itemprop="dateCreated datePublished" datetime="2024-11-09T22:34:33+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-11-10 16:35:06" itemprop="dateModified" datetime="2024-11-10T16:35:06+00:00">2024-11-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="阶段一总结"><a href="#阶段一总结" class="headerlink" title="阶段一总结"></a>阶段一总结</h1><h2 id="初次认真学习rust每一个点"><a href="#初次认真学习rust每一个点" class="headerlink" title="初次认真学习rust每一个点"></a>初次认真学习rust每一个点</h2><p>通过某些渠道，第一次了解到操作系统训练营，以前我也有用rust写过一些内容，但严格来说这是我的第一次正式学习rust。学习了很多的内容，了解到了<br>闭包，函数式编程，拓展了我的知识面，我第一次见到结构如此清晰的语言。</p>
<h2 id="所有权的理解"><a href="#所有权的理解" class="headerlink" title="所有权的理解"></a>所有权的理解</h2><p>众所周知，rust很贪。所有权是其中的灵魂。我认为，其本质就是“作茧自缚”，减少了许多东西，又为方便开发与调试添加了许多东西。这些设计减少了许<br>多的错误。所以简单的把所有权当作单线程的脑子就行，不要给它过多的行为。</p>
<h2 id="错误处理中的Option-Result"><a href="#错误处理中的Option-Result" class="headerlink" title="错误处理中的Option Result"></a>错误处理中的Option Result</h2><ul>
<li><p>Option 用于表达可能存在或者不存在的值，它有两种可能的状态：Some(值) 和 None。当你不确定一个值是否存在时，可以使用 Option 来处理这种情<br>况。</p>
</li>
<li><p>Result 则用于表达可能的操作成功或失败的结果，它有两种可能的状态：Ok(值) 和 Err(错误)。当你需要处理可能出现错误的情况时，可以使用 Result 来处理这种情况。</p>
</li>
</ul>
<h2 id="令人耳目一新的枚举类型-match"><a href="#令人耳目一新的枚举类型-match" class="headerlink" title="令人耳目一新的枚举类型 match"></a>令人耳目一新的枚举类型 match</h2><p>在 Rust 中，枚举类型是一种非常强大的数据结构，它可以用来表达一组相关的值。而使用 match 关键字可以让我们更加灵活地处理枚举类型的值，使得<br>代码更加清晰易懂。</p>
<p>match 表达式可以用来匹配枚举类型的不同变体，并根据不同的情况执行相应的代码逻辑。这种模式匹配的方式让代码的逻辑结构清晰明了，同时也增强了<br>代码的可读性和可维护性。</p>
<h2 id="我的收获"><a href="#我的收获" class="headerlink" title="我的收获"></a>我的收获</h2><p>通过学习 Rust，我收获了很多。不仅仅是语言本身的特性和语法，更重要的是 Rust 给我带来的编程思维方式的转变。在学习 Rust 的过程中，我更加注<br>重代码的安全性和可靠性，学会了如何利用 Rust 的各种特性来编写更加健壮的程序。</p>
<p>另外，通过与社区的交流和分享，我还了解到了很多其他开发者的经验和见解，这也让我受益匪浅。总的来说，学习 Rust 是一次非常有意义的经历，我相<br>信在将来的工作和项目中，我会继续运用 Rust 的知识和思想，为我的编程生涯注入新的活力和动力。</p>
<h1 id="阶段二总结"><a href="#阶段二总结" class="headerlink" title="阶段二总结"></a>阶段二总结</h1><p>在rcore的实验课程中，最让我印象深刻的就是虚拟地址部分，由于之前接触的操作系统全部都是nommu类型，直接访问物理地址的概念非常不容易被打破，并且ch4也是一个门槛，需要非常深入的理解rcore的整体代码框架，对虚拟地址的映射，软硬件协同操作，多级页表，地址空间的概念理解了很久，在不断查找资料，不断理解的情况下，才对虚拟地址的概念有了很浅显的理解，把任务完成。</p>
<p>在完成任务的过程中，其实rcore的整体框架非常完善，作业的部分也就是一些扩展功能，整体还是对rcore的实现的理解，在完成任务时，也是对已有实现进行模仿，理解整体框架，之后调用已有函数或自己根据数据结构实现函数，实现功能。</p>
<p>以及最后两个lab难度上升有点大，并且文章 中是对功能的描述居多(很多对于实验有用的点会被淹没在其中)虽然在边做lab边反复查看资料时可以发现，但是对于没有接触过的同学可能很多api看过就没印象了，在后续做lab中也找不到，所以可以适当增加一下强调或者提示，来减少难度增加坡度。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/rcore-step12-lcr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/rcore-step12-lcr/" class="post-title-link" itemprop="url">rcore-step12-lcr</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 20:07:41" itemprop="dateCreated datePublished" datetime="2024-11-09T20:07:41+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-11-10 16:35:06" itemprop="dateModified" datetime="2024-11-10T16:35:06+00:00">2024-11-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>第一阶段：rustlings<br>1.去入门了一下rust，使用的是Rust语言圣经(Rust Course)<br>2.通过学习Rust语言圣经，了解了rust的基础语法，因为之前有过C++语言基础，所以学习较为容易<br>3.无GC，有强大的包管理工具，强大的安全性，以及独具特色的所有权机制<br>4.学习了rustlings的110道题目，虽然之后大多用不到就全忘记了，但是如果将来从事相关工作，很快就能重新捡起来<br>5.学习完成rustlings的110道题目之后就开始了之后的第二阶段学习</p>
<p>第二阶段：rCore-Tutorial<br>1.通过阅读rCore-Tutorial-Book学习到了很多关于操作系统的知识，之前也有过操作系统的学习，只不过都是理论上的，并没有相关实践上的学习，这也是我进入此训练营的原因，想通过训练营督促自己去学习到更多的关于操作系统的知识，以及拥有一个比较独特的项目，去助力就业<br>2.通过rCore的学习，完成了5个lab，可以说是学习比较辛苦的了，是rCore-Tutorial-Book和rCore-Camp-Guide-2024A两个教程同时跟进，学习完成rCore-Tutorial-Book之后就在相应章节的2024A中完成lab，<br>(1)在lab1中，我们的系统已经能够支持多个任务分时轮流运行，引入一个新的系统调用 sys_task_info 以获取当前任务的信息。<br>(2)在lab2中，在引入虚存之后重写内核的 sys_get_time 和 sys_task_info 函数，以及完成mmap 和 munmap 匿名映射两个系统调用函数。<br>(3)在lab3中，进程创建过程中，fork+execl两个函数高频率连续使用，感觉十分繁琐，我们引入一个spawn函数直接完成两个函数调用的结果，新建子进程，使其执行目标程序。还完成了stride 调度算法的实现，通过修改优先级，使步长不同，导致选取的优先级发生变化。<br>(4)在lab4中，引入硬链接的概念，让我们完成linkat和unlinkat和fstat三个系统调用，写这个的时候给我写破防了，当时看的代码抑郁了，但是其实没有那么难，很多代码其实和解决问题没有任何关联，这一个lab只能是非常难写，需要对源码有很深的理解，以及需要想到在文件存入fd_table的时候，想办法把文件名字也放入PCB中<br>(5)在lab5中，完成了死锁检测，这个我的完成过程也是比较抽象，写的时候很痛苦，一直往银行家算法上面想，后面发现need根本不知道啊，经过讨论之后才知道，原来只需要检测死锁就行，比较精妙的一点就是在lock阻塞或睡眠的过程中，就需要更新need数组，而且在死锁检测时候，需要让need+1而不是allocation，比较有意思吧。<br>3.其实完成了这个比较toy的玩具项目，感觉最后很多东西没有联系起来，如果要是最后把所有lab整合在一起，组合成一个可以展现自己从开始到现在的成果的话会更好一些，不过也是很感谢rCore这个教学，学到了很多操作系统的知识。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/rcore-debug-log/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/rcore-debug-log/" class="post-title-link" itemprop="url">rcore-debug-log</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 20:06:39" itemprop="dateCreated datePublished" datetime="2024-11-09T20:06:39+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-11-10 16:35:06" itemprop="dateModified" datetime="2024-11-10T16:35:06+00:00">2024-11-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-Stage"><a href="#1-Stage" class="headerlink" title="1 Stage"></a>1 Stage</h1><p>初次学习rust ，之前一直以c++作为主语言进行编程，大概了解了rust 的借用机制，而且对操作系统感兴趣，所以开始学习</p>
<p>在学习rust过程中，与c++相对比很多“不适应”</p>
<ol>
<li>变量的借用机制以及生命周期的声明让人很水土不服，还在深刻感受</li>
<li>基础stl库的文档过于繁杂了。</li>
<li>比 c++ 更原生支持的泛型编程，而且比c++模板可读性更高，debug也相对更容易一些</li>
<li>总体比 c++ 更约束，c++ 的自由带来的是各种错误和不安全性，rust在这一方面确实做得更加出色（听说性能也与c++相差不多）</li>
</ol>
<h1 id="2-Stage"><a href="#2-Stage" class="headerlink" title="2 Stage"></a>2 Stage</h1><h2 id="lab1"><a href="#lab1" class="headerlink" title="lab1"></a>lab1</h2><p>简单的系统调用实现，关键是了解了 os 最初的形状，见识到了如何使用汇编和高级语言一起实现应用，很酷</p>
<h2 id="lab2"><a href="#lab2" class="headerlink" title="lab2"></a>lab2</h2><p>rcore 路上的第一道门槛，如果lab1只能算花了我一小会的放松时间，那lab2就相当于一整天。</p>
<ol>
<li>先把lab1的实现在lab2中兼容（地址转换有点难受）。</li>
<li>而后专注于实现 mmap 与 munmap，在实现时，采用直接新建area的方式，删除则删除对应 start area</li>
<li>但遇到了问题，在校验vpn是否合法时，pte检验一直出现问题，最后在translate to ppn相关函数中做了自己理解的改动</li>
</ol>
<h2 id="lab3"><a href="#lab3" class="headerlink" title="lab3"></a>lab3</h2><p>实现角度看比较简单，但自己尝试了不同的stride位数 以及 bigstride，看到了很多很有意思的现象，包括一直不被调度，包括反转现象</p>
<h2 id="lab4"><a href="#lab4" class="headerlink" title="lab4"></a>lab4</h2><p>感觉关键在于硬链接统计方法，实现比较粗暴（实在没时间了。。），有时间可以考虑如何使用抽象的思维跳过 STDOUT STDIN</p>
<h2 id="lab5"><a href="#lab5" class="headerlink" title="lab5"></a>lab5</h2><p>考虑银行家算法 和 死锁检测的区别（🤔）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E5%88%98%E6%A2%93%E9%99%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E5%88%98%E6%A2%93%E9%99%86/" class="post-title-link" itemprop="url">2024秋冬开源操作系统训练营第一阶段总结-刘梓陆</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 19:05:54" itemprop="dateCreated datePublished" datetime="2024-11-09T19:05:54+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-11-10 16:35:06" itemprop="dateModified" datetime="2024-11-10T16:35:06+00:00">2024-11-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><a href="#写在前面">写在前面</a></li>
<li><a href="#欢迎交流-">欢迎交流;-）</a></li>
<li><a href="#背景">背景</a></li>
<li><a href="#问题与挑战">问题与挑战</a></li>
<li><a href="#下一步计划">下一步计划</a></li>
<li><a href="#总结">总结</a></li>
</ul>
<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>我从稍微理解了我的专业之后就一直都很崇拜 Linus，这位堪称传奇的软件工程师在 1991 年 8 月 25 日——他 21 岁时就在网络上发布了 Linux 内核的源代码。现在是 2024 年 4 月 23 日，我也是 21 岁，追逐吗，梦想吗，我也想像他一样写出这样神奇的代码，33 年后的今天，我也要开始了，Linus。</p>
<h2 id="欢迎交流-）"><a href="#欢迎交流-）" class="headerlink" title="欢迎交流;-）"></a>欢迎交流;-）</h2><p>这次参加训练营，也算是二周目，对很多内容都已经轻车熟路。在上次的训练营之中，我并没有完成三阶段的学习，多少有当时实习没有时间进行分配和对更加复杂的操作系统内核架构没有大概了解的原因。</p>
<p>所以在实习结束之后的暑假，我也没有闲着，主要都在学习 Rust 之前没有接触过的内容还有理解 Linux 操作系统内核上了。成果大概就是把《Rust 程序设计第二版》这本书看完了，加上初探了一下 Rust 的异步框架、对 Linux 0.12 这个老版本的内核代码进行了一些阅读。</p>
<p>希望这次可以成功冲击第四阶段，加油！</p>
<ul>
<li>github ID: <a href="https://github.com/destinyFvcker" target="_blank" rel="noopener">destinyFvcker</a></li>
<li>邮箱：<a href="mailto:&#100;&#x65;&#115;&#116;&#x69;&#110;&#x79;&#x66;&#x75;&#x6e;&#107;&#x40;&#49;&#54;&#51;&#46;&#x63;&#x6f;&#109;">&#100;&#x65;&#115;&#116;&#x69;&#110;&#x79;&#x66;&#x75;&#x6e;&#107;&#x40;&#49;&#54;&#51;&#46;&#x63;&#x6f;&#109;</a></li>
<li>微信号：destinyfvcker</li>
</ul>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>在过去的一年时间里，我开始学习 Rust 语言，并完成了 Rust 官方的 rustlings 练习题。这些练习题主要帮助我熟悉了 Rust 的基本语法和特性，如所有权、借用、模式匹配等。通过这些基础知识的积累，我对 Rust 的语法和一些核心概念有了初步理解。</p>
<h2 id="问题与挑战"><a href="#问题与挑战" class="headerlink" title="问题与挑战"></a>问题与挑战</h2><p>尽管 rustlings 帮助我打下了基础，但在尝试编写算法和更复杂的数据结构时，还是遇到了不少困难。例如，在实现动态规划、递归和一些复杂数据结构时，感觉自己对于 Rust 的所有权、生命周期、以及内存管理的理解不够深刻。这让我在面对更复杂的算法实现时，仍然感到束手无策。</p>
<h2 id="下一步计划"><a href="#下一步计划" class="headerlink" title="下一步计划"></a>下一步计划</h2><p>为了解决上述问题，我计划进一步提升自己的 Rust 算法编程能力。具体来说，我会在 LeetCode 等平台上使用 Rust 进行算法题目的练习，以巩固对语言特性的理解，并适应使用 Rust 实现高效的算法。通过逐步解决不同难度的算法问题，相信自己能更好地掌握 Rust 的特性和应用。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Rust 是一门极具潜力的系统级编程语言，其独特的内存安全机制和高性能特性值得深入学习。尽管当前在编写算法时遇到了一些困难，但相信通过不断的练习，尤其是在 LeetCode 上的算法刷题，我可以进一步提升自己在实际应用中使用 Rust 的能力。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E5%88%98%E6%A2%93%E9%99%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E5%88%98%E6%A2%93%E9%99%86/" class="post-title-link" itemprop="url">2024秋冬开源操作系统训练营第二阶段总结-刘梓陆</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 19:03:47" itemprop="dateCreated datePublished" datetime="2024-11-09T19:03:47+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-11-10 16:35:06" itemprop="dateModified" datetime="2024-11-10T16:35:06+00:00">2024-11-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><a href="#写在前面">写在前面</a></li>
<li><a href="#欢迎交流-">欢迎交流;-）</a></li>
<li><a href="#内存管理">内存管理</a></li>
<li><a href="#更加高级的内容">更加高级的内容</a></li>
</ul>
<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>我从稍微理解了我的专业之后就一直都很崇拜 Linus，这位堪称传奇的软件工程师在 1991 年 8 月 25 日——他 21 岁时就在网络上发布了 Linux 内核的源代码。现在是 2024 年 4 月 23 日，我也是 21 岁，追逐吗，梦想吗，我也想像他一样写出这样神奇的代码，33 年后的今天，我也要开始了，Linus。</p>
<h2 id="欢迎交流-）"><a href="#欢迎交流-）" class="headerlink" title="欢迎交流;-）"></a>欢迎交流;-）</h2><p>这次参加训练营，也算是二周目，对很多内容都已经轻车熟路。在上次的训练营之中，我并没有完成三阶段的学习，多少有当时实习没有时间进行分配和对更加复杂的操作系统内核架构没有大概了解的原因。</p>
<p>所以在实习结束之后的暑假，我也没有闲着，主要都在学习 Rust 之前没有接触过的内容还有理解 Linux 操作系统内核上了。成果大概就是把《Rust 程序设计第二版》这本书看完了，加上初探了一下 Rust 的异步框架、对 Linux 0.12 这个老版本的内核代码进行了一些阅读。</p>
<p>希望这次可以成功冲击第四阶段，加油！</p>
<ul>
<li>github ID: <a href="https://github.com/destinyFvcker" target="_blank" rel="noopener">destinyFvcker</a></li>
<li>邮箱：<a href="mailto:&#x64;&#101;&#115;&#116;&#105;&#x6e;&#121;&#x66;&#117;&#110;&#x6b;&#x40;&#49;&#x36;&#x33;&#x2e;&#x63;&#111;&#x6d;">&#x64;&#101;&#115;&#116;&#105;&#x6e;&#121;&#x66;&#117;&#110;&#x6b;&#x40;&#49;&#x36;&#x33;&#x2e;&#x63;&#111;&#x6d;</a></li>
<li>微信号：destinyfvcker</li>
</ul>
<h2 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h2><p>在二周目的学习之中，我重点学习了 rCore 内存模块关于内存管理的这部分内容，这部分内容在一周目里面可是给我吃了不少苦头，从 ch3 到 ch4 的难度跨度确实有些大，并且 ch4 之中的内容基本上就是后续内容的基石。这部分内容还是看得越懂越好，我越看越觉得当初这些人是怎么想出来这个方案来实现内存地址空间管理的，而且这还是没有实现页置换（顺带一提，这是 Linux 当年的大杀器）和<strong>cow</strong>。说实话这部分的内容 Linus 当年也是调试到吐。</p>
<p>从物理地址、虚拟地址和物理页号、虚拟页号的初级表示到页目录项、页表对内存的统一管理再到<code>MemoryArea</code>和<code>MemorySet</code>实现对一个进程的内存地址空间的高级表示，确实很精彩。</p>
<h2 id="更加高级的内容"><a href="#更加高级的内容" class="headerlink" title="更加高级的内容"></a>更加高级的内容</h2><p>后面的内容，包括文件系统、进程间通信和 I/O 重定向、和并发的复杂性实际上更上一层楼，所以 rcore 可以去繁从简，用几篇文档的篇幅就带我们对这些操作系统的重要抽象有一个大概的概念也实在不容易。就实验要完成的测例来说，感觉也是简化的副作用吧，有点“面向结果编程”的感觉，这个时候就要考验程序员对自己的要求了：只通过测例完全不够，还需要理解这部分的内容。</p>
<p>其实还想要写很多，但是“我有一个对这个命题的十分美妙的证明，这里空白太小，写不下。”，哈哈，期待第三阶段和 ArceOS 擦出的火花。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/2024-%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%99%88%E6%A0%A9%E6%B0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/2024-%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%99%88%E6%A0%A9%E6%B0%91/" class="post-title-link" itemprop="url">2024-秋冬季开源操作系统训练营第一二阶段总结-陈栩民</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 18:53:04" itemprop="dateCreated datePublished" datetime="2024-11-09T18:53:04+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-11-10 16:35:06" itemprop="dateModified" datetime="2024-11-10T16:35:06+00:00">2024-11-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024秋冬季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我是来自华中科技大学计算机科学与技术专业的一名本科生，课堂上做过类似的操作系统实验，但当时忙于其他事情，只是草草应付了事，所以想趁着这个机会，重新详细认识一下操作系统的基本逻辑，也学习一下rust这门语言。</p>
<h1 id="第一阶段"><a href="#第一阶段" class="headerlink" title="第一阶段"></a>第一阶段</h1><p>主要参考资料：<a href="https://course.rs/basic/intro.html" target="_blank" rel="noopener">https://course.rs/basic/intro.html</a></p>
<p>之前日常学习都是c和c++写得多，习惯了各种指针等非常自由的操作，遇到rust确实非常不适应，感觉编译器时时刻刻都要和我作对，我明明知道这么写没问题，但编译器就是不让。<br>但是随着我对于所有权、借用引用、生命周期这些核心概念的了解，慢慢我也体会到了rust这种“安全编程”带来的好处（后面写操作系统实验时，也比之前课堂上用c写bug少了很多）。<br>此外，“万物皆是模式匹配”的思想，也让整个编程风格看起来优雅了许多。</p>
<h1 id="第二阶段"><a href="#第二阶段" class="headerlink" title="第二阶段"></a>第二阶段</h1><h2 id="Lab-1"><a href="#Lab-1" class="headerlink" title="Lab 1"></a>Lab 1</h2><p>一开始接触这个系统，主要还是不太了解rust的rs文件之间是如何包含的，在引用一个外部模块时，实际上这个查询路径是怎样的。</p>
<p>如果是在c语言中，就是很自然地，只要有对应的PATH环境变量，根据对应的相对路径去include就可以了，但在rust里面，是通过各个目录下一个名为mod.rs的文件去形成一个文件树的，各种文件以什么程度可见，都由mod.rs控制。</p>
<p>具体见：<a href="https://skyao.io/learning-rust/docs/build/module/rust-module-system-explanation/" target="_blank" rel="noopener">https://skyao.io/learning-rust/docs/build/module/rust-module-system-explanation/</a></p>
<p>核心在于这句话：</p>
<p>当执行mod my_module;则编译器可以在同一目录下寻找到 my_module.rs 或 my_module/mod.rs 。</p>
<h2 id="Lab2"><a href="#Lab2" class="headerlink" title="Lab2"></a>Lab2</h2><p>在这个实验被一个小问题卡了很久。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> start: <span class="built_in">usize</span> = <span class="number">0x10000000</span>;</span><br><span class="line"><span class="keyword">let</span> len: <span class="built_in">usize</span> = <span class="number">4096</span>;</span><br><span class="line"><span class="keyword">let</span> prot: <span class="built_in">usize</span> = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">assert_eq!</span>(<span class="number">0</span>, mmap(start, len, prot));</span><br><span class="line"><span class="built_in">assert_eq!</span>(mmap(start + len, len * <span class="number">2</span>, prot), <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>上面的代码会在第二个mmap是触发如下错误：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pte = <span class="keyword">self</span>.page_table.find_pte(start);</span><br><span class="line"><span class="keyword">if</span> pte.is_some() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"conflict_vpn: &#123;:?&#125;"</span>, start);</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当时百思不得其解，自己造了一些其他测试，发现下面这样的操作居然不会报错：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> start: <span class="built_in">usize</span> = <span class="number">0x10000000</span>;</span><br><span class="line"><span class="keyword">let</span> len: <span class="built_in">usize</span> = <span class="number">4096</span>;</span><br><span class="line"><span class="keyword">let</span> prot: <span class="built_in">usize</span> = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">assert_eq!</span>(<span class="number">0</span>, mmap(start - len, len, prot));</span><br><span class="line"><span class="built_in">assert_eq!</span>(mmap(start, len * <span class="number">2</span>, prot), <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>这两个测试有什么区别，我仔细思考了一下虚拟地址转换为物理地址的过程，怎么使用多级页表一步步得到最终的物理页，结合这个如此“整数”的start，我发现了它们的区别很有可能在于，第二个测试，两个请求会处在不同的子页表中，而第一个测试则都在同一个子页表。因此，我终于开始详细看find_pte的流程，发现它是只要找到对应页表项就会返回，不会判断该页表项是否Valid。</p>
<p>那么此时，如果某个子页表已经分配，只是对应页表项不Valid，那么conflict的判断就会失误。</p>
<p>这个故事告诉我们：不要主观臆测一个函数的用途，在使用一个函数之前，一定要确切知道它的输入输出表示什么意思。</p>
<p>此外，也不应该使用find_pte函数，本来这个函数就不是pub的，有一个判断了是否Valid的封装好了的函数供使用。</p>
<h2 id="Lab3"><a href="#Lab3" class="headerlink" title="Lab3"></a>Lab3</h2><p>这个lab挺简单的，就看懂fork和exec的执行逻辑之后，找到那些二者都改了的数据，只执行exec的对应改动，减少无意义的赋值。</p>
<p>stride算法，我使用了一个溢出标记的方法来防止溢出，即计算某个进程的stride值加完之后溢出了，就把该进程标记一下，之后都不考虑调度它，直到所有进程都溢出了。其实这样徒增了很多计算量，问答作业中的方法其实才是比较好的解法:</p>
<p>思想大致如下，没实际运行过，可能有一些细节上的问题：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="built_in">PartialOrd</span> <span class="keyword">for</span> Stride &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">partial_cmp</span></span>(&amp;<span class="keyword">self</span>, other: &amp;<span class="keyword">Self</span>) -&gt; <span class="built_in">Option</span>&lt;Ordering&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> a = (<span class="keyword">self</span>.<span class="number">0</span> &amp; <span class="number">0xff</span>) <span class="keyword">as</span> <span class="built_in">u16</span>;</span><br><span class="line">        <span class="keyword">let</span> b = (other.<span class="number">0</span> &amp; <span class="number">0xff</span>) <span class="keyword">as</span> <span class="built_in">u16</span>;</span><br><span class="line">        <span class="keyword">if</span> (a &gt; b &amp;&amp; a &lt; b + <span class="number">255</span> / <span class="number">2</span>) || (a &lt; b &amp;&amp; a + <span class="number">255</span> / <span class="number">2</span>) &lt; b &#123;</span><br><span class="line">            <span class="literal">Some</span>(Ordering::Greater)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="literal">Some</span>(Ordering::Less)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Lab4"><a href="#Lab4" class="headerlink" title="Lab4"></a>Lab4</h2><p>这个实验做的时候遇到很多多重借用的错误，一个比较好的编程习惯是，在函数A调用一个函数B之前，先看看B里面有没有对什么进行了借用，如果有，注意先在调用之前把对应的借用drop掉。</p>
<h2 id="Lab5"><a href="#Lab5" class="headerlink" title="Lab5"></a>Lab5</h2><p>银行家算法，增减数据的时候记住，allocated + remian = all，有bug的时候就多看看这个规则有没有违背。以及记得在获得对应数据之后减need。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这些实验确实都聚焦在了操作系统中基本且核心的问题，而且架构也是循序渐进，让人能够慢慢了解虚拟化、进程线程、文件系统这些都是怎么一步步得来的，感觉受益匪浅。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/4/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/blog/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/51/">51</a><a class="extend next" rel="next" href="/blog/page/6/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">rcore-os Group</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/muse.js"></script>


<script src="/blog/js/next-boot.js"></script>


  















  

  

  

</body>
</html>
