<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/blog/lib/animate-css/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"rcore-os.github.io","root":"/blog/","scheme":"Muse","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="rcore-os Blog">
<meta property="og:url" content="http://rcore-os.github.io/blog/page/16/index.html">
<meta property="og:site_name" content="rcore-os Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="rcore-os Group">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://rcore-os.github.io/blog/page/16/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>rcore-os Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">rcore-os Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">rcore-os Group</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">618</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">45</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">559</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content index posts-expand">
          
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/10/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E6%80%BB%E7%BB%93-%E6%9D%8E%E6%AC%A3%E8%94%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/10/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E6%80%BB%E7%BB%93-%E6%9D%8E%E6%AC%A3%E8%94%93/" class="post-title-link" itemprop="url">2024年秋冬季开源操作系统训练营-Sylvia</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-10 00:39:53" itemprop="dateCreated datePublished" datetime="2024-11-10T00:39:53+00:00">2024-11-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-15 07:29:16" itemprop="dateModified" datetime="2025-05-15T07:29:16+00:00">2025-05-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="开篇想先说点废话"><a href="#开篇想先说点废话" class="headerlink" title="开篇想先说点废话"></a>开篇想先说点废话</h3><p>说实话真的挺感慨的，竟然真的顺利的做到了今天，竟然真的得到了500分。  </p>
<p>我是一个小城市长大的孩子，虽然有幸出生于学历较高的家庭，但毕竟环境、观念等受限，我并没有像大城市的孩子一样有机会从小开始学习计算机。准确的说，我连电脑也几乎没有碰过，因为我家的电脑是对我设了密码的，而我的妈妈也比较反对我使用电子产品。  </p>
<p>再加上年幼的我鼠目寸光，眼里只有考试成绩，小初高阶段我选择了在每一门不考试的科目，包括计算机课上，写物理数学作业。<br>2022年8月，我考入大学。因为性格等原因，我报的志愿全部都是工科专业。虽然我很恐惧计算机，认为自己的基础根本不配学，但作为工科专业里的热门专业，我仍然把它排在了志愿前列。  </p>
<p>很不巧，我刚好是计算机专业的分数线，但刚好未录取。我去了其他的工科专业。  </p>
<p>于是，我的大一，也依然保持着高中的习惯，电脑常年放在抽屉里，认为拿出来占地方。如果在学习那基本就是做数学物理题。  </p>
<p>变化发生于我转专业进入计算机大类。其实也许也不算吧，我是网安专业的，在很多学校可能也不算计算机。选择的原因呢，一个是我学校这个专业保研率真的很高，另一个是它看起来没有计科那么需要优秀的代码编写能力。我的必修课程有408四门，有编译原理等计算机常见课程，却连java和python都没有正经学过。不过那都不重要。  </p>
<p>转入计算机大类，我就顺理成章的进入了计算机大类的学生群。在和各种计算机类专业的优秀同学的相处中，我竟慢慢的发现我爱上了计算机。 </p>
<p>我开始尝试自学，并想要跨专业考研。选好目标院校后，我进入考研群了解相关消息，并在群里看到了训练营的信息。  </p>
<p>这就是我与训练营相遇的开端。  </p>
<p>当然，那不是2024秋冬季训练营。是春夏季训练营。  </p>
<h3 id="2024春夏季训练营，败给了自卑与拖延"><a href="#2024春夏季训练营，败给了自卑与拖延" class="headerlink" title="2024春夏季训练营，败给了自卑与拖延"></a>2024春夏季训练营，败给了自卑与拖延</h3><p>前面也提到了，我的计算机基础非常差，大二之前可以说是彻彻底底的零基础。大二刚转专业，又总抱着一种我大一学的c++比他们简单，又没学过好几门专业课的先修课，更加放纵着自己选择逃避。参加训练营时，又以自己年纪尚小、也没怎么学过（刚好是大二第二学期学，当时正在学）操作系统为由纵容自己拖延，直到时间不够为止。第一阶段内容不多，勉强完成。第二阶段，一题都没来得及做。<br>我的第一次挑战，就这样结束了。  </p>
<h3 id="2024秋冬季，我又来了"><a href="#2024秋冬季，我又来了" class="headerlink" title="2024秋冬季，我又来了"></a>2024秋冬季，我又来了</h3><p>明年要开始复习考研初试，不会再有时间。我知道，这是我的最后一次机会了。说实话我自身实力并没强多少，但是没有退路的我选择了尽最大可能试一试。这一次，我希望我也可以顺利做到四阶段结束。</p>
<h3 id="关于训练营本身，我的学习与解题过程"><a href="#关于训练营本身，我的学习与解题过程" class="headerlink" title="关于训练营本身，我的学习与解题过程"></a>关于训练营本身，我的学习与解题过程</h3><p>进入正题。</p>
<ul>
<li><p>第零章、ch1、ch2：<br>主要是下载了一些东西，对二阶段有了一点初步的了解，学习了git的分支是什么【终于意识到二阶段仓库不是只有一个.md文件】</p>
</li>
<li><p>ch3：<br>第一次在内核里写代码，说实话抵触心理强得可怕，依然是还没开始就开始暗示自己：我肯定写不出来的，我肯定看不懂的。<br>感谢我没有退路，硬着头皮也得写。历时三天，终于在一个周一的早晨顺利通过。我的代码应该是有很多冗余处的，但我依然很兴奋。因为这真的是我第一次纯靠自己动脑子想、去尝试、去不断地修改bug，写出来的代码。<br>以及第一次学会了git如何提交到一个分支上。</p>
</li>
<li><p>ch4：虚存！<br>可能也不一定是五个lab里最难的一个，但却是我记忆最深的一个。虚存是我上学期操作系统学的最差的地方，多级页表的题我几乎做一道错一道，我很恐惧这里。看书，尝试，发现自己还是不理解，又看书，又尝试…草稿纸足足用了小半本，一个垃圾桶都差点没塞下hh。开始时最不能理解的是sys_get_time和sys_task_info的改写，我一点也想不明白他们哪里使用了地址。研究了好几天才意识到：ti和ts就是指向虚拟地址的指针，所以要转换成物理地址才能保存信息。<br>以及，终于意识到最初提供的代码里传入的参数前加下划线是未被使用的意思，所以我不需要使用_ti等作为变量，我使用时可以直接删去下划线hhh  </p>
</li>
<li><p>ch5、ch6、ch8：<br>这几个因为本身纯底层理论的东西学的还行，逐渐也开始敢于尝试不妄自菲薄了，其实也没什么特别大的感悟。就是平均三天一章的边研读文档边尝试着写。<br>闭包函数很有意思！但是我还是有点没太摸透，还需要今后再深入学习。<br>ch6写sys_fstat时忘了虚存映射，一晚上都在报错time_out，睡前才突然意识到。以后写代码一定要更加注意细节。</p>
</li>
</ul>
<h3 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h3><p>真的非常非常非常感谢开源操作系统训练营能给我这么一次机会去参与学习一门新的语言以及内核相关知识。在这个过程中我不仅加深了对操作系统的理解，也逐渐培养起了自己解决问题，不轻言放弃的习惯。我第一次去将一个大的长期任务分隔成小任务，规划什么时候做完哪些，而不是全部拖延到截止日期再痛苦。也是第一次清晰的意识到：哇原来我也可以自己写出较长的代码！也很感谢群友们回答我的一个个过于基础导致对擅长计算机的人大概有点搞笑的问题。谢谢每一位训练营的创办者、负责人、讲师、助教、同学们。</p>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><p>补充后的内容为2024.11.11二次提交pr时增加。为向给负责拉取pr的老师带来麻烦致歉，以及感慨这段意想不到的小插曲，增加了这一小段。感谢训练营，春夏季训练营是我第一次使用github，秋冬季训练营是我第一次提交pr。我学到了很多关于git的知识，也因为开始频繁打开github，在github上见到了很多好的项目与知识。我一直很好奇git是怎么工作的，企业中团队不同成员又是如何通过git来合作的，都在训练营使用git的过程中得到了解答。我第一次知道github的不同分支，也第一次知道了提pr是什么样的一个流程。也是第一次知道，git add . 真的不能随意使用，会将自动修改而不应该被修改的文件也修改。git很有意思也很有用，希望我也能有一天真的和一群人一起合作开发一个项目。再次感谢训练营，感谢训练营的老师们！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/blog-for-yjymosheng/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/blog-for-yjymosheng/" class="post-title-link" itemprop="url">blog_for_yjymosheng  殷金钰</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 22:34:33" itemprop="dateCreated datePublished" datetime="2024-11-09T22:34:33+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-15 07:29:16" itemprop="dateModified" datetime="2025-05-15T07:29:16+00:00">2025-05-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="阶段一总结"><a href="#阶段一总结" class="headerlink" title="阶段一总结"></a>阶段一总结</h1><h2 id="初次认真学习rust每一个点"><a href="#初次认真学习rust每一个点" class="headerlink" title="初次认真学习rust每一个点"></a>初次认真学习rust每一个点</h2><p>通过某些渠道，第一次了解到操作系统训练营，以前我也有用rust写过一些内容，但严格来说这是我的第一次正式学习rust。学习了很多的内容，了解到了<br>闭包，函数式编程，拓展了我的知识面，我第一次见到结构如此清晰的语言。</p>
<h2 id="所有权的理解"><a href="#所有权的理解" class="headerlink" title="所有权的理解"></a>所有权的理解</h2><p>众所周知，rust很贪。所有权是其中的灵魂。我认为，其本质就是“作茧自缚”，减少了许多东西，又为方便开发与调试添加了许多东西。这些设计减少了许<br>多的错误。所以简单的把所有权当作单线程的脑子就行，不要给它过多的行为。</p>
<h2 id="错误处理中的Option-Result"><a href="#错误处理中的Option-Result" class="headerlink" title="错误处理中的Option Result"></a>错误处理中的Option Result</h2><ul>
<li><p>Option 用于表达可能存在或者不存在的值，它有两种可能的状态：Some(值) 和 None。当你不确定一个值是否存在时，可以使用 Option 来处理这种情<br>况。</p>
</li>
<li><p>Result 则用于表达可能的操作成功或失败的结果，它有两种可能的状态：Ok(值) 和 Err(错误)。当你需要处理可能出现错误的情况时，可以使用 Result 来处理这种情况。</p>
</li>
</ul>
<h2 id="令人耳目一新的枚举类型-match"><a href="#令人耳目一新的枚举类型-match" class="headerlink" title="令人耳目一新的枚举类型 match"></a>令人耳目一新的枚举类型 match</h2><p>在 Rust 中，枚举类型是一种非常强大的数据结构，它可以用来表达一组相关的值。而使用 match 关键字可以让我们更加灵活地处理枚举类型的值，使得<br>代码更加清晰易懂。</p>
<p>match 表达式可以用来匹配枚举类型的不同变体，并根据不同的情况执行相应的代码逻辑。这种模式匹配的方式让代码的逻辑结构清晰明了，同时也增强了<br>代码的可读性和可维护性。</p>
<h2 id="我的收获"><a href="#我的收获" class="headerlink" title="我的收获"></a>我的收获</h2><p>通过学习 Rust，我收获了很多。不仅仅是语言本身的特性和语法，更重要的是 Rust 给我带来的编程思维方式的转变。在学习 Rust 的过程中，我更加注<br>重代码的安全性和可靠性，学会了如何利用 Rust 的各种特性来编写更加健壮的程序。</p>
<p>另外，通过与社区的交流和分享，我还了解到了很多其他开发者的经验和见解，这也让我受益匪浅。总的来说，学习 Rust 是一次非常有意义的经历，我相<br>信在将来的工作和项目中，我会继续运用 Rust 的知识和思想，为我的编程生涯注入新的活力和动力。</p>
<h1 id="阶段二总结"><a href="#阶段二总结" class="headerlink" title="阶段二总结"></a>阶段二总结</h1><p>在rcore的实验课程中，最让我印象深刻的就是虚拟地址部分，由于之前接触的操作系统全部都是nommu类型，直接访问物理地址的概念非常不容易被打破，并且ch4也是一个门槛，需要非常深入的理解rcore的整体代码框架，对虚拟地址的映射，软硬件协同操作，多级页表，地址空间的概念理解了很久，在不断查找资料，不断理解的情况下，才对虚拟地址的概念有了很浅显的理解，把任务完成。</p>
<p>在完成任务的过程中，其实rcore的整体框架非常完善，作业的部分也就是一些扩展功能，整体还是对rcore的实现的理解，在完成任务时，也是对已有实现进行模仿，理解整体框架，之后调用已有函数或自己根据数据结构实现函数，实现功能。</p>
<p>以及最后两个lab难度上升有点大，并且文章 中是对功能的描述居多(很多对于实验有用的点会被淹没在其中)虽然在边做lab边反复查看资料时可以发现，但是对于没有接触过的同学可能很多api看过就没印象了，在后续做lab中也找不到，所以可以适当增加一下强调或者提示，来减少难度增加坡度。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/rcore-step12-lcr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/rcore-step12-lcr/" class="post-title-link" itemprop="url">rcore-step12-lcr</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 20:07:41" itemprop="dateCreated datePublished" datetime="2024-11-09T20:07:41+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-15 07:29:16" itemprop="dateModified" datetime="2025-05-15T07:29:16+00:00">2025-05-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>第一阶段：rustlings<br>1.去入门了一下rust，使用的是Rust语言圣经(Rust Course)<br>2.通过学习Rust语言圣经，了解了rust的基础语法，因为之前有过C++语言基础，所以学习较为容易<br>3.无GC，有强大的包管理工具，强大的安全性，以及独具特色的所有权机制<br>4.学习了rustlings的110道题目，虽然之后大多用不到就全忘记了，但是如果将来从事相关工作，很快就能重新捡起来<br>5.学习完成rustlings的110道题目之后就开始了之后的第二阶段学习</p>
<p>第二阶段：rCore-Tutorial<br>1.通过阅读rCore-Tutorial-Book学习到了很多关于操作系统的知识，之前也有过操作系统的学习，只不过都是理论上的，并没有相关实践上的学习，这也是我进入此训练营的原因，想通过训练营督促自己去学习到更多的关于操作系统的知识，以及拥有一个比较独特的项目，去助力就业<br>2.通过rCore的学习，完成了5个lab，可以说是学习比较辛苦的了，是rCore-Tutorial-Book和rCore-Camp-Guide-2024A两个教程同时跟进，学习完成rCore-Tutorial-Book之后就在相应章节的2024A中完成lab，<br>(1)在lab1中，我们的系统已经能够支持多个任务分时轮流运行，引入一个新的系统调用 sys_task_info 以获取当前任务的信息。<br>(2)在lab2中，在引入虚存之后重写内核的 sys_get_time 和 sys_task_info 函数，以及完成mmap 和 munmap 匿名映射两个系统调用函数。<br>(3)在lab3中，进程创建过程中，fork+execl两个函数高频率连续使用，感觉十分繁琐，我们引入一个spawn函数直接完成两个函数调用的结果，新建子进程，使其执行目标程序。还完成了stride 调度算法的实现，通过修改优先级，使步长不同，导致选取的优先级发生变化。<br>(4)在lab4中，引入硬链接的概念，让我们完成linkat和unlinkat和fstat三个系统调用，写这个的时候给我写破防了，当时看的代码抑郁了，但是其实没有那么难，很多代码其实和解决问题没有任何关联，这一个lab只能是非常难写，需要对源码有很深的理解，以及需要想到在文件存入fd_table的时候，想办法把文件名字也放入PCB中<br>(5)在lab5中，完成了死锁检测，这个我的完成过程也是比较抽象，写的时候很痛苦，一直往银行家算法上面想，后面发现need根本不知道啊，经过讨论之后才知道，原来只需要检测死锁就行，比较精妙的一点就是在lock阻塞或睡眠的过程中，就需要更新need数组，而且在死锁检测时候，需要让need+1而不是allocation，比较有意思吧。<br>3.其实完成了这个比较toy的玩具项目，感觉最后很多东西没有联系起来，如果要是最后把所有lab整合在一起，组合成一个可以展现自己从开始到现在的成果的话会更好一些，不过也是很感谢rCore这个教学，学到了很多操作系统的知识。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/rcore-debug-log/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/rcore-debug-log/" class="post-title-link" itemprop="url">rcore-debug-log</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 20:06:39" itemprop="dateCreated datePublished" datetime="2024-11-09T20:06:39+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-15 07:29:16" itemprop="dateModified" datetime="2025-05-15T07:29:16+00:00">2025-05-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-Stage"><a href="#1-Stage" class="headerlink" title="1 Stage"></a>1 Stage</h1><p>初次学习rust ，之前一直以c++作为主语言进行编程，大概了解了rust 的借用机制，而且对操作系统感兴趣，所以开始学习</p>
<p>在学习rust过程中，与c++相对比很多“不适应”</p>
<ol>
<li>变量的借用机制以及生命周期的声明让人很水土不服，还在深刻感受</li>
<li>基础stl库的文档过于繁杂了。</li>
<li>比 c++ 更原生支持的泛型编程，而且比c++模板可读性更高，debug也相对更容易一些</li>
<li>总体比 c++ 更约束，c++ 的自由带来的是各种错误和不安全性，rust在这一方面确实做得更加出色（听说性能也与c++相差不多）</li>
</ol>
<h1 id="2-Stage"><a href="#2-Stage" class="headerlink" title="2 Stage"></a>2 Stage</h1><h2 id="lab1"><a href="#lab1" class="headerlink" title="lab1"></a>lab1</h2><p>简单的系统调用实现，关键是了解了 os 最初的形状，见识到了如何使用汇编和高级语言一起实现应用，很酷</p>
<h2 id="lab2"><a href="#lab2" class="headerlink" title="lab2"></a>lab2</h2><p>rcore 路上的第一道门槛，如果lab1只能算花了我一小会的放松时间，那lab2就相当于一整天。</p>
<ol>
<li>先把lab1的实现在lab2中兼容（地址转换有点难受）。</li>
<li>而后专注于实现 mmap 与 munmap，在实现时，采用直接新建area的方式，删除则删除对应 start area</li>
<li>但遇到了问题，在校验vpn是否合法时，pte检验一直出现问题，最后在translate to ppn相关函数中做了自己理解的改动</li>
</ol>
<h2 id="lab3"><a href="#lab3" class="headerlink" title="lab3"></a>lab3</h2><p>实现角度看比较简单，但自己尝试了不同的stride位数 以及 bigstride，看到了很多很有意思的现象，包括一直不被调度，包括反转现象</p>
<h2 id="lab4"><a href="#lab4" class="headerlink" title="lab4"></a>lab4</h2><p>感觉关键在于硬链接统计方法，实现比较粗暴（实在没时间了。。），有时间可以考虑如何使用抽象的思维跳过 STDOUT STDIN</p>
<h2 id="lab5"><a href="#lab5" class="headerlink" title="lab5"></a>lab5</h2><p>考虑银行家算法 和 死锁检测的区别（🤔）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E5%88%98%E6%A2%93%E9%99%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E5%88%98%E6%A2%93%E9%99%86/" class="post-title-link" itemprop="url">2024秋冬开源操作系统训练营第一阶段总结-刘梓陆</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 19:05:54" itemprop="dateCreated datePublished" datetime="2024-11-09T19:05:54+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-15 07:29:16" itemprop="dateModified" datetime="2025-05-15T07:29:16+00:00">2025-05-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><a href="#写在前面">写在前面</a></li>
<li><a href="#欢迎交流-">欢迎交流;-）</a></li>
<li><a href="#背景">背景</a></li>
<li><a href="#问题与挑战">问题与挑战</a></li>
<li><a href="#下一步计划">下一步计划</a></li>
<li><a href="#总结">总结</a></li>
</ul>
<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>我从稍微理解了我的专业之后就一直都很崇拜 Linus，这位堪称传奇的软件工程师在 1991 年 8 月 25 日——他 21 岁时就在网络上发布了 Linux 内核的源代码。现在是 2024 年 4 月 23 日，我也是 21 岁，追逐吗，梦想吗，我也想像他一样写出这样神奇的代码，33 年后的今天，我也要开始了，Linus。</p>
<h2 id="欢迎交流-）"><a href="#欢迎交流-）" class="headerlink" title="欢迎交流;-）"></a>欢迎交流;-）</h2><p>这次参加训练营，也算是二周目，对很多内容都已经轻车熟路。在上次的训练营之中，我并没有完成三阶段的学习，多少有当时实习没有时间进行分配和对更加复杂的操作系统内核架构没有大概了解的原因。</p>
<p>所以在实习结束之后的暑假，我也没有闲着，主要都在学习 Rust 之前没有接触过的内容还有理解 Linux 操作系统内核上了。成果大概就是把《Rust 程序设计第二版》这本书看完了，加上初探了一下 Rust 的异步框架、对 Linux 0.12 这个老版本的内核代码进行了一些阅读。</p>
<p>希望这次可以成功冲击第四阶段，加油！</p>
<ul>
<li>github ID: <a href="https://github.com/destinyFvcker" target="_blank" rel="noopener">destinyFvcker</a></li>
<li>邮箱：<a href="mailto:&#100;&#x65;&#115;&#x74;&#x69;&#110;&#121;&#x66;&#x75;&#x6e;&#107;&#x40;&#x31;&#54;&#x33;&#x2e;&#99;&#x6f;&#x6d;">&#100;&#x65;&#115;&#x74;&#x69;&#110;&#121;&#x66;&#x75;&#x6e;&#107;&#x40;&#x31;&#54;&#x33;&#x2e;&#99;&#x6f;&#x6d;</a></li>
<li>微信号：destinyfvcker</li>
</ul>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>在过去的一年时间里，我开始学习 Rust 语言，并完成了 Rust 官方的 rustlings 练习题。这些练习题主要帮助我熟悉了 Rust 的基本语法和特性，如所有权、借用、模式匹配等。通过这些基础知识的积累，我对 Rust 的语法和一些核心概念有了初步理解。</p>
<h2 id="问题与挑战"><a href="#问题与挑战" class="headerlink" title="问题与挑战"></a>问题与挑战</h2><p>尽管 rustlings 帮助我打下了基础，但在尝试编写算法和更复杂的数据结构时，还是遇到了不少困难。例如，在实现动态规划、递归和一些复杂数据结构时，感觉自己对于 Rust 的所有权、生命周期、以及内存管理的理解不够深刻。这让我在面对更复杂的算法实现时，仍然感到束手无策。</p>
<h2 id="下一步计划"><a href="#下一步计划" class="headerlink" title="下一步计划"></a>下一步计划</h2><p>为了解决上述问题，我计划进一步提升自己的 Rust 算法编程能力。具体来说，我会在 LeetCode 等平台上使用 Rust 进行算法题目的练习，以巩固对语言特性的理解，并适应使用 Rust 实现高效的算法。通过逐步解决不同难度的算法问题，相信自己能更好地掌握 Rust 的特性和应用。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Rust 是一门极具潜力的系统级编程语言，其独特的内存安全机制和高性能特性值得深入学习。尽管当前在编写算法时遇到了一些困难，但相信通过不断的练习，尤其是在 LeetCode 上的算法刷题，我可以进一步提升自己在实际应用中使用 Rust 的能力。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E5%88%98%E6%A2%93%E9%99%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E5%88%98%E6%A2%93%E9%99%86/" class="post-title-link" itemprop="url">2024秋冬开源操作系统训练营第二阶段总结-刘梓陆</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 19:03:47" itemprop="dateCreated datePublished" datetime="2024-11-09T19:03:47+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-15 07:29:16" itemprop="dateModified" datetime="2025-05-15T07:29:16+00:00">2025-05-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><a href="#写在前面">写在前面</a></li>
<li><a href="#欢迎交流-">欢迎交流;-）</a></li>
<li><a href="#内存管理">内存管理</a></li>
<li><a href="#更加高级的内容">更加高级的内容</a></li>
</ul>
<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>我从稍微理解了我的专业之后就一直都很崇拜 Linus，这位堪称传奇的软件工程师在 1991 年 8 月 25 日——他 21 岁时就在网络上发布了 Linux 内核的源代码。现在是 2024 年 4 月 23 日，我也是 21 岁，追逐吗，梦想吗，我也想像他一样写出这样神奇的代码，33 年后的今天，我也要开始了，Linus。</p>
<h2 id="欢迎交流-）"><a href="#欢迎交流-）" class="headerlink" title="欢迎交流;-）"></a>欢迎交流;-）</h2><p>这次参加训练营，也算是二周目，对很多内容都已经轻车熟路。在上次的训练营之中，我并没有完成三阶段的学习，多少有当时实习没有时间进行分配和对更加复杂的操作系统内核架构没有大概了解的原因。</p>
<p>所以在实习结束之后的暑假，我也没有闲着，主要都在学习 Rust 之前没有接触过的内容还有理解 Linux 操作系统内核上了。成果大概就是把《Rust 程序设计第二版》这本书看完了，加上初探了一下 Rust 的异步框架、对 Linux 0.12 这个老版本的内核代码进行了一些阅读。</p>
<p>希望这次可以成功冲击第四阶段，加油！</p>
<ul>
<li>github ID: <a href="https://github.com/destinyFvcker" target="_blank" rel="noopener">destinyFvcker</a></li>
<li>邮箱：<a href="mailto:&#100;&#x65;&#115;&#116;&#x69;&#110;&#121;&#x66;&#x75;&#110;&#107;&#64;&#49;&#54;&#51;&#x2e;&#x63;&#x6f;&#x6d;">&#100;&#x65;&#115;&#116;&#x69;&#110;&#121;&#x66;&#x75;&#110;&#107;&#64;&#49;&#54;&#51;&#x2e;&#x63;&#x6f;&#x6d;</a></li>
<li>微信号：destinyfvcker</li>
</ul>
<h2 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h2><p>在二周目的学习之中，我重点学习了 rCore 内存模块关于内存管理的这部分内容，这部分内容在一周目里面可是给我吃了不少苦头，从 ch3 到 ch4 的难度跨度确实有些大，并且 ch4 之中的内容基本上就是后续内容的基石。这部分内容还是看得越懂越好，我越看越觉得当初这些人是怎么想出来这个方案来实现内存地址空间管理的，而且这还是没有实现页置换（顺带一提，这是 Linux 当年的大杀器）和<strong>cow</strong>。说实话这部分的内容 Linus 当年也是调试到吐。</p>
<p>从物理地址、虚拟地址和物理页号、虚拟页号的初级表示到页目录项、页表对内存的统一管理再到<code>MemoryArea</code>和<code>MemorySet</code>实现对一个进程的内存地址空间的高级表示，确实很精彩。</p>
<h2 id="更加高级的内容"><a href="#更加高级的内容" class="headerlink" title="更加高级的内容"></a>更加高级的内容</h2><p>后面的内容，包括文件系统、进程间通信和 I/O 重定向、和并发的复杂性实际上更上一层楼，所以 rcore 可以去繁从简，用几篇文档的篇幅就带我们对这些操作系统的重要抽象有一个大概的概念也实在不容易。就实验要完成的测例来说，感觉也是简化的副作用吧，有点“面向结果编程”的感觉，这个时候就要考验程序员对自己的要求了：只通过测例完全不够，还需要理解这部分的内容。</p>
<p>其实还想要写很多，但是“我有一个对这个命题的十分美妙的证明，这里空白太小，写不下。”，哈哈，期待第三阶段和 ArceOS 擦出的火花。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/2024-%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%99%88%E6%A0%A9%E6%B0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/2024-%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%99%88%E6%A0%A9%E6%B0%91/" class="post-title-link" itemprop="url">2024-秋冬季开源操作系统训练营第一二阶段总结-陈栩民</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 18:53:04" itemprop="dateCreated datePublished" datetime="2024-11-09T18:53:04+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-15 07:29:16" itemprop="dateModified" datetime="2025-05-15T07:29:16+00:00">2025-05-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024秋冬季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我是来自华中科技大学计算机科学与技术专业的一名本科生，课堂上做过类似的操作系统实验，但当时忙于其他事情，只是草草应付了事，所以想趁着这个机会，重新详细认识一下操作系统的基本逻辑，也学习一下rust这门语言。</p>
<h1 id="第一阶段"><a href="#第一阶段" class="headerlink" title="第一阶段"></a>第一阶段</h1><p>主要参考资料：<a href="https://course.rs/basic/intro.html" target="_blank" rel="noopener">https://course.rs/basic/intro.html</a></p>
<p>之前日常学习都是c和c++写得多，习惯了各种指针等非常自由的操作，遇到rust确实非常不适应，感觉编译器时时刻刻都要和我作对，我明明知道这么写没问题，但编译器就是不让。<br>但是随着我对于所有权、借用引用、生命周期这些核心概念的了解，慢慢我也体会到了rust这种“安全编程”带来的好处（后面写操作系统实验时，也比之前课堂上用c写bug少了很多）。<br>此外，“万物皆是模式匹配”的思想，也让整个编程风格看起来优雅了许多。</p>
<h1 id="第二阶段"><a href="#第二阶段" class="headerlink" title="第二阶段"></a>第二阶段</h1><h2 id="Lab-1"><a href="#Lab-1" class="headerlink" title="Lab 1"></a>Lab 1</h2><p>一开始接触这个系统，主要还是不太了解rust的rs文件之间是如何包含的，在引用一个外部模块时，实际上这个查询路径是怎样的。</p>
<p>如果是在c语言中，就是很自然地，只要有对应的PATH环境变量，根据对应的相对路径去include就可以了，但在rust里面，是通过各个目录下一个名为mod.rs的文件去形成一个文件树的，各种文件以什么程度可见，都由mod.rs控制。</p>
<p>具体见：<a href="https://skyao.io/learning-rust/docs/build/module/rust-module-system-explanation/" target="_blank" rel="noopener">https://skyao.io/learning-rust/docs/build/module/rust-module-system-explanation/</a></p>
<p>核心在于这句话：</p>
<p>当执行mod my_module;则编译器可以在同一目录下寻找到 my_module.rs 或 my_module/mod.rs 。</p>
<h2 id="Lab2"><a href="#Lab2" class="headerlink" title="Lab2"></a>Lab2</h2><p>在这个实验被一个小问题卡了很久。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> start: <span class="built_in">usize</span> = <span class="number">0x10000000</span>;</span><br><span class="line"><span class="keyword">let</span> len: <span class="built_in">usize</span> = <span class="number">4096</span>;</span><br><span class="line"><span class="keyword">let</span> prot: <span class="built_in">usize</span> = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">assert_eq!</span>(<span class="number">0</span>, mmap(start, len, prot));</span><br><span class="line"><span class="built_in">assert_eq!</span>(mmap(start + len, len * <span class="number">2</span>, prot), <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>上面的代码会在第二个mmap是触发如下错误：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pte = <span class="keyword">self</span>.page_table.find_pte(start);</span><br><span class="line"><span class="keyword">if</span> pte.is_some() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"conflict_vpn: &#123;:?&#125;"</span>, start);</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当时百思不得其解，自己造了一些其他测试，发现下面这样的操作居然不会报错：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> start: <span class="built_in">usize</span> = <span class="number">0x10000000</span>;</span><br><span class="line"><span class="keyword">let</span> len: <span class="built_in">usize</span> = <span class="number">4096</span>;</span><br><span class="line"><span class="keyword">let</span> prot: <span class="built_in">usize</span> = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">assert_eq!</span>(<span class="number">0</span>, mmap(start - len, len, prot));</span><br><span class="line"><span class="built_in">assert_eq!</span>(mmap(start, len * <span class="number">2</span>, prot), <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>这两个测试有什么区别，我仔细思考了一下虚拟地址转换为物理地址的过程，怎么使用多级页表一步步得到最终的物理页，结合这个如此“整数”的start，我发现了它们的区别很有可能在于，第二个测试，两个请求会处在不同的子页表中，而第一个测试则都在同一个子页表。因此，我终于开始详细看find_pte的流程，发现它是只要找到对应页表项就会返回，不会判断该页表项是否Valid。</p>
<p>那么此时，如果某个子页表已经分配，只是对应页表项不Valid，那么conflict的判断就会失误。</p>
<p>这个故事告诉我们：不要主观臆测一个函数的用途，在使用一个函数之前，一定要确切知道它的输入输出表示什么意思。</p>
<p>此外，也不应该使用find_pte函数，本来这个函数就不是pub的，有一个判断了是否Valid的封装好了的函数供使用。</p>
<h2 id="Lab3"><a href="#Lab3" class="headerlink" title="Lab3"></a>Lab3</h2><p>这个lab挺简单的，就看懂fork和exec的执行逻辑之后，找到那些二者都改了的数据，只执行exec的对应改动，减少无意义的赋值。</p>
<p>stride算法，我使用了一个溢出标记的方法来防止溢出，即计算某个进程的stride值加完之后溢出了，就把该进程标记一下，之后都不考虑调度它，直到所有进程都溢出了。其实这样徒增了很多计算量，问答作业中的方法其实才是比较好的解法:</p>
<p>思想大致如下，没实际运行过，可能有一些细节上的问题：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="built_in">PartialOrd</span> <span class="keyword">for</span> Stride &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">partial_cmp</span></span>(&amp;<span class="keyword">self</span>, other: &amp;<span class="keyword">Self</span>) -&gt; <span class="built_in">Option</span>&lt;Ordering&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> a = (<span class="keyword">self</span>.<span class="number">0</span> &amp; <span class="number">0xff</span>) <span class="keyword">as</span> <span class="built_in">u16</span>;</span><br><span class="line">        <span class="keyword">let</span> b = (other.<span class="number">0</span> &amp; <span class="number">0xff</span>) <span class="keyword">as</span> <span class="built_in">u16</span>;</span><br><span class="line">        <span class="keyword">if</span> (a &gt; b &amp;&amp; a &lt; b + <span class="number">255</span> / <span class="number">2</span>) || (a &lt; b &amp;&amp; a + <span class="number">255</span> / <span class="number">2</span>) &lt; b &#123;</span><br><span class="line">            <span class="literal">Some</span>(Ordering::Greater)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="literal">Some</span>(Ordering::Less)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Lab4"><a href="#Lab4" class="headerlink" title="Lab4"></a>Lab4</h2><p>这个实验做的时候遇到很多多重借用的错误，一个比较好的编程习惯是，在函数A调用一个函数B之前，先看看B里面有没有对什么进行了借用，如果有，注意先在调用之前把对应的借用drop掉。</p>
<h2 id="Lab5"><a href="#Lab5" class="headerlink" title="Lab5"></a>Lab5</h2><p>银行家算法，增减数据的时候记住，allocated + remian = all，有bug的时候就多看看这个规则有没有违背。以及记得在获得对应数据之后减need。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这些实验确实都聚焦在了操作系统中基本且核心的问题，而且架构也是循序渐进，让人能够慢慢了解虚拟化、进程线程、文件系统这些都是怎么一步步得来的，感觉受益匪浅。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-Artoria/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/2024%E7%A7%8B%E5%86%AC%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-Artoria/" class="post-title-link" itemprop="url">2024秋冬开源操作系统训练营第一二阶段总结-Artoria</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 18:30:37" itemprop="dateCreated datePublished" datetime="2024-11-09T18:30:37+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-15 07:29:16" itemprop="dateModified" datetime="2025-05-15T07:29:16+00:00">2025-05-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="第一阶段"><a href="#第一阶段" class="headerlink" title="第一阶段"></a>第一阶段</h2><p>工作中已经写了一年多的Rust代码，体验确实不错，特别是完善的包管理工具，大大减少了编译时的心智消耗，所有权和借用系统并没有很复杂，写一阵代码自然就熟悉了</p>
<p>第一阶段算是再巩固下基础，数据结构题比较有意思，不过深入学习还是要抽空看看<a href="https://rust-unofficial.github.io/too-many-lists/" target="_blank" rel="noopener">链表</a></p>
<h2 id="第二阶段"><a href="#第二阶段" class="headerlink" title="第二阶段"></a>第二阶段</h2><p>对操作系统很感兴趣，尤其是第三阶段的虚拟化方向。由于平时工作比较忙，也就晚上和周末抽时间抓紧写写代码，下边主要总结下各个章节产生的疑问和实验遇到的问题吧</p>
<h3 id="lab1-ch2-ch3"><a href="#lab1-ch2-ch3" class="headerlink" title="lab1(ch2,ch3)"></a>lab1(ch2,ch3)</h3><p>主要熟悉了应用加载，中断，用户栈/内核栈切换，任务切换的机制，再是学习了下<code>risc-v</code>寄存器以及汇编方面的知识，受益匪浅</p>
<p>实验比较简单，主要熟悉下<code>syscall</code>的开发流程</p>
<h3 id="lab2-ch4"><a href="#lab2-ch4" class="headerlink" title="lab2(ch4)"></a>lab2(ch4)</h3><p>本章新增了地址空间，内核和应用通过页表机制把虚拟内存映射到实际的物理内存，虚拟内存使得不同应用都可以使用连续独立的地址空间，并做到了不同应用之间的隔离</p>
<p><code>strampoline</code>段用于保存陷入内核和返回用户态的代码，并通过把内核和应用的<code>strampoline</code>设置成相同地址的虚拟页（最高页），使得切换地址空间之后，这段代码地址可以无缝衔接</p>
<p><code>TrapContext</code>紧贴着<code>strampoline</code>位于应用的次高页（看起来没必要一定要在次高页）。<code>TrapContext</code>用于保存上下文切换时的寄存器以及<code>kernel satp</code>和<code>kernel sp</code>等。<code>TrapContext</code>位于用于应用地址空间是因为，切换上下文时只有一个<code>sscratch</code>寄存器可以用于周转，而如果<code>TrapContext</code>位于内核栈（内核栈不是恒等映射），那就只需要先通过<code>sscratch</code>得到<code>kernel satp</code>切换到内核地址空间之后才能访问<code>TrapContext</code>，这时就没有额外寄存器获得<code>kernel sp</code>也就拿不到<code>TrapContext</code>地址。如果位于应用地址空间，就可以通过<code>sscratch</code>寄存器保存<code>TrapContext</code>地址，在陷入内核后，先在应用地址空间保存好上下文之后，再切换到内核地址空间</p>
<p>实验需要注意的点：</p>
<ul>
<li><p>mmap页面要4k对齐，空间左闭右开</p>
</li>
<li><p>syscall复制结构体时，需要通过<code>translated_byte_buffer</code>拿到用户态结构体对应的物理地址（这部分内存在内核是恒等映射的，可以正确写入），再复制</p>
</li>
</ul>
<h3 id="lab3-ch5-ch7"><a href="#lab3-ch5-ch7" class="headerlink" title="lab3(ch5,ch7)"></a>lab3(ch5,ch7)</h3><p>这两章主要讲了进程和进程通信，是概念相对简单的章节，难点主要在于调度算法</p>
<p>实验是实现spawn，总体来说是new+fork，不复制地址空间，但继承父子关系</p>
<h3 id="lab4-ch6"><a href="#lab4-ch6" class="headerlink" title="lab4(ch6)"></a>lab4(ch6)</h3><p>本章学习了文件系统，代码中数据结构依赖关系相对复杂，画图梳理下比较方便理解</p>
<p>实验中<code>nlink</code>需要要保存在<code>DiskInode</code>中，同时减少<code>INODE_DIRECT_COUNT</code>保证<code>DiskInode</code>只占用<code>128bytes</code></p>
<p>这里我把<code>file_count</code>也存下了，方便<code>unlink</code>时候，直接把最后一个<code>DirEntry</code>替换到被删除的<code>Entry</code>位置。其次可以用<code>union</code>保存<code>nlink</code>和<code>file_count</code>来节省空间，毕竟文件没有<code>file_count</code>，目录不允许有<code>link</code>，这里偷懒了</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> INODE_DIRECT_COUNT: <span class="built_in">usize</span> = <span class="number">26</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[repr(C)]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">struct</span> <span class="title">DiskInode</span></span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> size: <span class="built_in">u32</span>,</span><br><span class="line">    <span class="keyword">pub</span> nlink: <span class="built_in">u32</span>,</span><br><span class="line">    <span class="keyword">pub</span> file_count: <span class="built_in">u32</span>,</span><br><span class="line">    <span class="keyword">pub</span> direct: [<span class="built_in">u32</span>; INODE_DIRECT_COUNT],</span><br><span class="line">    <span class="keyword">pub</span> indirect1: <span class="built_in">u32</span>,</span><br><span class="line">    <span class="keyword">pub</span> indirect2: <span class="built_in">u32</span>,</span><br><span class="line">    type_: DiskInodeType,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一定要注意锁不能重入，在开发<code>unlinkat</code>时，因为调用其他也加文件锁的函数导致了死锁，被卡了有一阵</p>
<h3 id="lab5-ch8"><a href="#lab5-ch8" class="headerlink" title="lab5(ch8)"></a>lab5(ch8)</h3><p>本章主要讲了内核中线程和锁的实现机制</p>
<p>下面有几个注意点</p>
<ul>
<li><p>调用<code>schedule</code>切换线程前一定要手动<code>drop</code>资源，否则会造成资源泄露或<code>panic</code></p>
</li>
<li><p><code>exit_current_and_run_next</code>在调用<code>schedule</code>之前分配了<code>TaskContext::zero_init()</code>作为dummy TaskContext，开始还想着这个线程不会再恢复了，那这个栈空间在后边是如何保证地址合法并最终回收的，而这就是<code>sys_waittid</code>存在价值之一</p>
</li>
<li><p>代码中的<code>PROCESSOR</code>并不是<code>thread_local</code>的，但有很多<code>exclusive_access</code>的调用，可能教学用的rCore并不存在多个cpu，这里暂时不需要考虑这个问题</p>
</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">lazy_static! &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">static</span> <span class="keyword">ref</span> PROCESSOR: UPSafeCell&lt;Processor&gt; = <span class="keyword">unsafe</span> &#123; UPSafeCell::new(Processor::new()) &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">current_task</span></span>() -&gt; <span class="built_in">Option</span>&lt;Arc&lt;TaskControlBlock&gt;&gt; &#123;</span><br><span class="line">    PROCESSOR.exclusive_access().current()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实验是死算检测，并不复杂，按着文档来就好</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/2024%E5%B9%B4%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E3%80%81%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-sts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/2024%E5%B9%B4%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E3%80%81%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-sts/" class="post-title-link" itemprop="url">2024年秋冬季开源操作系统训练营第一、二阶段总结报告-sts</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 17:23:14" itemprop="dateCreated datePublished" datetime="2024-11-09T17:23:14+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-15 07:29:16" itemprop="dateModified" datetime="2025-05-15T07:29:16+00:00">2025-05-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="2024年秋冬季开源操作系统训练营第一、二阶段总结报告"><a href="#2024年秋冬季开源操作系统训练营第一、二阶段总结报告" class="headerlink" title="2024年秋冬季开源操作系统训练营第一、二阶段总结报告"></a>2024年秋冬季开源操作系统训练营第一、二阶段总结报告</h1><p>我个人的话原本这段时间的计划是重新深入学习一下 RUST 语言，通过 RUST 圣经找到的 RUST 官方社区的 QQ 群。刚好在群里看到群友的开源操作系统的邀请，其实时间上对我来说刚刚好，主要原因在于明年暑假可能该找实习了，否则可能不太好找工作。我本人也想通过这个开源来完善自己在开源项目的 PR 上的缺陷，所以，刚刚好，那就坚持到最后吧。</p>
<p>机会总是有的，抓住了还得坚持到底。嗯，就这样。</p>
<h3 id="第一阶段总结"><a href="#第一阶段总结" class="headerlink" title="第一阶段总结"></a>第一阶段总结</h3><p>第一阶段怎么说呢，嗯，不太好总结，之前因为一些机缘巧合看过 RUST 官方社区的教材，所以只有简单了解，也写过教材里的demo。所以，总体上来说，对我难度不大。嗯，也是在一阶段前截止前三天吧开始的，后面每天完成一点。大概这样。对我来说的话 RUST 实现链表那边是真的很难，但是只完成 task 倒还好。</p>
<h3 id="第二阶段总结"><a href="#第二阶段总结" class="headerlink" title="第二阶段总结"></a>第二阶段总结</h3><p>二阶段的话，分不同的章节吧，收获不同。</p>
<p>第三章实验内容的话是taskinfo系统调用的支持。其实实现这个系统调用不难，这边主要的收获是对程序链接有了更深的了解。在linker链接器脚本中指定的符号可以被OS中以外部符号的形式使用，嗯，链接的作用应该是了解更深了。其次，了解更深的地方在于任务切换，一个任务从elf到一个进程，如何构造，如何执行，如何调度，如何进入User模式执行这样，包括一些寄存器SStatus，SEPC，Stvec等等。</p>
<p>第四章的话，mmap和munmap这两个的实现上也没问题。主要收获其实是在于跳板实现的一些细节，最后跳转trap_handler的时候使用jr指令主要原因在于linker脚本链接出来的地址差值和真正跳板代码的虚拟地址位置还有很大差别。所以，不能这么搞，差值还要加上和跳板的距离。</p>
<p>在进程管理里，先前的任务结构体被重新修改为了进程。并且要实现的系统调用也与进程的产生有关系。此外，对stride算法也有了一定的了解。本质上还是进程里添加了一个字段，然后在每次执行进程时都重新处理一次prio字段并更新记录，以决定下一次执行的进程。</p>
<p>进程管理的主要收获在于，task和进程切换的差别。他们差别很大，进程切换要切所有的通用寄存器等等。任务切换切pc，切栈，切被调用者保存寄存器这样，因为调用者保存寄存器在调用schedule的时候已经保存了。然而切换的时候还有被调用者保存寄存器还没保存好。嗯，就是这样。</p>
<p>这里，有个问题就是使用usize的MAX作为大整数，没想到后面会反复调度任务0，后面debug之后才知道要取余这样。</p>
<p>并发的话，就真的太折磨了，银行家算法真的难搞。最后没过测例的原因居然是没实现sys_get_time。太TM离谱了，以后一定好好看任务手册。</p>
<h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><p>如果这次没坚持到后面的话，可能后面就真的没机会了。学业上有科研要求，还想去实习，嗯，对我的规划来说，可能到毕业之前没有再来一次的机会了。</p>
<p>一定坚持到最后。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/11/09/blog_daxiami233/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/11/09/blog_daxiami233/" class="post-title-link" itemprop="url"><blog-daxiami233></a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-09 14:35:00" itemprop="dateCreated datePublished" datetime="2024-11-09T14:35:00+00:00">2024-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-15 07:29:16" itemprop="dateModified" datetime="2025-05-15T07:29:16+00:00">2025-05-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/catogory/" itemprop="url" rel="index"><span itemprop="name"><catogory></span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Rust学习感悟"><a href="#Rust学习感悟" class="headerlink" title="Rust学习感悟"></a>Rust学习感悟</h2><p>学习Rust语言可以是一个既挑战又充满成就感的过程。以下是一些常见的学习Rust的感悟：</p>
<ol>
<li><strong>安全性</strong>：Rust的设计哲学之一是内存安全，它通过所有权、借用和生命周期的概念来保证。学习这些概念可能会有些复杂，但一旦理解，它们会极大地减少内存错误，比如空指针解引用和数据竞争。</li>
<li><strong>性能</strong>：Rust提供了与C/C++相媲美的性能，因为它允许直接的内存操作和避免运行时垃圾回收。理解这一点可以激励你更深入地学习如何编写高效的代码。</li>
<li><strong>并发编程</strong>：Rust的类型系统和所有权模型使得编写无数据竞争的并发代码变得容易。这种安全性在其他语言中通常是通过运行时检查实现的，这可能会影响性能。</li>
<li><strong>编译时检查</strong>：Rust的编译器非常严格，它会在编译时捕获许多潜在的错误。这可能会让初学者感到挫败，但长远来看，它有助于提高代码质量和减少运行时错误。</li>
<li><strong>学习曲线</strong>：Rust有一个陡峭的学习曲线，特别是对于那些习惯于垃圾回收和动态类型语言的开发者。然而，一旦习惯了Rust的思维方式，你会发现它提供了一种更清晰、更可控的编程方式。</li>
<li><strong>社区和文档</strong>：Rust社区以其友好和乐于助人而闻名，官方文档也非常全面和易于理解。这些都是学习新语言时的重要支持。</li>
<li><strong>工具链</strong>：Rust有一个强大的包管理器Cargo，它简化了依赖管理和构建过程。学习如何使用Cargo可以提高开发效率。</li>
<li><strong>所有权和借用</strong>：这是Rust中最具挑战性的概念之一，但也是其核心特性。理解所有权如何工作，以及如何通过借用和生命周期来管理资源，是掌握Rust的关键。</li>
<li><strong>错误处理</strong>：Rust使用<code>Result</code>和<code>Option</code>类型来处理可能失败的操作，这鼓励开发者在代码中显式地处理错误情况，而不是依赖于异常。</li>
<li><strong>泛型和trait</strong>：Rust的泛型和trait提供了强大的抽象能力，允许编写灵活且可重用的代码。</li>
<li><strong>宏系统</strong>：Rust的宏系统非常强大，允许在编译时执行复杂的代码生成。这为元编程提供了强大的工具，但同时也增加了学习的复杂性。</li>
<li><strong>生态系统</strong>：随着Rust生态系统的成熟，越来越多的库和工具被开发出来，这使得Rust在各种领域，如Web开发、系统编程、嵌入式开发等，都变得更加实用。</li>
</ol>
<p>学习Rust是一个不断进步的过程，随着经验的积累，你会发现自己对语言的掌握越来越深入，同时也能够欣赏到Rust在系统编程领域所带来的独特优势。</p>
<h2 id="rCore学习感想"><a href="#rCore学习感想" class="headerlink" title="rCore学习感想"></a>rCore学习感想</h2><p>学习是一个不断探索和发现的过程，它不仅涉及到知识的积累，还包括技能的提升和思维的拓展。最近，我深入学习了 Rust 语言和 rCore 操作系统，这段经历让我对编程和计算机科学有了更深刻的理解。Rust 语言的安全性和性能给我留下了深刻的印象。通过学习 Rust，我学会了如何利用所有权、借用和生命周期这些核心特性来编写既安全又高效的代码。这些概念在一开始可能会让人感到困惑，但随着实践的深入，我开始欣赏它们在防止内存错误和提高代码质量方面的强大能力。rCore 项目让我有机会将 Rust 的理论应用到实际的操作系统开发中。这个过程不仅加深了我对 Rust 语言的理解，还让我对操作系统的工作原理有了更直观的认识。从内存管理到进程调度，每一个组件的实现都是对 Rust 能力的一次考验，也是对我解决问题能力的一次提升。学习过程中遇到的挑战也促使我不断寻找解决方案，这不仅锻炼了我的问题解决能力，也增强了我的自学能力。每当我解决一个难题，那种成就感都是无与伦比的。我意识到学习是一个永无止境的旅程。随着技术的不断发展，总有新的知识等待我去探索。我对 Rust 和 rCore 的学习只是一个开始，我期待着在未来的学习和工作中，将这些知识应用到更广泛的领域中，继续成长和进步。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/15/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/blog/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/62/">62</a><a class="extend next" rel="next" href="/blog/page/17/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">rcore-os Group</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/muse.js"></script>


<script src="/blog/js/next-boot.js"></script>


  















  

  

  

</body>
</html>
