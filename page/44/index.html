<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/blog/lib/animate-css/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"rcore-os.github.io","root":"/blog/","scheme":"Muse","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="rcore-os Blog">
<meta property="og:url" content="http://rcore-os.github.io/blog/page/44/index.html">
<meta property="og:site_name" content="rcore-os Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="rcore-os Group">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://rcore-os.github.io/blog/page/44/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>rcore-os Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">rcore-os Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">rcore-os Group</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">729</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">69</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">633</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content index posts-expand">
          
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8Auestc-zb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8Auestc-zb/" class="post-title-link" itemprop="url">2024春季开源操作系统训练营总结报告uestc-zb</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 23:40:14" itemprop="dateCreated datePublished" datetime="2024-04-27T23:40:14+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-01 13:02:25" itemprop="dateModified" datetime="2025-07-01T13:02:25+00:00">2025-07-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024春夏季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="2024春季开源操作系统训练营第一阶段总结"><a href="#2024春季开源操作系统训练营第一阶段总结" class="headerlink" title="2024春季开源操作系统训练营第一阶段总结"></a>2024春季开源操作系统训练营第一阶段总结</h1><p>作为一个非计算机科班的自动化人，对于计算机的学习有着很高的热情，在好友的推荐下，我了解到了开源操作系统训练营。刚好最近想要做一些相关的lab，就借此良机，加入到这个大的训练营家庭中和大家一起学习。在以前的学习中，常用C/C++，这次新学习了Rust语言，编程习惯还是有些不同(悲)，要花大功夫去掌握难点。</p>
<h2 id="学习过程："><a href="#学习过程：" class="headerlink" title="学习过程："></a><strong>学习过程：</strong></h2><ul>
<li>我主要使用了《Rust 程序设计语言》官方文档作为学习指南，并结合rustling进行知识点的学习和巩固。</li>
<li>开始的基础语法较容易，很快就做完了，但是到后面的tests和algorithm部分，难度增大了，花费了不少时间才完成题目（难难难）。</li>
<li>坚持就是胜利，每天都感觉有进步。</li>
<li>主要难点部分在所有权系统、模式匹配、trait和生命周期，还需要多加联系。</li>
</ul>
<h2 id="总结与展望："><a href="#总结与展望：" class="headerlink" title="总结与展望："></a><strong>总结与展望：</strong></h2><p>通过这20天的学习，我对Rust语言有了更深入的了解，也掌握了一些基本的编程技能。期待进入第二阶段的学习了。加油干小伙子！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">2024春季开源操作系统训练营第一阶段总结-goodpeanuts</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 23:32:21" itemprop="dateCreated datePublished" datetime="2024-04-27T23:32:21+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-01 13:02:25" itemprop="dateModified" datetime="2025-07-01T13:02:25+00:00">2025-07-01</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Rust语法学习"><a href="#Rust语法学习" class="headerlink" title="Rust语法学习"></a>Rust语法学习</h1><p>这里将学习Rust中感到困惑的一些Rust语法进行整理</p>
<h2 id="变量隐藏"><a href="#变量隐藏" class="headerlink" title="变量隐藏"></a>变量隐藏</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">5</span>;</span><br><span class="line">    x = x + <span class="number">1</span>;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> x = x * <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"in for : %d\n"</span>, x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"out of for : %d\n"</span>, x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这段代码的输出结果是</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">in for : 0</span><br><span class="line">out of for : 6</span><br></pre></td></tr></table></figure>

<p>在 C++ 中，当你在 <code>for</code> 循环内部声明一个新的变量 <code>x</code> 并试图初始化它为 <code>x * 2</code> 时，这里的 <code>x</code> 实际上是指向新声明的 <code>x</code>，而不是外部作用域的 <code>x</code>。因为新声明的 <code>x</code> 在这个时候还没有被初始化，所以 <code>x * 2</code> 的结果是未定义的，但在大多数情况下，它会被初始化为 0。</p>
<p>这是因为在 C++ 中，新的变量 <code>x</code> 的声明和初始化是在同一条语句中完成的，所以在 <code>x</code> 的值被计算（即 <code>x * 2</code>）时，新的 <code>x</code> 已经遮蔽了外部作用域的 <code>x</code>。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">let</span> x = x + <span class="number">1</span>;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">let</span> x = x * <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">"inner &#123;x&#125;"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"outter &#123;x&#125;"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>而rust中的结果是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inner 12</span><br><span class="line">outter 6</span><br></pre></td></tr></table></figure>


<p>这段代码中的 <code>x</code> 变量在不同的作用域中有不同的值。在 Rust 中，可以在一个作用域中重新声明一个与外部作用域同名的变量，这被称为变量遮蔽（shadowing）。</p>
<p>首先，<code>x</code> 被初始化为 5。然后，<code>x</code> 被重新声明并赋值为 <code>x + 1</code>，所以 <code>x</code> 的值变为 6。</p>
<p>然后，进入一个新的作用域（由 <code>{}</code> 定义）。在这个作用域中，<code>x</code> 被重新声明并赋值为 <code>x * 2</code>，所以在这个作用域中，<code>x</code> 的值变为 12。这个值在 <code>println!(&quot;inner {x}&quot;);</code> 语句中被打印出来。</p>
<p>当离开这个作用域时，我们回到了外部作用域，<code>x</code> 的值再次变为 6。这个值在 <code>println!(&quot;outter {x}&quot;);</code> 语句中被打印出来。</p>
<h2 id="字符串与所有权"><a href="#字符串与所有权" class="headerlink" title="字符串与所有权"></a>字符串与所有权</h2><h2 id="结构体元组"><a href="#结构体元组" class="headerlink" title="结构体元组"></a>结构体元组</h2><p>成员相同但名称不同的元组不是同一种元组，不能相互赋值</p>
<h2 id="生命周期的3个规则"><a href="#生命周期的3个规则" class="headerlink" title="生命周期的3个规则"></a>生命周期的3个规则</h2><h3 id="生命周期约束"><a href="#生命周期约束" class="headerlink" title="生命周期约束"></a>生命周期约束</h3><p><code>&#39;a : &#39;b</code> 表示 <code>a &gt;= b</code> </p>
<h3 id="子类型的生命周期"><a href="#子类型的生命周期" class="headerlink" title="子类型的生命周期"></a>子类型的生命周期</h3><p><code>Sub</code> 是 <code>Super</code> 的子类型, <code>Sub</code> 的生命周期要包含 <code>Super</code> 的范围，有可能更大</p>
<p>目前Rust生命周期的子类型关系对于泛型存在三种映射</p>
<ul>
<li>如果 <code>T</code> 是 <code>U</code> 的一个子类型意味着 <code>F&lt;T&gt;</code> 是 <code>F&lt;U&gt;</code> 的一个子类型（即子类型化“通过(passes through)”），则 <code>F&lt;T&gt;</code> 在 <code>T</code> 上是协变的(covariant)_。</li>
<li>如果 <code>U</code> 是 <code>T</code> 的一个子类型意味着 <code>F&lt;U&gt;</code> 是 <code>F&lt;T&gt;</code> 的一个子类型，则 <code>F&lt;T&gt;</code> 在 <code>T</code> 上是_逆变的(contravariant)_。</li>
<li>其他情况下（即不能由参数类型的子类型化关系推导出此泛型的型变关系），<code>F&lt;T&gt;</code> 在 <code>T</code> 上是的_不变的(invariant)_。</li>
</ul>
<h3 id="引用的生命周期"><a href="#引用的生命周期" class="headerlink" title="引用的生命周期"></a>引用的生命周期</h3><p>引用的生命周期从借用处开始，一直到最后一次使用的地方</p>
<p>再引用(<code>ReBorrow</code>), 将指针解引用后再引用的行为，如<code>let ptr2 : Point = &amp;*ptr1;</code></p>
<h2 id="const泛型"><a href="#const泛型" class="headerlink" title="const泛型"></a>const泛型</h2><h2 id="无界生命周期"><a href="#无界生命周期" class="headerlink" title="无界生命周期"></a>无界生命周期</h2><h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>闭包中如果未声明参数类型那么一定要使用，否则编译器无法判断是什么类型</p>
<p>闭包根据参数在函数体内如何使用判断捕获参数的类型，可变还是不可变</p>
<p>使用<code>move</code>关键字强制获取所有权</p>
<h2 id="智能指针"><a href="#智能指针" class="headerlink" title="智能指针"></a>智能指针</h2><p>表现类似指针，同时拥有额外的元数据和功能，如<code>String</code>在内存中的分布</p>
<h3 id="Box-lt-T-gt"><a href="#Box-lt-T-gt" class="headerlink" title="Box&lt;T&gt;"></a><code>Box&lt;T&gt;</code></h3><ul>
<li>当有一个在编译时未知大小的类型，而又想要在需要确切大小的上下文中使用这个类型值的时候</li>
<li>当有大量数据并希望在确保数据不被拷贝的情况下转移所有权的时候</li>
<li>当希望拥有一个值并只关心它的类型是否实现了特定trit而不是其具体类型的时候<h4 id="使用Box-lt-T-gt-创建递归类型"><a href="#使用Box-lt-T-gt-创建递归类型" class="headerlink" title="使用Box&lt;T&gt;创建递归类型"></a>使用<code>Box&lt;T&gt;</code>创建递归类型</h4></li>
</ul>
<p>示例</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">List</span></span> &#123;</span><br><span class="line">    Cons(<span class="built_in">i32</span>, List),</span><br><span class="line">    Nil,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> list = List::Cons(<span class="number">1</span>, List::Cons(<span class="number">2</span>, List::Cons(<span class="number">3</span>, List::Nil)));</span><br></pre></td></tr></table></figure>

<h3 id="实现Deref以及函数和方法的隐式转换"><a href="#实现Deref以及函数和方法的隐式转换" class="headerlink" title="实现Deref以及函数和方法的隐式转换"></a>实现<code>Deref</code>以及函数和方法的隐式转换</h3><h3 id="通过std-mem-drop提早丢弃值"><a href="#通过std-mem-drop提早丢弃值" class="headerlink" title="通过std::mem::drop提早丢弃值"></a>通过<code>std::mem::drop</code>提早丢弃值</h3><h3 id="Rc-lt-T-gt-引用计数"><a href="#Rc-lt-T-gt-引用计数" class="headerlink" title="Rc&lt;T&gt;引用计数"></a><code>Rc&lt;T&gt;</code>引用计数</h3><p><code>Rc::new</code> 创建</p>
<p><code>Rc::clone(&amp;a)</code>，获取只读所有权</p>
<p>调用<code>Rc::strong_count</code>获取计数</p>
<h3 id="RefCell-lt-T-gt-和内部可变性"><a href="#RefCell-lt-T-gt-和内部可变性" class="headerlink" title="RefCell&lt;T&gt;和内部可变性"></a><code>RefCell&lt;T&gt;</code>和内部可变性</h3><p>对于引用<code>Box&lt;T&gt;</code>借用规则不可变性作用于编译时，对于<code>RefCell&lt;T&gt;</code>不可变性作用于运行时，如果违反则<code>panic</code>。 </p>
<h3 id="原子计数引用Arc-lt-T-gt"><a href="#原子计数引用Arc-lt-T-gt" class="headerlink" title="原子计数引用Arc&lt;T&gt;"></a>原子计数引用<code>Arc&lt;T&gt;</code></h3><p>多线程中的<code>Rc&lt;T&gt;</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/rCore-24spring-stage1-zhouyecs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/rCore-24spring-stage1-zhouyecs/" class="post-title-link" itemprop="url">rCore-24spring-stage1-zhouyecs</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 21:26:40" itemprop="dateCreated datePublished" datetime="2024-04-27T21:26:40+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-01 13:02:26" itemprop="dateModified" datetime="2025-07-01T13:02:26+00:00">2025-07-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一阶段总结"><a href="#第一阶段总结" class="headerlink" title="第一阶段总结"></a>第一阶段总结</h1><p>感谢活动主办方提供的宝贵平台和资源！</p>
<p>希望自己至少能坚持做完二阶段。</p>
<h2 id="RUST"><a href="#RUST" class="headerlink" title="RUST"></a>RUST</h2><p>学习资料：</p>
<p>rustlings 110题 <a href="https://github.com/LearningOS/rust-rustlings-2024-spring-zhouyecs（已完成）" target="_blank" rel="noopener">https://github.com/LearningOS/rust-rustlings-2024-spring-zhouyecs（已完成）</a></p>
<p>rust语言圣经 <a href="https://course.rs" target="_blank" rel="noopener">https://course.rs</a></p>
<p>rust练习实践 <a href="https://practice-zh.course.rs/" target="_blank" rel="noopener">https://practice-zh.course.rs/</a></p>
<p>rust by example <a href="https://doc.rust-lang.org/rust-by-example/" target="_blank" rel="noopener">https://doc.rust-lang.org/rust-by-example/</a></p>
<p>半小时学习rust <a href="https://fasterthanli.me/articles/a-half-hour-to-learn-rust（已完成）" target="_blank" rel="noopener">https://fasterthanli.me/articles/a-half-hour-to-learn-rust（已完成）</a></p>
<p>rust algorithm club <a href="https://rust-algo.club/（已完成）" target="_blank" rel="noopener">https://rust-algo.club/（已完成）</a></p>
<p>《rust实战》<a href="https://www.amazon.com/Rust-Action-TS-McNamara/dp/1617294551" target="_blank" rel="noopener">https://www.amazon.com/Rust-Action-TS-McNamara/dp/1617294551</a></p>
<p>（rust资料太多，慢慢学……）</p>
<h2 id="RISC-V"><a href="#RISC-V" class="headerlink" title="RISC-V"></a>RISC-V</h2><p>之前学习过《计算机组成与设计（RISC-V版）》，所以这次只是简单地看了一下<a href="https://content.riscv.org/wp-content/uploads/2018/05/riscv-privileged-BCN.v7-2.pdf" target="_blank" rel="noopener">PPT for RISC-V特权指令级架构</a>，打算后面有时间学习<a href="http://riscvbook.com/chinese/RISC-V-Reader-Chinese-v2p1.pdf" target="_blank" rel="noopener">RISC-V手册：一本开源指令集的指南</a>和<a href="http://www-inst.eecs.berkeley.edu/~cs61c/sp18/" target="_blank" rel="noopener">Berkeley CS61C: Great Ideas in Computer Architecture (Machine Structures)</a>。</p>
<h2 id="rustlings-难点记录"><a href="#rustlings-难点记录" class="headerlink" title="rustlings 难点记录"></a>rustlings 难点记录</h2><p>rustlings 110题 <a href="https://github.com/LearningOS/rust-rustlings-2024-spring-zhouyecs" target="_blank" rel="noopener">https://github.com/LearningOS/rust-rustlings-2024-spring-zhouyecs</a></p>
<p>参考资料 </p>
<p>- <a href="https://doc.rust-lang.org/book/index.html" target="_blank" rel="noopener">The Book</a> - The most comprehensive resource for learning Rust, but a bit theoretical sometimes. You will be using this along with Rustlings!</p>
<p>- <a href="https://doc.rust-lang.org/rust-by-example/index.html" target="_blank" rel="noopener">Rust By Example</a> - Learn Rust by solving little exercises! It’s almost like <code>rustlings</code>, but online</p>
<p>做题的时候忘记边做边记录了，所以选了些难点记下来。</p>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p>这里和C/C++类似，引用使用 <code>&amp;</code> ，解引用使用 <code>*</code> 。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">  <span class="keyword">let</span> needle = <span class="number">42</span>;</span><br><span class="line">  <span class="keyword">let</span> haystack = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">14</span>, <span class="number">42</span>, <span class="number">132</span>, <span class="number">429</span>, <span class="number">1430</span>, <span class="number">4862</span>]; </span><br><span class="line">    </span><br><span class="line">  <span class="keyword">for</span> reference <span class="keyword">in</span> haystack.iter() &#123;</span><br><span class="line">    <span class="keyword">let</span> item = *reference;</span><br><span class="line">    <span class="keyword">if</span> item == needle &#123;</span><br><span class="line">      <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, item); <span class="comment">// 42</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>Rust中，<code>str</code>和<code>String</code>是两种不同的数据类型，特别容易搞混，<code>str</code>是字符串切片类型，是一个不可变引用，而<code>String</code>是字符串类型，是一个可变的字符串。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">  <span class="comment">// 使用字符串字面量创建一个str类型的字符串切片</span></span><br><span class="line">  <span class="keyword">let</span> str_slice = <span class="string">"Hello, World!"</span>;</span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">"str_slice: &#123;&#125;"</span>, str_slice);</span><br><span class="line">  <span class="comment">// 尝试修改str_slice会发生报错</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 使用String结构体创建一个可变的字符串</span></span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">mut</span> string = <span class="built_in">String</span>::from(<span class="string">"Hello"</span>);</span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">"string: &#123;&#125;"</span>, string);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 修改String类型的字符串</span></span><br><span class="line">  string.push_str(<span class="string">", World!"</span>);</span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">"string: &#123;&#125;"</span>, string);</span><br><span class="line">    </span><br><span class="line">  <span class="comment">// String -&gt; &amp;str</span></span><br><span class="line">  <span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">"PKU"</span>);</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">let</span> s2 = &amp;s1[..];</span><br><span class="line">  <span class="keyword">let</span> s3 = s1.as_str();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// &amp;str -&gt; String</span></span><br><span class="line">  <span class="keyword">let</span> s4 = <span class="string">"THU"</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> s5 = s4.to_string();</span><br><span class="line">  <span class="keyword">let</span> s6 = <span class="built_in">String</span>::from(s4);</span><br><span class="line">  <span class="keyword">let</span> s7 = s4.to_owned();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还有更多就没写了，还是得多练练。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-frezcirno/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-frezcirno/" class="post-title-link" itemprop="url">2024春夏季开源操作系统训练营第一阶段总结报告-frezcirno</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 21:05:35" itemprop="dateCreated datePublished" datetime="2024-04-27T21:05:35+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-01 13:02:25" itemprop="dateModified" datetime="2025-07-01T13:02:25+00:00">2025-07-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024春夏季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>训练营第一阶段主要是通过上课以及Rustlings练习的方式学习Rust语言。Rust语言在学校的时候已经学过一遍了所以做起来还算轻松。</p>
<h2 id="Rust语言学习心得"><a href="#Rust语言学习心得" class="headerlink" title="Rust语言学习心得"></a>Rust语言学习心得</h2><p>在学习Rust语言的过程中，我深深地感受到了这门语言的独特之处以及学习的挑战。通过完成第一阶段的Rustlings练习和复习Rust语法知识，我收获了许多宝贵的经验和见解。</p>
<h2 id="Rustlings"><a href="#Rustlings" class="headerlink" title="Rustlings"></a>Rustlings</h2><p>Rustlings是学习Rust非常好的资料。</p>
<p>通过解决各种练习题，我不仅熟悉了Rust语言的基本语法，还学会了如何处理各种常见的编程问题。尤其是在处理字符串和迭代器等常见操作时，我学会了如何巧妙地利用Rust语言特性来简化代码，提高效率。</p>
<p>第一遍做的时候以为全过，过了n久才发现fail了三道，飞速赶工修好了。。。</p>
<p>另外，Copilot和ChatGPT真的非常好用。</p>
<h2 id="未来期望"><a href="#未来期望" class="headerlink" title="未来期望"></a>未来期望</h2><p>希望能够入门Rust-for-linux，真正在各种现实项目中用起来Rust。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024Spring-Rcore-schedule1-GYHPCG/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024Spring-Rcore-schedule1-GYHPCG/" class="post-title-link" itemprop="url">2024Spring-Rcore-schedule1-GYHPCG</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 21:05:16" itemprop="dateCreated datePublished" datetime="2024-04-27T21:05:16+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-01 13:02:25" itemprop="dateModified" datetime="2025-07-01T13:02:25+00:00">2025-07-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一阶段总结"><a href="#第一阶段总结" class="headerlink" title="第一阶段总结"></a>第一阶段总结</h1><h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h2><p>这是第二次参加rcore训练营了，上一次的时候是2023秋季的时候,那时候还没有学过rust,也不知道risc-v。而是在学过操作系统课后，想要找一个操作系统实验来做，锻炼自己。因为自己平时很喜欢c++，而各种地方都在不断拿Rust和C++对比，因而开始去接触Rust,也因此，正巧碰上了2023秋季rcore训练营的开启。去年时间很短，个人基础也很差，所以学得很费劲，磕磕绊绊才把第二阶段过了。刚到第三阶段，碰上了期末周，导致没有继续持续下去，很是遗憾。所以又在等啊等啊，2024年春季的rcore终于开始了……。</p>
<h2 id="rustling"><a href="#rustling" class="headerlink" title="rustling"></a>rustling</h2><p>由于上次做过，所以本次的前一百道题做得很顺利，花费的时间很少。直到今年多出来的10道算法题，其实思想也是很简单，就是用Rust来写很让我难受。尤其第一题的链表，让我实在……，用c++写得挺感觉很简洁或者轻松。但rust写起来……拖着最后还是不得不写完了。</p>
<h2 id="Rust"><a href="#Rust" class="headerlink" title="Rust"></a>Rust</h2><p>Rust算是我学过的一种蛮特别的语言。开始C-&gt;C++-&gt;Java/python。我感觉基础语法什么的基本都差不多。但是Rust确实是给我的感觉不太一样，风格不一样。但学的时候，却是在不断对比C++来学习，学起来确是不断加深对两门语言的印象。总之Rust促使C++更多思考安全！,但对Rust也越来越喜欢了。总之，两个我都要。</p>
<p>第二阶段好好搞！！！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-Renli/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-Renli/" class="post-title-link" itemprop="url">2024春夏季操作系统训练营一阶段总结-Renli</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 21:03:07" itemprop="dateCreated datePublished" datetime="2024-04-27T21:03:07+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-01 13:02:25" itemprop="dateModified" datetime="2025-07-01T13:02:25+00:00">2025-07-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024春夏季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Rustlings-学习感悟"><a href="#Rustlings-学习感悟" class="headerlink" title="Rustlings 学习感悟"></a>Rustlings 学习感悟</h1><p>不得不说，Rust对于我这种只会C/C++的语言的人来说还是很有一定难度的，这种难度来自于对于函数式编程的不熟悉。但一旦熟悉后就感觉到了函数式编程的便捷，特别是迭代器的处理。同时这也增加了一些压力，相较于啥都自己手写的C/C++，Rust等函数编程语言的重点则是熟悉各种各样的函数方法，有时候自己冥思苦想几天的代码，一个简单的函数就能解决，这种经历还是很难受的。</p>
<p>Rust语言除去函数编程以及一些语法糖之外，令人啧啧称道的就是他的安全机制了。确实，初次接触Rust感觉十分惊艳，觉得取代C/C++只是时间问题。但做过Rustlings后，感觉到可能这还是存在一些距离。一方面对于程序员要求太高了，难度感觉比C/C++高出了很多，另一方面尽管尽力屏蔽了底层，但却不得不使用一些unsafe的代码块实现底层操作，导致有点emmm怪怪的。</p>
<p>难度方面，我感觉Rustlings中的algorithm系列题目可以展现出Rust的“刁钻之处”，特别是对泛型T的处理。由于泛型T既可能有Copy也有可能有Clone，这导致很多常规的赋值方法并不能使用，在老师的讲解中我了解到了</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> k = T::default();</span><br><span class="line">std::mem::swap(&amp;<span class="keyword">mut</span> k, &amp;<span class="keyword">mut</span> <span class="keyword">self</span>.data[<span class="keyword">self</span>.top]);</span><br></pre></td></tr></table></figure>
<p>这种写法，但实际使用中还是存在很多限制。不过经过思考和练习，发现很多赋值是可以优化的，特别是在使用相对应的数据结构的方法。感觉这其实有点像编译器强制程序员思考优化代码（被鞭策的感觉。</p>
<p>底层操作方面，则主要还是指针的使用，不得不说，链表之类的使用指针写代码是真的快。不过网上关于这个争议还是蛮多的，我有一段实现safe的双向链表代码，可惜这里太小了粘不下（笑</p>
<p>Rustlings 感觉练习还是蛮不错的，对于我这种0基础的学生来说，三四天看完b站课程后刷完成就感还是蛮强的（虽然看了不少题解，特别是经过最后algorithm部分的练习，感觉自己算是初步入门了Rust</p>
<h1 id="RCore-学习感悟"><a href="#RCore-学习感悟" class="headerlink" title="RCore 学习感悟"></a>RCore 学习感悟</h1><p>作为一个只会408操作系统的电子学生，很早之前就想从代码阶段了解操作系统的构成，很感谢训练营能够给我这次机会。</p>
<p>但不得不说，使用Rust语言实现的RCore对我这种只会C语言的难度有点大，各种各样的闭包、智能指针让我看得经常找不到北。坦白来说，就算经过RCore的学习，RCore的很多细节我仍然不是很熟悉，只能说大概框架是有的，这一方面是因为操作系统的本身难度，作为一个之前没有太多接触操作系统的学术，这样一个包含汇编、C语言、Rust的大型工程实在是令人压力山大，另一方面则是Rust本身的难度，这语言是有点抽象的（o(╥﹏╥)o），本以为经过Rustlings学习能够大展拳脚，结果发现自己只是入门的阶段，经常忘记用闭包，函数式编程的思想，常常都是C语言的编程逻辑（还是自己太菜了）。</p>
<p>不过，经过RCore的学习我还是收获颇丰，不仅精进了我的Rust技术，更是极大地扩充了我的操作系统知识，原先只能死记的知识点，现在又有了不一样的理解，比如说管道的实现、内核态和用户态的地址，另外也学习到的书本上很少涉及的知识，比如说用户态空间与内核态空间分离（RCore称之为双页表），SV39多级页表机制等等。</p>
<p>经过RCore学习也能感受到自己的不足，特别是汇编部分，不得不说RCore的汇编涉及太巧妙了，经常是读下来感觉耳目一新，醍醐灌顶。希望以后有机会还能参加编译器的训练营。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E3%80%81%E4%BA%8C%E3%80%81%E4%B8%89%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-kami/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E3%80%81%E4%BA%8C%E3%80%81%E4%B8%89%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-kami/" class="post-title-link" itemprop="url">2024春夏季开源操作系统训练营第一、二阶段总结报告-kami</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 20:34:28" itemprop="dateCreated datePublished" datetime="2024-04-27T20:34:28+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-01 13:02:25" itemprop="dateModified" datetime="2025-07-01T13:02:25+00:00">2025-07-01</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一阶段-小结"><a href="#一阶段-小结" class="headerlink" title="一阶段 小结"></a>一阶段 小结</h1><p>这是我第二次参加了，秋冬季的时候二阶段适逢期中考试，完成的不是很好，三阶段也没有参加。这次期中考试和一阶段又撞一起了，挑了时间一口气赶进度是相当的折磨。</p>
<p>通过rustlings可以快速对Rust的特性进行了解，但是感觉学习的效果并不是非常的好，题目做过之后就忘的差不多了，归根到底还是一直用cpp而不习惯使用rust，在学习的时候很容易在想”这个东西就相当于cpp里的…”</p>
<p>最后几个算法题挺有意思的，做起来也很头疼- - </p>
<p>一阶段暂且告一段落，虽然笔记做了一大堆，但是实际上大部分是复制文档内容和代码样例，勉勉强强算给自己制造完成了很多工作量的错觉来给自己一点正反馈吧。</p>
<h1 id="二阶段-小结"><a href="#二阶段-小结" class="headerlink" title="二阶段 小结"></a>二阶段 小结</h1><p>写在开头，如果没有<strong>rust-analyzer</strong>，我可能对着这一大堆东西愣半天也写不了几段正确且符合逻辑的代码。  </p>
<p>做PA的时候总是看到强调要多<strong>RTFSC</strong>，这确实是相当的重要。所以刚开始的时候对着指导书，并结合源码，把每一个模块的实现的源码阅读了一遍，虽然并不是自己敲的，而且有的地方也不是很理解为什么要这么写，但是总体上有了大概的了解，不至于那么的无从下手。  </p>
<p>这个学期学校课程安排开设了操作系统课程，相比于秋冬季时没有系统的学习操作系统而直接开始阅读Tutorial来说，这一次重新阅读，结合课本的相关知识，这些概念和代码实现亲切了许多。</p>
<p>简单说说在各个章节中的收获：</p>
<h3 id="多道程序"><a href="#多道程序" class="headerlink" title="多道程序"></a>多道程序</h3><p>本章学习了任务相关的知识，包括任务切换，任务调度，任务控制块TCB数据结构的设计等，相比于课本上生硬地写出TCB需要保存的内容来说，使用代码实现TCB的设计可以有了更加深刻的理解。</p>
<p>实践作业实现了一个新的系统调用 sys_task_info 用以获取当前正在运行的任务的信息。</p>
<h3 id="地址空间"><a href="#地址空间" class="headerlink" title="地址空间"></a>地址空间</h3><p>印象最深的是SV39多级页表。类似于字典树(Trie)，大大节省了占用的内存空间。<br>还有虚拟内存的相关概念，虚拟内存和物理内存的转换。</p>
<p>实践作业实现了 mmap 和 munmap 匿名映射，简化了实现，仅用于申请内存。<br>主要是要RTFSC，在其他的系统调用中查看如何转换地址，如何查页表。  </p>
<h3 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h3><p>进程和线程在学校课程学习中是很重要的一部分，本章介绍了进程的概念和相关系统调用，并进行进程管理和进程调度。</p>
<p>实践作业包括两个：</p>
<ul>
<li>实现spawn<br>  虽然好像 fork+execve!=spawn，但是我的实现就是把fork的代码复制下来，然后和execve的代码进行了一个缝合…</li>
<li>实现stride调度<br>  发现了ci的一个bug，即实际上如果只实现了set_priority这个用于设置优先级的系统调用，并没有去实现调度的话也可以通过ci测试…</li>
</ul>
<h3 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h3><p>印象非常的深刻的是Unix哲学的一切皆文件</p>
<p>本章的内容相当的多，因为文件系统比较复杂，读起来非常的费劲而且读完就容易忘…</p>
<p>只记得bitmap，inode啥的了2333，在PA中实现过read，open，seek等操作，印象也不是很深刻了，当时好像是可以将不同类型的文件用统一的接口来进行读写操作。  </p>
<p>实践作业实现了linkat和unlinkat，关于fstat，在计算inode时遇到了一些困难…</p>
<h3 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h3><p>首先介绍了用户态和内核态的线程管理。<br>线程的并发问题是老生常谈了，用了锁，信号量，条件变量等进行线程同步互斥管理。  </p>
<p>实践作业实现死锁检测，一开始就把这个认为是<strong>银行家算法</strong>，但是潜水看群里大佬们聊天说并不是，只是用了银行家算法的思想，再想了想课本上学习的，好像确实…</p>
<p>比较麻烦，一开始无从下手，因为不知道资源数量，需求资源啥的需要在哪里定义。</p>
<h3 id="小结的小结"><a href="#小结的小结" class="headerlink" title="小结的小结"></a>小结的小结</h3><p>二阶段的编程小练习涵盖了操作系统设计的几个重要方面，我认为二刷甚至多刷也是有价值的-。-</p>
<h1 id="三阶段-小结"><a href="#三阶段-小结" class="headerlink" title="三阶段 小结"></a>三阶段 小结</h1><h2 id="项目3-Rust-for-Linux-amp-跨内核驱动框架"><a href="#项目3-Rust-for-Linux-amp-跨内核驱动框架" class="headerlink" title="项目3 Rust for Linux &amp; 跨内核驱动框架"></a>项目3 Rust for Linux &amp; 跨内核驱动框架</h2><h3 id="练习一-配环境"><a href="#练习一-配环境" class="headerlink" title="练习一  配环境"></a>练习一  配环境</h3><blockquote>
<p><em>工欲善其事，必先利其器。</em></p>
</blockquote>
<p>万事开头难，确实如此。在配环境上折腾了好久，一开始用WSL，但是对于图形界面的支持不够以致QEMU界面始终是黑屏- -…又改用虚拟机，但是性能很差，编译一次要花费好长时间，虽然可以显示画面了，但是到练习二的时候又出现了画面卡死动不了的问题- - …  </p>
<p>有群友使用docker整了一个环境，也整下来试了一下，但是被mac的大小写问题给坑了一下，到最后也没配好</p>
<p>最后得到的最优解是在WSL启动QEMU时使用 vnc 进行连接。</p>
<p>算一下为了配好环境前前后后折腾了好几天，编译了不下十几次- - </p>
<h3 id="练习二-实现Miscdev驱动基本读写"><a href="#练习二-实现Miscdev驱动基本读写" class="headerlink" title="练习二 实现Miscdev驱动基本读写"></a>练习二 实现Miscdev驱动基本读写</h3><p>本学期学校开设的操作系统课程实验也使用了树莓派进行内核编程，其上烧写的是OpenEuler。于是对于内核模块的编写多少有一点亲切感。</p>
<p>完善了open/read/write的内容，使得杂项字符设备可以实现基本读写操作。</p>
<h3 id="练习三-跨内核驱动框架下的树莓派4B-GPIO点灯实现"><a href="#练习三-跨内核驱动框架下的树莓派4B-GPIO点灯实现" class="headerlink" title="练习三 跨内核驱动框架下的树莓派4B GPIO点灯实现"></a>练习三 跨内核驱动框架下的树莓派4B GPIO点灯实现</h3><p>一开始一头雾水，不知道要怎么下手，又遇上期末考试，于是就暂时搁置了。</p>
<p>考试周结束后又重新捡了起来，去课堂看了之前的回放才知道了如何把写的pure driver编译进内核。</p>
<p>在pure driver中要做的事情主要是完成树莓派的所有寄存器的抽象。<strong>(阅读树莓派的手册很重要)</strong></p>
<p>然后在Adapter driver中把寄存器映射到内存地址，通过对于地址的操作，进而控制寄存器，达到GPIO口的电平和输出模式等等的目的。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> mapped_base = <span class="keyword">unsafe</span> &#123; bindings::ioremap(BCM2837_GPIO_BASE, GPIO_SIZE) &#125;;</span><br></pre></td></tr></table></figure>

<p>在Arceos上的操作也类似，pure driver可以直接复用，但是要把osl相关的东西给换掉。在映射地址时多了个物理地址转为虚拟地址的操作。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> gpio_map=RpiGpioPort::new(phys_to_virt((gpio_base <span class="keyword">as</span> <span class="built_in">usize</span>).into()).as_mut_ptr());</span><br></pre></td></tr></table></figure>
<p>文档给的点灯驱动参考非常的详细，照着做基本上就能够正常运行起来。（但是有的地方还是不理解为什么要这么操作）</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>本次训练营的学习内容相当丰富，学到了很多新知识，以及探索了之前没有涉足过的领域。<br>但是由于课业等等压力，一直都算是在闲时才来跟一下训练营的进度，因此各方面感觉自己学的不够扎实，学习深度也有限，仍需要继续沉淀…<br>总结就是要多读源码，多看手册，不要因为嫌麻烦偷懒不看- - 问就是在这方面吃了很多的教训，有的问题想好久想不明白，这里为啥这么写？这个寄存器为啥这么操作？  最后一看手册里写的清清楚楚的…</p>
<blockquote>
<p>我们旅行时不要像个信使一样，而应当像个探险家一样。我们不仅要考虑起点和终点，还得考虑起点和终点之间的距离</p>
</blockquote>
<h3 id=""><a href="#" class="headerlink" title="~"></a><del>~</del></h3><p><strong>繋がる空の下<br>さあ自分らしく進もう<br>始まりの歌贈るよ<br>歩き出す君へ</strong><br>–献给此刻迈步前行的你</p>
<p>Author:<br>kami<br>Xiamen University</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E8%B0%A2%E5%AE%89%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E8%B0%A2%E5%AE%89%E5%8D%97/" class="post-title-link" itemprop="url">2024春季开源操作系统训练营一阶段总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 19:45:16" itemprop="dateCreated datePublished" datetime="2024-04-27T19:45:16+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-01 13:02:25" itemprop="dateModified" datetime="2025-07-01T13:02:25+00:00">2025-07-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Rust学习经验"><a href="#Rust学习经验" class="headerlink" title="Rust学习经验"></a>Rust学习经验</h1><p>作为经验分享，我不会写太多，一小篇足以</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Rust作为新时代的语言，其语法特性相对于以前的语言有着较大的差别，而且目前的Rust教程都是非常繁琐且没有梳理出一条很好的路线的，具体表现为既不是阶梯式也不是直接深入讲一个点，前后内容穿插令人无法理解。当然这也与Rust本身语言的特性相关，而并非完全是教程编写者的原因。</p>
<p>学习任何语言的思想都应该是读大量的项目源码，Rust也是如此，不过更应该先掌握Rust语法基础。</p>
<p>以下为Rust学习的部分参考资料：</p>
<p><a href="https://doc.rust-lang.org/book/" target="_blank" rel="noopener">官方学习文档</a></p>
<p><a href="https://course.rs" target="_blank" rel="noopener">Rust圣经(可以看作官方文档的中文替代版)</a></p>
<p><a href="https://github.com/rcore-os/rCore/wiki/os-tutorial-summer-of-code-2020#step-0-%E8%87%AA%E5%AD%A6rust%E7%BC%96%E7%A8%8B%E5%A4%A7%E7%BA%A67%E5%A4%A9" target="_blank" rel="noopener">THU-Rust学习建议</a></p>
<p><a href="https://github.com/rust-lang/rustlings" target="_blank" rel="noopener">Rustlings</a></p>
<h2 id="我的建议"><a href="#我的建议" class="headerlink" title="我的建议"></a>我的建议</h2><p>先通过学习文档练习语法，然后刷Rustlings，学习过程中参考教程代码or别人的代码，通过<a href="https://docs.rs/" target="_blank" rel="noopener">crate doc文档</a>查询相关crate源码</p>
<h2 id="Rust特色分享"><a href="#Rust特色分享" class="headerlink" title="Rust特色分享"></a>Rust特色分享</h2><h3 id="所有权与生命周期"><a href="#所有权与生命周期" class="headerlink" title="所有权与生命周期"></a>所有权与生命周期</h3><p>众所周知，Rust同C++一样是没有GC的，虽然C++在C++11有过GC提案，但是并未有编译器实现（可以当作没有），在C++23移除。C++可以通过RAII控制资源，那么Rust也有智能指针可以实现RAII，但是本文不讨论这个。本篇的主角是<strong>所有权</strong>。</p>
<p>既然我要聊所有权，那么我为什么要标注生命周期这个东西呢，那当然是因为所有权和生命周期息息相关，C++的内存安全问题基本上都是对于所有权和生命周期的错误使用导致的。而由于Rust中的所有权是在编译期进行的，对运行期的性能没有任何影响。</p>
<p>Rust的所有权有三个原则</p>
<blockquote>
<ol>
<li>Rust 中每一个值都被一个变量所拥有，该变量被称为值的所有者</li>
<li>一个值同时只能被一个变量所拥有，或者说一个值只能拥有一个所有者</li>
<li>当所有者(变量)离开作用域范围时，这个值将被丢弃(drop)</li>
</ol>
</blockquote>
<p>下面将通过一段代码说明以上意思</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="built_in">String</span>::from(<span class="string">"Hello Rust"</span>); </span><br><span class="line">    <span class="keyword">let</span> b = a;<span class="comment">//此时所有权转移到b</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, a); <span class="comment">//Wrong !!!</span></span><br><span class="line">    <span class="keyword">let</span> c = b.clone();<span class="comment">//c通过克隆产生，不会拿走b所有权</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">let</span> d = b;<span class="comment">//d获得b的所有权，并在该代码段结束后drop</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, b); <span class="comment">//Wrong !!!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然这只是浅浅的一点例子，我无法在这说完，可以查看前言中的资料进行深入学习</p>
<p><strong>生命周期</strong></p>
<p>有一个关于很有意思的概念可以被应用于生命周期，我只会在此介绍这个概念。</p>
<p><strong>三种映射</strong>：</p>
<blockquote>
<ol>
<li>协变(covariant) T: R(T&lt;’a&gt;, T&lt;’b&gt;) = R(‘a, ‘b)。</li>
<li>逆变(contravariant) T: R(T&lt;’a&gt;, T&lt;’b&gt;) = ~R(‘a, ‘b)，也就是若 ‘a&lt;’b，则 T&lt;’a&gt; &gt; T&lt;’b&gt;。</li>
<li>不变(invariant) T: R(T&lt;’a&gt;, T&lt;’b&gt;) = “&lt;&gt; 或 =”，也就是无法推导子类型关系</li>
</ol>
</blockquote>
<p>你会发现，看上面的概念是不是看不懂？</p>
<p>看不懂就对了，其实这个对于编程来说并没有什么卵用，只是一个很有意思的东西。</p>
<p>那么我们不从Rust的角度来看协变和逆变的概念。</p>
<blockquote>
<p>A &lt;: B   代表A是B的子类型<br>A -&gt; B   以 A 为参数类型, 以 B 为返回值类型的函数类型<br>x : A   这里x是一个变量, 其类型为A</p>
</blockquote>
<p>其实这里从继承关系来看就很好接受了，我们有三个类型如下：<br>A &lt;: B &lt;: C</p>
<p>这里A变成B、C是协变，B变成C是协变，C变成A、B是逆变，B变成A是逆变。</p>
<p>为什么呢？<br>定义如下：</p>
<p><strong>协变(Covariance)是指子类向基类的转换.</strong><br><strong>逆变(Contravariance)是指基类向子类的转换.</strong></p>
<p>是不是突然明白了</p>
<p>那这和生命周期有啥关系呢？</p>
<p>生命周期是有长短的，在哪开始在哪结束，那是不是就有变长变短，的概念了，协变和逆变的概念是不是就能套进去了？</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> r;                <span class="comment">// ---------+-- 'a</span></span><br><span class="line">                          <span class="comment">//          |</span></span><br><span class="line">    &#123;                     <span class="comment">//          |</span></span><br><span class="line">        <span class="keyword">let</span> x = <span class="number">5</span>;        <span class="comment">// -+-- 'b  |</span></span><br><span class="line">        r = &amp;x;           <span class="comment">//  |       |</span></span><br><span class="line">    &#125;                     <span class="comment">// -+       |</span></span><br><span class="line">                          <span class="comment">//          |</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"r: &#123;&#125;"</span>, r); <span class="comment">//          |</span></span><br><span class="line">&#125;                         <span class="comment">// ---------+</span></span><br></pre></td></tr></table></figure>

<p>从上面可以看出显示看出r的生命周期和x的生命周期，那是不是生命周期变长的就是协变，生命周期变短的就是逆变了。</p>
<p>非常容易理解！</p>
<p>TODO!<br>PS:慢慢写</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/xjpower11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/xjpower11/" class="post-title-link" itemprop="url"><xjpower11></a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 18:48:31" itemprop="dateCreated datePublished" datetime="2024-04-27T18:48:31+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-01 13:02:26" itemprop="dateModified" datetime="2025-07-01T13:02:26+00:00">2025-07-01</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="2024年春夏季开源操作系统训练营-基础阶段-rust编程"><a href="#2024年春夏季开源操作系统训练营-基础阶段-rust编程" class="headerlink" title="2024年春夏季开源操作系统训练营-基础阶段-rust编程"></a>2024年春夏季开源操作系统训练营-基础阶段-rust编程</h1><h2 id="1-rust编程语言"><a href="#1-rust编程语言" class="headerlink" title="1. rust编程语言"></a>1. rust编程语言</h2><pre><code>在软件开发的广阔天地中，Rust以其独特的内存安全性和高性能特性，赢得了越来越多开发者的青睐。作为一位对Rust感兴趣的新手，我决定踏上这段基础学习的旅程，并在这里分享我的学习心得。</code></pre><h2 id="2-学习之前对rust的了解"><a href="#2-学习之前对rust的了解" class="headerlink" title="2. 学习之前对rust的了解"></a>2. 学习之前对rust的了解</h2><pre><code>Rust是一种系统编程语言，它旨在提供内存安全性，而又不牺牲性能。它的主要特点包括所有权系统、生命周期和借用检查器，这些特性共同确保了程序在运行时不会出现内存泄漏或空指针引用等常见问题。在开始学习Rust之前，我先对其背景和发展历程进行了了解。Rust起源于Mozilla的研究项目，旨在为C++提供一种更安全、更高效的替代品。经过多年的发展，Rust已经成为了一个功能强大且稳定的编程语言，被广泛应用于各种领域，包括操作系统开发、网络编程、嵌入式系统等。</code></pre><h2 id="3-基础语法与数据类型"><a href="#3-基础语法与数据类型" class="headerlink" title="3. 基础语法与数据类型"></a>3. 基础语法与数据类型</h2><pre><code>Rust的语法简洁明了，与C++和Java等主流编程语言有许多相似之处。我开始从学习Rust的基本语法和数据类型入手，如变量声明、条件语句、循环结构等。Rust的数据类型包括整数、浮点数、布尔值、字符和字符串等，这些数据类型的使用与其他语言类似，但也有一些独特之处。例如，Rust中的变量默认是不可变的（immutable），如果需要修改变量的值，必须在声明时使用mut关键字将其标记为可变的（mutable）。这种设计有助于减少程序中的错误，提高代码的可读性和可维护性。</code></pre><h2 id="4-所有权与借用"><a href="#4-所有权与借用" class="headerlink" title="4. 所有权与借用"></a>4. 所有权与借用</h2><pre><code>Rust的所有权系统和借用检查器是其内存安全性的核心所在。在学习过程中，我花了大量时间来理解这两个概念。所有权系统决定了谁负责一块内存区域的生命周期，而借用检查器则确保了在任何给定时间，一个值只能有一个可变引用或任意数量的不可变引用。通过编写一些简单的示例程序，我逐渐掌握了如何正确使用引用和所有权来避免常见的内存错误。这虽然是一个挑战，但当我看到程序能够安全地运行而不会出现内存问题时，我感到非常兴奋和满足。</code></pre><h2 id="5-学习过程难点"><a href="#5-学习过程难点" class="headerlink" title="5. 学习过程难点"></a>5. 学习过程难点</h2><pre><code>rust-rustlings-2024-spring中前面题总体还比较容易进行，特别是后10道题，花费了不少时间，经过不断的分析解决，最终解决了这些试题。通过这些试题对链表等数据操作认识更加深刻。</code></pre><h2 id="6-总结"><a href="#6-总结" class="headerlink" title="6. 总结"></a>6. 总结</h2><pre><code>通过这次Rust基础学习之旅，我对Rust有了更深入的了解和认识。虽然Rust的语法和概念相对复杂一些，但我认为这是值得的，因为它为我们提供了一种更加安全和高效的编程方式。</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%BB%84%E6%96%87%E8%BD%A9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%BB%84%E6%96%87%E8%BD%A9/" class="post-title-link" itemprop="url">2024春夏季开源操作系统训练营第一阶段总结-黄文轩</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 17:42:00" itemprop="dateCreated datePublished" datetime="2024-04-27T17:42:00+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-01 13:02:25" itemprop="dateModified" datetime="2025-07-01T13:02:25+00:00">2025-07-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024春夏季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="2024开源操作系统训练营第一阶段总结-黄文轩"><a href="#2024开源操作系统训练营第一阶段总结-黄文轩" class="headerlink" title="2024开源操作系统训练营第一阶段总结-黄文轩"></a>2024开源操作系统训练营第一阶段总结-黄文轩</h1><p>本文是对OS训练营第一阶段的总结，重点谈谈在第一阶段学习Rust的过程中，印象比较深刻的一些知识点。</p>
<h2 id="所有权"><a href="#所有权" class="headerlink" title="所有权"></a>所有权</h2><p>所有权是Rust中一个非常重要的特性，查看如下代码：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">"Hello World"</span>);</span><br><span class="line">    <span class="keyword">let</span> s2 = s1;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;s2&#125;"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行<code>let s2=s1</code>语句后，s1就不能再使用了，也就是说s1将资源移动给了s2，原来的变量就不再用原先的值了。Rust明确了所有权的概念，如果一个变量拥有了一个资源的所有权，就要负责那个资源的回收和释放，主要目的是为了安全。</p>
<p>在使用函数时，也同样要注意：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>(s: <span class="built_in">String</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;s&#125;"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">"Hello World"</span>);</span><br><span class="line">    foo(s1); <span class="comment">// 所有权发生移动</span></span><br><span class="line">    foo(s1); <span class="comment">// 出错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在第一次使用foo时，s1字符串的所有权就移动到了参数s上，在该函数回收栈空间时，这个字符串就被回收掉了，因此无法再打印这个字符串。</p>
<p>如下代码就不存在问题，因为foo将所有权转移出来：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>(s: <span class="built_in">String</span>) -&gt; <span class="built_in">String</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;s&#125;"</span>);</span><br><span class="line">    s</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">"Hello World"</span>);</span><br><span class="line">    <span class="keyword">let</span>  s1= foo(s1); </span><br><span class="line">    foo(s1); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是上述代码将所有权转移出来，有时还是麻烦了点，频繁转移所有权会显得很冗余，可以使用引用这个特性。</p>
<p>下述代码使用了引用：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>(s: &amp;<span class="built_in">String</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;s&#125;"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">"Hello World"</span>);</span><br><span class="line">    foo(&amp;s1);</span><br><span class="line">    foo(&amp;s1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Box智能指针"><a href="#Box智能指针" class="headerlink" title="Box智能指针"></a>Box智能指针</h2><p>如果一个变量，存的是另一个变量在内存的地址值，那么就被称为指针。普通指针是对值的借用，而智能指针通常拥有对数据的所有权，可以做一些额外操作，比如管理引用计数和资源自动回收。</p>
<p>标准库中常见的智能指针：</p>
<ul>
<li><code>Box&lt;T&gt;</code>：在堆内存上分配值</li>
<li><code>Rc&lt;T&gt;</code>：启用多重所有权的引用计数类型</li>
<li><code>Ref&lt;T&gt;</code>&amp;<code>RefMut&lt;T&gt;</code>，通过<code>RefCell&lt;T&gt;</code>访问：在运行时而不是编译时强制借用规则的类型</li>
</ul>
<p>本文着重介绍Box，即指向堆内存的智能指针，允许在堆上存储数据而非栈，没有其他性能开销。</p>
<p>常用场景：在编译时，某类型的大小无法确定。但使用该类型时，上下文却要知道它的确切大小。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="built_in">Box</span>::new(<span class="number">5</span>); <span class="comment">// 存储在堆上</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"b = &#123;&#125;"</span>,b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在变量 <code>b</code> 在离开作用域时，同样会被释放。</p>
<p>同样可以作用于结构体：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span> &#123;</span><br><span class="line">    x: <span class="built_in">u32</span>,</span><br><span class="line">    y: <span class="built_in">u32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>() -&gt; <span class="built_in">Box</span>&lt;Point&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> p = Point &#123;x:<span class="number">10</span>, y:<span class="number">20</span>&#125;;</span><br><span class="line">    <span class="built_in">Box</span>::new(p)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在创建Point结构体时，其尺寸是固定的，所以它的实例会被创建在栈上。而在创建 <code>Box&lt;Point&gt;</code> 实例的时候会发生所有权转移：资源从栈上移动到了堆，原来栈的那片资源被置为无效。</p>
<p>可以对Box进行解引用，由于u8具有copy语义，所以解引用后，原来的boxed还能使用</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> boxed:  <span class="built_in">Box</span>&lt;<span class="built_in">u8</span>&gt; = <span class="built_in">Box</span>::new(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">let</span> val: <span class="built_in">u8</span> = *boxed;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>,val);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>,boxed);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是对于move语义的类型来说，就不适用了<br>Box同样可以作为函数参数:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span> &#123;</span><br><span class="line">    x: <span class="built_in">u32</span>,</span><br><span class="line">    y: <span class="built_in">u32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>(p: <span class="built_in">Box</span>&lt;Point&gt;) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>,p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> b: <span class="built_in">Box</span>&lt;Point&gt; = <span class="built_in">Box</span>::new(Point&#123;x:<span class="number">10</span>, y:<span class="number">20</span>&#125;);</span><br><span class="line"></span><br><span class="line">    foo(b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/43/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/43/">43</a><span class="page-number current">44</span><a class="page-number" href="/blog/page/45/">45</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/73/">73</a><a class="extend next" rel="next" href="/blog/page/45/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">rcore-os Group</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/muse.js"></script>


<script src="/blog/js/next-boot.js"></script>


  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
