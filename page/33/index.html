<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/blog/lib/animate-css/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"rcore-os.github.io","root":"/blog/","scheme":"Muse","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="rcore-os Blog">
<meta property="og:url" content="http://rcore-os.github.io/blog/page/33/index.html">
<meta property="og:site_name" content="rcore-os Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="rcore-os Group">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://rcore-os.github.io/blog/page/33/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>rcore-os Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">rcore-os Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">rcore-os Group</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">613</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">45</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">557</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content index posts-expand">
          
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E3%80%81%E4%BA%8C%E3%80%81%E4%B8%89%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-kami/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E3%80%81%E4%BA%8C%E3%80%81%E4%B8%89%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-kami/" class="post-title-link" itemprop="url">2024春夏季开源操作系统训练营第一、二阶段总结报告-kami</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 20:34:28" itemprop="dateCreated datePublished" datetime="2024-04-27T20:34:28+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-14 09:05:09" itemprop="dateModified" datetime="2025-05-14T09:05:09+00:00">2025-05-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一阶段-小结"><a href="#一阶段-小结" class="headerlink" title="一阶段 小结"></a>一阶段 小结</h1><p>这是我第二次参加了，秋冬季的时候二阶段适逢期中考试，完成的不是很好，三阶段也没有参加。这次期中考试和一阶段又撞一起了，挑了时间一口气赶进度是相当的折磨。</p>
<p>通过rustlings可以快速对Rust的特性进行了解，但是感觉学习的效果并不是非常的好，题目做过之后就忘的差不多了，归根到底还是一直用cpp而不习惯使用rust，在学习的时候很容易在想”这个东西就相当于cpp里的…”</p>
<p>最后几个算法题挺有意思的，做起来也很头疼- - </p>
<p>一阶段暂且告一段落，虽然笔记做了一大堆，但是实际上大部分是复制文档内容和代码样例，勉勉强强算给自己制造完成了很多工作量的错觉来给自己一点正反馈吧。</p>
<h1 id="二阶段-小结"><a href="#二阶段-小结" class="headerlink" title="二阶段 小结"></a>二阶段 小结</h1><p>写在开头，如果没有<strong>rust-analyzer</strong>，我可能对着这一大堆东西愣半天也写不了几段正确且符合逻辑的代码。  </p>
<p>做PA的时候总是看到强调要多<strong>RTFSC</strong>，这确实是相当的重要。所以刚开始的时候对着指导书，并结合源码，把每一个模块的实现的源码阅读了一遍，虽然并不是自己敲的，而且有的地方也不是很理解为什么要这么写，但是总体上有了大概的了解，不至于那么的无从下手。  </p>
<p>这个学期学校课程安排开设了操作系统课程，相比于秋冬季时没有系统的学习操作系统而直接开始阅读Tutorial来说，这一次重新阅读，结合课本的相关知识，这些概念和代码实现亲切了许多。</p>
<p>简单说说在各个章节中的收获：</p>
<h3 id="多道程序"><a href="#多道程序" class="headerlink" title="多道程序"></a>多道程序</h3><p>本章学习了任务相关的知识，包括任务切换，任务调度，任务控制块TCB数据结构的设计等，相比于课本上生硬地写出TCB需要保存的内容来说，使用代码实现TCB的设计可以有了更加深刻的理解。</p>
<p>实践作业实现了一个新的系统调用 sys_task_info 用以获取当前正在运行的任务的信息。</p>
<h3 id="地址空间"><a href="#地址空间" class="headerlink" title="地址空间"></a>地址空间</h3><p>印象最深的是SV39多级页表。类似于字典树(Trie)，大大节省了占用的内存空间。<br>还有虚拟内存的相关概念，虚拟内存和物理内存的转换。</p>
<p>实践作业实现了 mmap 和 munmap 匿名映射，简化了实现，仅用于申请内存。<br>主要是要RTFSC，在其他的系统调用中查看如何转换地址，如何查页表。  </p>
<h3 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h3><p>进程和线程在学校课程学习中是很重要的一部分，本章介绍了进程的概念和相关系统调用，并进行进程管理和进程调度。</p>
<p>实践作业包括两个：</p>
<ul>
<li>实现spawn<br>  虽然好像 fork+execve!=spawn，但是我的实现就是把fork的代码复制下来，然后和execve的代码进行了一个缝合…</li>
<li>实现stride调度<br>  发现了ci的一个bug，即实际上如果只实现了set_priority这个用于设置优先级的系统调用，并没有去实现调度的话也可以通过ci测试…</li>
</ul>
<h3 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h3><p>印象非常的深刻的是Unix哲学的一切皆文件</p>
<p>本章的内容相当的多，因为文件系统比较复杂，读起来非常的费劲而且读完就容易忘…</p>
<p>只记得bitmap，inode啥的了2333，在PA中实现过read，open，seek等操作，印象也不是很深刻了，当时好像是可以将不同类型的文件用统一的接口来进行读写操作。  </p>
<p>实践作业实现了linkat和unlinkat，关于fstat，在计算inode时遇到了一些困难…</p>
<h3 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h3><p>首先介绍了用户态和内核态的线程管理。<br>线程的并发问题是老生常谈了，用了锁，信号量，条件变量等进行线程同步互斥管理。  </p>
<p>实践作业实现死锁检测，一开始就把这个认为是<strong>银行家算法</strong>，但是潜水看群里大佬们聊天说并不是，只是用了银行家算法的思想，再想了想课本上学习的，好像确实…</p>
<p>比较麻烦，一开始无从下手，因为不知道资源数量，需求资源啥的需要在哪里定义。</p>
<h3 id="小结的小结"><a href="#小结的小结" class="headerlink" title="小结的小结"></a>小结的小结</h3><p>二阶段的编程小练习涵盖了操作系统设计的几个重要方面，我认为二刷甚至多刷也是有价值的-。-</p>
<h1 id="三阶段-小结"><a href="#三阶段-小结" class="headerlink" title="三阶段 小结"></a>三阶段 小结</h1><h2 id="项目3-Rust-for-Linux-amp-跨内核驱动框架"><a href="#项目3-Rust-for-Linux-amp-跨内核驱动框架" class="headerlink" title="项目3 Rust for Linux &amp; 跨内核驱动框架"></a>项目3 Rust for Linux &amp; 跨内核驱动框架</h2><h3 id="练习一-配环境"><a href="#练习一-配环境" class="headerlink" title="练习一  配环境"></a>练习一  配环境</h3><blockquote>
<p><em>工欲善其事，必先利其器。</em></p>
</blockquote>
<p>万事开头难，确实如此。在配环境上折腾了好久，一开始用WSL，但是对于图形界面的支持不够以致QEMU界面始终是黑屏- -…又改用虚拟机，但是性能很差，编译一次要花费好长时间，虽然可以显示画面了，但是到练习二的时候又出现了画面卡死动不了的问题- - …  </p>
<p>有群友使用docker整了一个环境，也整下来试了一下，但是被mac的大小写问题给坑了一下，到最后也没配好</p>
<p>最后得到的最优解是在WSL启动QEMU时使用 vnc 进行连接。</p>
<p>算一下为了配好环境前前后后折腾了好几天，编译了不下十几次- - </p>
<h3 id="练习二-实现Miscdev驱动基本读写"><a href="#练习二-实现Miscdev驱动基本读写" class="headerlink" title="练习二 实现Miscdev驱动基本读写"></a>练习二 实现Miscdev驱动基本读写</h3><p>本学期学校开设的操作系统课程实验也使用了树莓派进行内核编程，其上烧写的是OpenEuler。于是对于内核模块的编写多少有一点亲切感。</p>
<p>完善了open/read/write的内容，使得杂项字符设备可以实现基本读写操作。</p>
<h3 id="练习三-跨内核驱动框架下的树莓派4B-GPIO点灯实现"><a href="#练习三-跨内核驱动框架下的树莓派4B-GPIO点灯实现" class="headerlink" title="练习三 跨内核驱动框架下的树莓派4B GPIO点灯实现"></a>练习三 跨内核驱动框架下的树莓派4B GPIO点灯实现</h3><p>一开始一头雾水，不知道要怎么下手，又遇上期末考试，于是就暂时搁置了。</p>
<p>考试周结束后又重新捡了起来，去课堂看了之前的回放才知道了如何把写的pure driver编译进内核。</p>
<p>在pure driver中要做的事情主要是完成树莓派的所有寄存器的抽象。<strong>(阅读树莓派的手册很重要)</strong></p>
<p>然后在Adapter driver中把寄存器映射到内存地址，通过对于地址的操作，进而控制寄存器，达到GPIO口的电平和输出模式等等的目的。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> mapped_base = <span class="keyword">unsafe</span> &#123; bindings::ioremap(BCM2837_GPIO_BASE, GPIO_SIZE) &#125;;</span><br></pre></td></tr></table></figure>

<p>在Arceos上的操作也类似，pure driver可以直接复用，但是要把osl相关的东西给换掉。在映射地址时多了个物理地址转为虚拟地址的操作。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> gpio_map=RpiGpioPort::new(phys_to_virt((gpio_base <span class="keyword">as</span> <span class="built_in">usize</span>).into()).as_mut_ptr());</span><br></pre></td></tr></table></figure>
<p>文档给的点灯驱动参考非常的详细，照着做基本上就能够正常运行起来。（但是有的地方还是不理解为什么要这么操作）</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>本次训练营的学习内容相当丰富，学到了很多新知识，以及探索了之前没有涉足过的领域。<br>但是由于课业等等压力，一直都算是在闲时才来跟一下训练营的进度，因此各方面感觉自己学的不够扎实，学习深度也有限，仍需要继续沉淀…<br>总结就是要多读源码，多看手册，不要因为嫌麻烦偷懒不看- - 问就是在这方面吃了很多的教训，有的问题想好久想不明白，这里为啥这么写？这个寄存器为啥这么操作？  最后一看手册里写的清清楚楚的…</p>
<blockquote>
<p>我们旅行时不要像个信使一样，而应当像个探险家一样。我们不仅要考虑起点和终点，还得考虑起点和终点之间的距离</p>
</blockquote>
<h3 id><a href="#" class="headerlink" title="~"></a><del>~</del></h3><p><strong>繋がる空の下<br>さあ自分らしく進もう<br>始まりの歌贈るよ<br>歩き出す君へ</strong><br>–献给此刻迈步前行的你</p>
<p>Author:<br>kami<br>Xiamen University</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E8%B0%A2%E5%AE%89%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E8%B0%A2%E5%AE%89%E5%8D%97/" class="post-title-link" itemprop="url">2024春季开源操作系统训练营一阶段总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 19:45:16" itemprop="dateCreated datePublished" datetime="2024-04-27T19:45:16+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-14 09:05:09" itemprop="dateModified" datetime="2025-05-14T09:05:09+00:00">2025-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Rust学习经验"><a href="#Rust学习经验" class="headerlink" title="Rust学习经验"></a>Rust学习经验</h1><p>作为经验分享，我不会写太多，一小篇足以</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Rust作为新时代的语言，其语法特性相对于以前的语言有着较大的差别，而且目前的Rust教程都是非常繁琐且没有梳理出一条很好的路线的，具体表现为既不是阶梯式也不是直接深入讲一个点，前后内容穿插令人无法理解。当然这也与Rust本身语言的特性相关，而并非完全是教程编写者的原因。</p>
<p>学习任何语言的思想都应该是读大量的项目源码，Rust也是如此，不过更应该先掌握Rust语法基础。</p>
<p>以下为Rust学习的部分参考资料：</p>
<p><a href="https://doc.rust-lang.org/book/" target="_blank" rel="noopener">官方学习文档</a></p>
<p><a href="https://course.rs" target="_blank" rel="noopener">Rust圣经(可以看作官方文档的中文替代版)</a></p>
<p><a href="https://github.com/rcore-os/rCore/wiki/os-tutorial-summer-of-code-2020#step-0-%E8%87%AA%E5%AD%A6rust%E7%BC%96%E7%A8%8B%E5%A4%A7%E7%BA%A67%E5%A4%A9" target="_blank" rel="noopener">THU-Rust学习建议</a></p>
<p><a href="https://github.com/rust-lang/rustlings" target="_blank" rel="noopener">Rustlings</a></p>
<h2 id="我的建议"><a href="#我的建议" class="headerlink" title="我的建议"></a>我的建议</h2><p>先通过学习文档练习语法，然后刷Rustlings，学习过程中参考教程代码or别人的代码，通过<a href="https://docs.rs/" target="_blank" rel="noopener">crate doc文档</a>查询相关crate源码</p>
<h2 id="Rust特色分享"><a href="#Rust特色分享" class="headerlink" title="Rust特色分享"></a>Rust特色分享</h2><h3 id="所有权与生命周期"><a href="#所有权与生命周期" class="headerlink" title="所有权与生命周期"></a>所有权与生命周期</h3><p>众所周知，Rust同C++一样是没有GC的，虽然C++在C++11有过GC提案，但是并未有编译器实现（可以当作没有），在C++23移除。C++可以通过RAII控制资源，那么Rust也有智能指针可以实现RAII，但是本文不讨论这个。本篇的主角是<strong>所有权</strong>。</p>
<p>既然我要聊所有权，那么我为什么要标注生命周期这个东西呢，那当然是因为所有权和生命周期息息相关，C++的内存安全问题基本上都是对于所有权和生命周期的错误使用导致的。而由于Rust中的所有权是在编译期进行的，对运行期的性能没有任何影响。</p>
<p>Rust的所有权有三个原则</p>
<blockquote>
<ol>
<li>Rust 中每一个值都被一个变量所拥有，该变量被称为值的所有者</li>
<li>一个值同时只能被一个变量所拥有，或者说一个值只能拥有一个所有者</li>
<li>当所有者(变量)离开作用域范围时，这个值将被丢弃(drop)</li>
</ol>
</blockquote>
<p>下面将通过一段代码说明以上意思</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="built_in">String</span>::from(<span class="string">"Hello Rust"</span>); </span><br><span class="line">    <span class="keyword">let</span> b = a;<span class="comment">//此时所有权转移到b</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, a); <span class="comment">//Wrong !!!</span></span><br><span class="line">    <span class="keyword">let</span> c = b.clone();<span class="comment">//c通过克隆产生，不会拿走b所有权</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">let</span> d = b;<span class="comment">//d获得b的所有权，并在该代码段结束后drop</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>, b); <span class="comment">//Wrong !!!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然这只是浅浅的一点例子，我无法在这说完，可以查看前言中的资料进行深入学习</p>
<p><strong>生命周期</strong></p>
<p>有一个关于很有意思的概念可以被应用于生命周期，我只会在此介绍这个概念。</p>
<p><strong>三种映射</strong>：</p>
<blockquote>
<ol>
<li>协变(covariant) T: R(T&lt;’a&gt;, T&lt;’b&gt;) = R(‘a, ‘b)。</li>
<li>逆变(contravariant) T: R(T&lt;’a&gt;, T&lt;’b&gt;) = ~R(‘a, ‘b)，也就是若 ‘a&lt;’b，则 T&lt;’a&gt; &gt; T&lt;’b&gt;。</li>
<li>不变(invariant) T: R(T&lt;’a&gt;, T&lt;’b&gt;) = “&lt;&gt; 或 =”，也就是无法推导子类型关系</li>
</ol>
</blockquote>
<p>你会发现，看上面的概念是不是看不懂？</p>
<p>看不懂就对了，其实这个对于编程来说并没有什么卵用，只是一个很有意思的东西。</p>
<p>那么我们不从Rust的角度来看协变和逆变的概念。</p>
<blockquote>
<p>A &lt;: B   代表A是B的子类型<br>A -&gt; B   以 A 为参数类型, 以 B 为返回值类型的函数类型<br>x : A   这里x是一个变量, 其类型为A</p>
</blockquote>
<p>其实这里从继承关系来看就很好接受了，我们有三个类型如下：<br>A &lt;: B &lt;: C</p>
<p>这里A变成B、C是协变，B变成C是协变，C变成A、B是逆变，B变成A是逆变。</p>
<p>为什么呢？<br>定义如下：</p>
<p><strong>协变(Covariance)是指子类向基类的转换.</strong><br><strong>逆变(Contravariance)是指基类向子类的转换.</strong></p>
<p>是不是突然明白了</p>
<p>那这和生命周期有啥关系呢？</p>
<p>生命周期是有长短的，在哪开始在哪结束，那是不是就有变长变短，的概念了，协变和逆变的概念是不是就能套进去了？</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> r;                <span class="comment">// ---------+-- 'a</span></span><br><span class="line">                          <span class="comment">//          |</span></span><br><span class="line">    &#123;                     <span class="comment">//          |</span></span><br><span class="line">        <span class="keyword">let</span> x = <span class="number">5</span>;        <span class="comment">// -+-- 'b  |</span></span><br><span class="line">        r = &amp;x;           <span class="comment">//  |       |</span></span><br><span class="line">    &#125;                     <span class="comment">// -+       |</span></span><br><span class="line">                          <span class="comment">//          |</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"r: &#123;&#125;"</span>, r); <span class="comment">//          |</span></span><br><span class="line">&#125;                         <span class="comment">// ---------+</span></span><br></pre></td></tr></table></figure>

<p>从上面可以看出显示看出r的生命周期和x的生命周期，那是不是生命周期变长的就是协变，生命周期变短的就是逆变了。</p>
<p>非常容易理解！</p>
<p>TODO!<br>PS:慢慢写</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/xjpower11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/xjpower11/" class="post-title-link" itemprop="url"><xjpower11></a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 18:48:31" itemprop="dateCreated datePublished" datetime="2024-04-27T18:48:31+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-14 09:05:09" itemprop="dateModified" datetime="2025-05-14T09:05:09+00:00">2025-05-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="2024年春夏季开源操作系统训练营-基础阶段-rust编程"><a href="#2024年春夏季开源操作系统训练营-基础阶段-rust编程" class="headerlink" title="2024年春夏季开源操作系统训练营-基础阶段-rust编程"></a>2024年春夏季开源操作系统训练营-基础阶段-rust编程</h1><h2 id="1-rust编程语言"><a href="#1-rust编程语言" class="headerlink" title="1. rust编程语言"></a>1. rust编程语言</h2><pre><code>在软件开发的广阔天地中，Rust以其独特的内存安全性和高性能特性，赢得了越来越多开发者的青睐。作为一位对Rust感兴趣的新手，我决定踏上这段基础学习的旅程，并在这里分享我的学习心得。</code></pre><h2 id="2-学习之前对rust的了解"><a href="#2-学习之前对rust的了解" class="headerlink" title="2. 学习之前对rust的了解"></a>2. 学习之前对rust的了解</h2><pre><code>Rust是一种系统编程语言，它旨在提供内存安全性，而又不牺牲性能。它的主要特点包括所有权系统、生命周期和借用检查器，这些特性共同确保了程序在运行时不会出现内存泄漏或空指针引用等常见问题。在开始学习Rust之前，我先对其背景和发展历程进行了了解。Rust起源于Mozilla的研究项目，旨在为C++提供一种更安全、更高效的替代品。经过多年的发展，Rust已经成为了一个功能强大且稳定的编程语言，被广泛应用于各种领域，包括操作系统开发、网络编程、嵌入式系统等。</code></pre><h2 id="3-基础语法与数据类型"><a href="#3-基础语法与数据类型" class="headerlink" title="3. 基础语法与数据类型"></a>3. 基础语法与数据类型</h2><pre><code>Rust的语法简洁明了，与C++和Java等主流编程语言有许多相似之处。我开始从学习Rust的基本语法和数据类型入手，如变量声明、条件语句、循环结构等。Rust的数据类型包括整数、浮点数、布尔值、字符和字符串等，这些数据类型的使用与其他语言类似，但也有一些独特之处。例如，Rust中的变量默认是不可变的（immutable），如果需要修改变量的值，必须在声明时使用mut关键字将其标记为可变的（mutable）。这种设计有助于减少程序中的错误，提高代码的可读性和可维护性。</code></pre><h2 id="4-所有权与借用"><a href="#4-所有权与借用" class="headerlink" title="4. 所有权与借用"></a>4. 所有权与借用</h2><pre><code>Rust的所有权系统和借用检查器是其内存安全性的核心所在。在学习过程中，我花了大量时间来理解这两个概念。所有权系统决定了谁负责一块内存区域的生命周期，而借用检查器则确保了在任何给定时间，一个值只能有一个可变引用或任意数量的不可变引用。通过编写一些简单的示例程序，我逐渐掌握了如何正确使用引用和所有权来避免常见的内存错误。这虽然是一个挑战，但当我看到程序能够安全地运行而不会出现内存问题时，我感到非常兴奋和满足。</code></pre><h2 id="5-学习过程难点"><a href="#5-学习过程难点" class="headerlink" title="5. 学习过程难点"></a>5. 学习过程难点</h2><pre><code>rust-rustlings-2024-spring中前面题总体还比较容易进行，特别是后10道题，花费了不少时间，经过不断的分析解决，最终解决了这些试题。通过这些试题对链表等数据操作认识更加深刻。</code></pre><h2 id="6-总结"><a href="#6-总结" class="headerlink" title="6. 总结"></a>6. 总结</h2><pre><code>通过这次Rust基础学习之旅，我对Rust有了更深入的了解和认识。虽然Rust的语法和概念相对复杂一些，但我认为这是值得的，因为它为我们提供了一种更加安全和高效的编程方式。</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%BB%84%E6%96%87%E8%BD%A9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%BB%84%E6%96%87%E8%BD%A9/" class="post-title-link" itemprop="url">2024春夏季开源操作系统训练营第一阶段总结-黄文轩</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 17:42:00" itemprop="dateCreated datePublished" datetime="2024-04-27T17:42:00+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-14 09:05:09" itemprop="dateModified" datetime="2025-05-14T09:05:09+00:00">2025-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024春夏季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="2024开源操作系统训练营第一阶段总结-黄文轩"><a href="#2024开源操作系统训练营第一阶段总结-黄文轩" class="headerlink" title="2024开源操作系统训练营第一阶段总结-黄文轩"></a>2024开源操作系统训练营第一阶段总结-黄文轩</h1><p>本文是对OS训练营第一阶段的总结，重点谈谈在第一阶段学习Rust的过程中，印象比较深刻的一些知识点。</p>
<h2 id="所有权"><a href="#所有权" class="headerlink" title="所有权"></a>所有权</h2><p>所有权是Rust中一个非常重要的特性，查看如下代码：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">"Hello World"</span>);</span><br><span class="line">    <span class="keyword">let</span> s2 = s1;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;s2&#125;"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行<code>let s2=s1</code>语句后，s1就不能再使用了，也就是说s1将资源移动给了s2，原来的变量就不再用原先的值了。Rust明确了所有权的概念，如果一个变量拥有了一个资源的所有权，就要负责那个资源的回收和释放，主要目的是为了安全。</p>
<p>在使用函数时，也同样要注意：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>(s: <span class="built_in">String</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;s&#125;"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">"Hello World"</span>);</span><br><span class="line">    foo(s1); <span class="comment">// 所有权发生移动</span></span><br><span class="line">    foo(s1); <span class="comment">// 出错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在第一次使用foo时，s1字符串的所有权就移动到了参数s上，在该函数回收栈空间时，这个字符串就被回收掉了，因此无法再打印这个字符串。</p>
<p>如下代码就不存在问题，因为foo将所有权转移出来：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>(s: <span class="built_in">String</span>) -&gt; <span class="built_in">String</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;s&#125;"</span>);</span><br><span class="line">    s</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">"Hello World"</span>);</span><br><span class="line">    <span class="keyword">let</span>  s1= foo(s1); </span><br><span class="line">    foo(s1); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是上述代码将所有权转移出来，有时还是麻烦了点，频繁转移所有权会显得很冗余，可以使用引用这个特性。</p>
<p>下述代码使用了引用：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>(s: &amp;<span class="built_in">String</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;s&#125;"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">"Hello World"</span>);</span><br><span class="line">    foo(&amp;s1);</span><br><span class="line">    foo(&amp;s1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Box智能指针"><a href="#Box智能指针" class="headerlink" title="Box智能指针"></a>Box智能指针</h2><p>如果一个变量，存的是另一个变量在内存的地址值，那么就被称为指针。普通指针是对值的借用，而智能指针通常拥有对数据的所有权，可以做一些额外操作，比如管理引用计数和资源自动回收。</p>
<p>标准库中常见的智能指针：</p>
<ul>
<li><code>Box&lt;T&gt;</code>：在堆内存上分配值</li>
<li><code>Rc&lt;T&gt;</code>：启用多重所有权的引用计数类型</li>
<li><code>Ref&lt;T&gt;</code>&amp;<code>RefMut&lt;T&gt;</code>，通过<code>RefCell&lt;T&gt;</code>访问：在运行时而不是编译时强制借用规则的类型</li>
</ul>
<p>本文着重介绍Box，即指向堆内存的智能指针，允许在堆上存储数据而非栈，没有其他性能开销。</p>
<p>常用场景：在编译时，某类型的大小无法确定。但使用该类型时，上下文却要知道它的确切大小。</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="built_in">Box</span>::new(<span class="number">5</span>); <span class="comment">// 存储在堆上</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"b = &#123;&#125;"</span>,b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在变量 <code>b</code> 在离开作用域时，同样会被释放。</p>
<p>同样可以作用于结构体：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span> &#123;</span><br><span class="line">    x: <span class="built_in">u32</span>,</span><br><span class="line">    y: <span class="built_in">u32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>() -&gt; <span class="built_in">Box</span>&lt;Point&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> p = Point &#123;x:<span class="number">10</span>, y:<span class="number">20</span>&#125;;</span><br><span class="line">    <span class="built_in">Box</span>::new(p)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在创建Point结构体时，其尺寸是固定的，所以它的实例会被创建在栈上。而在创建 <code>Box&lt;Point&gt;</code> 实例的时候会发生所有权转移：资源从栈上移动到了堆，原来栈的那片资源被置为无效。</p>
<p>可以对Box进行解引用，由于u8具有copy语义，所以解引用后，原来的boxed还能使用</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> boxed:  <span class="built_in">Box</span>&lt;<span class="built_in">u8</span>&gt; = <span class="built_in">Box</span>::new(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">let</span> val: <span class="built_in">u8</span> = *boxed;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>,val);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>,boxed);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是对于move语义的类型来说，就不适用了<br>Box同样可以作为函数参数:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span> &#123;</span><br><span class="line">    x: <span class="built_in">u32</span>,</span><br><span class="line">    y: <span class="built_in">u32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">foo</span></span>(p: <span class="built_in">Box</span>&lt;Point&gt;) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;:?&#125;"</span>,p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> b: <span class="built_in">Box</span>&lt;Point&gt; = <span class="built_in">Box</span>::new(Point&#123;x:<span class="number">10</span>, y:<span class="number">20</span>&#125;);</span><br><span class="line"></span><br><span class="line">    foo(b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%82%93%E5%AD%90%E7%84%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%82%93%E5%AD%90%E7%84%95/" class="post-title-link" itemprop="url">2024春季开源操作系统训练营第一阶段总结-邓子焕</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 14:48:00" itemprop="dateCreated datePublished" datetime="2024-04-27T14:48:00+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-14 09:05:09" itemprop="dateModified" datetime="2025-05-14T09:05:09+00:00">2025-05-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>对于Rust和OS，其实之前也只了解过Rust但是并未深入学习和研究，恰好开源操作系统训练营的开班，然后就积极报名参加，进入了交流群。同时，rust语言博大精深且与之前学习的语言也存在差异，作为从业者而言，每天并没有太多的时间去专注于该训练营开展的活动，但是每天都会尽可能的抽出相应的时间进行学习Rust和OS，为了去挖掘更多其未知的知识，丰富自我，达到更高一个层次。</p>
<h1 id="学习总结感悟"><a href="#学习总结感悟" class="headerlink" title="学习总结感悟"></a>学习总结感悟</h1><p>总体来说在第一阶段这个学习过程还是挺顺利的，因为在报名之后，我已经着手学习Rust的相关知识，且网络平台上存在许多大量的资源供学习参考。整个大约一个月学习过程中，曾经碰到过许多的问题，在网上阅读过很多的文章寻找相关答案，也和有在加入的微信群交流探讨，总体感觉Rust还是一个正在发展中的语言，从开始接触到深入探究，就能发现Rust是一门年轻的且充满潜力的编程语言并且Rust语言同时也兼顾了安全性和高性能，因而它是一门非常出色的系统编程语言，能够编写操作系统、数据库、区块链应用等对安全、性能都要求极为严苛的系统级软件。<br>Rust语言同时是一门优秀的生产力语言，出色的文档、完善且高效的工具链（cargo,rustup），能够快速进行各个层次（小的嵌入式、大到操作系统，从底层系统开发到网络应用开发，均能胜任）的应用的开发。而且Rust社区也在快速发展，不断地创新，不断地摸索，学习者可以在社区中交流探讨中摩擦出了灿烂的火花。</p>
<h2 id="Rust学习"><a href="#Rust学习" class="headerlink" title="Rust学习"></a>Rust学习</h2><h3 id="学习历程"><a href="#学习历程" class="headerlink" title="学习历程"></a>学习历程</h3><p>学习最开始查找的资料就是Rust语言社区，一般来说一门语言、框架或者库出现后，人们应用它们，不只是因为自身的强大，更是因为其背后的生态圈。这里有相应的且完整的代码、丰富的配套资源以及官方的指导文档，大家互相促进，在一个良好的氛围中交流学习Rust是种非常nice的感觉。</p>
<ul>
<li>语法：相对而言，Rust的语法是挺特别的。因为有生存周期和借用检查这类独有的概念，所以语法上看上去是比较复杂。但是作为一种现代编程语言，大量使用了泛型，但是也带来代码可读性较差的问题。这个问题也很让人感到苦恼的，需要有耐心且保持积极心态去学习、去摸索。</li>
<li>特性：内存安全性、并发性强、高性能、易用性、跨平台性和社区活跃</li>
<li>exercise：边学边练才能达到更好的效果，前大半的练习题都差不多是基础，很容易做，我大概花了一天的时间做完了前100道题，还剩下最后十道的算法题，这还是有点难度在的，其实最终还是得靠牢牢掌握Rust的语法、数据结构以及代码逻辑分析等，还是能很快的解决掉最后的十道题。在这个过程中，Rust难上手很关键的一点就是其严格的编译器，编译器会做尽可能多的检查，而且也十分详细地发现问题，这样可以提早消除安全隐患。所以编译器像一个好老师，及早扼杀你的bug，强制性要求你写出可以正常运行的正确代码</li>
<li>note：学习过程中没有笔记是不完美的，所以整理了学习笔记, 记录日常学习的过程以及学习的内容，对于理解不清晰的模块和问题会仔细梳理代码逻辑，这是锻炼思维能力的一种方法，同时这对我来说可以将几节甚至是几章的内容进行串联起来，可以建立起更牢固的知识框架。<h3 id="学习氛围"><a href="#学习氛围" class="headerlink" title="学习氛围"></a>学习氛围</h3></li>
<li>微信群里积极交流，提出问题，解决问题</li>
<li>老师督促，学生活跃</li>
<li>技术性的学术氛围浓厚</li>
<li>目标一致<h3 id="学习成果"><a href="#学习成果" class="headerlink" title="学习成果"></a>学习成果</h3>在第一阶段的学习中，掌握了rust基础，学习到操作系统相关的概念以及原理<h1 id="展望"><a href="#展望" class="headerlink" title="展望"></a>展望</h1>Rust 是一门全新的语言，它会带给我们前所未有的体验，同时也能提升通用编程水平，甚至于赋予我们全新的编程思想。希望能够在第二阶段上继续保持，再接再厉<h1 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h1>在老师的悉心指导下和交流群互帮互助下，从最开始的 Hello World 起步，到深入系统地学习了操作系统的基本概念、原理。这使我对Rust和OS 有了更加全面和深入的理解。最后，衷心感谢清华大学的老师们为我们提供了这次难得的学习机会，还有两位教学的讲师，对我们授课讲学。<br>这次学习经历对我们来说，无疑是非常宝贵的财富，在以后走的更长远。<h1 id="分享连接"><a href="#分享连接" class="headerlink" title="分享连接~"></a>分享连接~</h1>《Rust语言圣经》：<a href="https://course.rs/about-book.html" target="_blank" rel="noopener">https://course.rs/about-book.html</a><br>《Rust程序设计语言》：<a href="https://rustwiki.org/zh-CN/book/" target="_blank" rel="noopener">https://rustwiki.org/zh-CN/book/</a><br>《Rust指南》：<a href="https://tourofrust.com/" target="_blank" rel="noopener">https://tourofrust.com/</a><br>《深入浅出rust》：<a href="https://zhuanlan.zhihu.com/rust-lang" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/rust-lang</a><br><a href="https://link.zhihu.com/?target=https%3A//www.gitbook.com/book/rustcc/rustprimer/details">https://link.zhihu.com/?target=https%3A//www.gitbook.com/book/rustcc/rustprimer/details</a><br>Rust 语言中文社区：<a href="https://rustcc.cn/" target="_blank" rel="noopener">https://rustcc.cn/</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E8%B0%AD%E6%99%BA%E8%B6%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-%E8%B0%AD%E6%99%BA%E8%B6%85/" class="post-title-link" itemprop="url">2024春季开源操作系统训练营第一阶段总结报告-谭智超</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 13:51:46" itemprop="dateCreated datePublished" datetime="2024-04-27T13:51:46+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-14 09:05:09" itemprop="dateModified" datetime="2025-05-14T09:05:09+00:00">2025-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024春夏季开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="训练营第一阶段总结"><a href="#训练营第一阶段总结" class="headerlink" title="训练营第一阶段总结"></a>训练营第一阶段总结</h1><h2 id="1-参加训练背景"><a href="#1-参加训练背景" class="headerlink" title="1. 参加训练背景"></a>1. 参加训练背景</h2><p>​    其实去年秋就已经知道了这件事情，不过当时是大二，觉得太难了些，当时就是图一个乐子，报了一个名，甚至连 <code>github</code>的仓库都没有打开过，去年可以说是完全没有用心的。没有那个时间和心力去坚持下去。</p>
<p>​    今年能够重新来过，要走出舒适区，我觉得对于我来说是一个挑战，我本身并没有学过 <code>C++</code>，对于<code>C++</code>的一些浅显的了解仅限于用它打过算法，看过一点点 <code>C++</code> 的书，甚至 <code>Python</code> 都没有学过，基本上看 <code>Rust</code> 一开始是让我感觉不适应的，这100道题目前80道算是自己摸索模索，大家讨论勉强能够写出，后面的线程，不安全的块<code>unsafe</code>，智能指针，闭包等，其实都是云里雾里，只能说是似是而非，感觉十分不扎实。</p>
<p>​    不过令人庆幸的是，能够找到志同道合的队友，虽然我在我们的小队中一般是进度最慢的，另外两个队员给了我很多帮助，我有很多的疑问不解他们都会与我讨论，每天都有讨论的乐趣与激情，每晚10点30分就是到了今日学习总结分享的小队时间，这个时候大家的思想融汇贯通，是最能让人收获乐趣的。</p>
<p>​    进度还是慢了很多，差不多一周半慢慢悠悠的混过去了第一阶段，遗憾是思维导图没有时间去做了，预计要拿出时间进行复盘。</p>
<p>​    特此鸣谢两位志同道合的队友(<code>theOnlyUnique</code> 和 <code>ccaikano</code>)，有人共行是一大乐事</p>
<h2 id="2-参考书籍"><a href="#2-参考书籍" class="headerlink" title="2. 参考书籍"></a>2. 参考书籍</h2><p>​    在学习 <code>Rust</code> 语言基础中，<a href="https://rustwiki.org/zh-CN/book/title-page.html" target="_blank" rel="noopener">Rust 程序设计语言 - Rust 程序设计语言 中文版 (rustwiki.org)</a>对我影响巨大，这本书力图教会我们从程序设计的思想上进行思考，考虑这段代码可能会出现的问题，以及他人看这段代码可能会出现的情况，在认真阅读过这本书之后，实在是令人受益匪浅。</p>
<h2 id="3-编译器报错"><a href="#3-编译器报错" class="headerlink" title="3. 编译器报错"></a>3. 编译器报错</h2><p>​    编译器报错是成功之母！！ 我写 <code>C++</code> 都没有这么多报错！！ <code>Rust</code> 编译器的报错真是让人想要吐槽，动不动就报错，不过令人欣慰的是，编译器的错误提示很精准，这令人感官十分良好，唯一麻烦的就是要逼着我去阅读编译器报错信息，这是程序员的基本功，但是还是很讨厌！</p>
<p>​    在面对<code>Rust</code> 中的频繁报错时，尽量学会和编译器做朋友，他能够帮助你很多很多。</p>
<h2 id="4-资源分享"><a href="#4-资源分享" class="headerlink" title="4. 资源分享"></a>4. 资源分享</h2><blockquote>
<p><code>Tips:</code> 嘿嘿嘿，就厚颜无耻的 <code>借用一下</code> 我队员的资源分享吧，你们偷偷看，把这个当成我的资源分享也是可以的 ！！</p>
</blockquote>
<p>1<a href="https://rustwiki.org/zh-CN/book/title-page.html" target="_blank" rel="noopener">Rust 程序设计语言 - Rust 程序设计语言 中文版 (rustwiki.org)</a></p>
<p>2<a href="https://rustwiki.org/zh-CN/std/index.html" target="_blank" rel="noopener">std - Rust (rustwiki.org)</a></p>
<p>3<a href="https://rustwiki.org/docs/" target="_blank" rel="noopener">Rust 中文文档 | Rust 文档网 (rustwiki.org)</a></p>
<p>4<a href="https://course.rs/about-book.html" target="_blank" rel="noopener">关于本书 - Rust语言圣经(Rust Course)</a></p>
<p>5<a href="https://rust-book.junmajinlong.com/ch1/00.html" target="_blank" rel="noopener">Rust入门第一课 - Rust入门秘籍 (junmajinlong.com)</a></p>
<p>6<a href="https://rustmagazine.github.io/rust_magazine_2021/index.html" target="_blank" rel="noopener">介绍 - Rust精选 (rustmagazine.github.io)</a></p>
<p>7<a href="https://rustwiki.org/zh-CN/rust-by-example/index.html" target="_blank" rel="noopener">简介 - 通过例子学 Rust 中文版 (rustwiki.org)</a></p>
<p>来源 : 2024春季开源操作系统训练营刘启东一阶段总结</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-CreatorHell/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-CreatorHell/" class="post-title-link" itemprop="url">2024开源操作系统训练营第一阶段总结-CreatorHell</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 13:31:47" itemprop="dateCreated datePublished" datetime="2024-04-27T13:31:47+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-14 09:05:09" itemprop="dateModified" datetime="2025-05-14T09:05:09+00:00">2025-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="CreatorHell-LearningOS-第一阶段总结"><a href="#CreatorHell-LearningOS-第一阶段总结" class="headerlink" title="CreatorHell LearningOS 第一阶段总结"></a>CreatorHell LearningOS 第一阶段总结</h1><h2 id="智能指针"><a href="#智能指针" class="headerlink" title="智能指针"></a>智能指针</h2><ul>
<li>Box：这是一种在堆上分配内存并管理所有权的智能指针。它允许你在堆上创建数据，并且当你不再需要这些数据时，Box会自动释放它们所占用的内存。</li>
<li>Rc：这是一种用于引用计数类型的智能指针，它允许多个所有者同时拥有同一个数据。当最后一个所有者离开作用域时，Rc会自动减少引用计数，并在计数达到零时释放内存。</li>
<li>Arc：与Rc类似，Arc也是引用计数类型，但它是线程安全的，可以在多线程环境中使用。</li>
<li>Cow&lt;’a, T&gt;：这是一种写时克隆（Clone-on-Write）的智能指针，类似于虚拟内存管理的写时复制。它包含一个只读借用，如果调用方需要所有权做修改操作，它会克隆借用的数据。<h2 id="所有权"><a href="#所有权" class="headerlink" title="所有权"></a>所有权</h2></li>
<li>所有权概念：在Rust中，每个值都有一个被称为其所有者（owner）的变量，且每个值有且只有一个所有者。这意味着当一个变量被创建时，它就被分配给了一个特定的所有者。</li>
<li>作用域关联：值的生命周期与其所有者的作用域相关联。当所有者变量离开其作用域时，值将被清理，从而防止内存泄漏。</li>
<li>移动语义：当值从一个作用域移动到另一个作用域时，原作用域将失去对该值的所有权。这个过程称为移动（move），它是Rust内存管理的关键部分，有助于减少不必要的数据复制。</li>
<li>借用机制：虽然Rust的所有权原则保证了内存安全，但它也引入了借用机制来允许多个引用同时访问数据。借用分为可变借用和不可变借用，它们通过借用检查器来确保数据的并发安全。</li>
<li>克隆与复制：对于实现了Clone trait的类型，可以通过调用clone方法来创建数据的副本。而对于实现了Copy trait的类型，数据会在赋值或作为参数传递时自动复制，这适用于那些可以安全地复制数据的情况。<h2 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h2></li>
<li>线程创建：在 Rust 中，可以使用标准库中的 std::thread 模块来创建新的线程。通过 spawn 函数可以启动一个线程，该函数接受一个闭包（匿名函数），这个闭包将在新线程中运行。</li>
<li>线程控制：创建的线程可以通过 join 方法等待其执行完毕。如果主线程结束而子线程还在运行，Rust 会触发 panic 以防止资源泄露。因此，通常需要调用 join 或 detach 来避免这种情况。</li>
<li>线程安全：Rust 的所有权和借用机制有助于保证多线程环境下的内存安全。当需要在多个线程间共享数据时，可以使用 Arc, Mutex, RwLock 等智能指针来确保同一时间只有一个线程能够访问或修改数据。</li>
<li>消息传递：对于需要线程间通信的场景，Rust 提供了消息传递机制，如 mpmc（Multiple Producer, Multiple Consumer）队列，允许多个生产者和消费者线程安全地交换信息。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%82%93%E7%BE%A4%E8%8A%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-%E9%82%93%E7%BE%A4%E8%8A%B3/" class="post-title-link" itemprop="url">2024春季开源操作系统训练营第一阶段总结-邓群芳</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 13:18:48" itemprop="dateCreated datePublished" datetime="2024-04-27T13:18:48+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-14 09:05:09" itemprop="dateModified" datetime="2025-05-14T09:05:09+00:00">2025-05-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>由于对操作系统的相当的感兴趣，很巧的是当时在网上不经意间看到了这个开源操作系统训练营的相关信息，就赶紧报名参加了，同时这也是我第一次参加这样的开源课程，也是我第一次很深入的来学习操作系统的相关知识 ，对Rust也不是很了解，在报名之后就开始查找相关的资料学习了点Rust，去学习一个不熟悉的语言和框架，其实对我而言是非常有挑战性的一次学习旅程。</p>
<h1 id="第一阶段学习总结"><a href="#第一阶段学习总结" class="headerlink" title="第一阶段学习总结"></a>第一阶段学习总结</h1><p>总体来说在第一阶段这个学习过程还是有点痛苦的，因为学习Rust的过程中我需要查阅许多相关的资料去了解相关知识点，同时，在学习的过程也会出现许多前所未有的问题，这就需要找方法解决，开始了一种循环模式。不过慢慢的能掌握，同时做练习也更能帮助我理解，总体还是较为顺利的！</p>
<h1 id="Rust的学习"><a href="#Rust的学习" class="headerlink" title="Rust的学习"></a>Rust的学习</h1><h2 id="学习历程"><a href="#学习历程" class="headerlink" title="学习历程"></a>学习历程</h2><p>rust语言学习起来还是挺困难的，难度比较高，我是通过《Rust语言圣经》这本书边学边看，还同时参考了《Rust程序设计语言》、Rust 语言备忘单等，遇到不会的看书再者看网上的教学边看边学，Rust虽然难度高但是从性能上和从安全性上都是非常不错的，优势也很突出！就比如rust最具特色的就是他的内存所有权机制。一块内存只能有一个所有者。当遇到和函数的参数传递的时候，所有权便会转移。rust中没有Null这个关键字，有的只是Option枚举类型。这就是其他语言所不具备的特性。<br>其实这个阶段主要还是作业练习这一块占有很大的比重，刚开始都是较为简单的语法题目，很好上手，越到后面的难度就逐渐往上升，特别是test和algorithm这一块，需要好好掌握rust的基础语法和rust实现数据结构算法等相关知识，将其灵活巧妙的运用起来。<br>在学习过程中整理了学习笔记, 对于理解不清晰的模块和问题会仔细梳理代码逻辑直到过程清晰，这对我来说是个非常好的掌握方法，可以将一些几节甚至是几章的内容进行串联起来，对前面的内容进行快速的梳理。</p>
<h2 id="学习氛围"><a href="#学习氛围" class="headerlink" title="学习氛围"></a>学习氛围</h2><p>交流群内大家互帮互助，起到了很好的交流作用<br>方向一致，共同进步<br>技术技巧性的学术氛围浓厚<br>师生交流，积极沟通</p>
<h2 id="学习成果"><a href="#学习成果" class="headerlink" title="学习成果"></a>学习成果</h2><p>在第一阶段的学习中，我掌握了rust基础，逐渐学习操作系统相关的知识。通过和群友的交流分析，我也展开了对更多其它知识点的思考，在进一步讲在学习更多Rust关于智能指针和并行方面内容后，关于Rust的安全性保障和性能保障这两方面的疑惑又加深了。Rust在尽可能为安全保驾护航，它也做得非常好，但确实有时为了保障安全需要牺牲性能，这也许是不可避免地，Rust在尽可能做到最好。</p>
<h1 id="展望"><a href="#展望" class="headerlink" title="展望"></a>展望</h1><p>Rust 是一门全新的语言，它会带给我们前所未有的体验，同时也能提升通用编程水平，甚至于赋予我们全新的编程思想。我希望能够坚持完成第二阶段的学习，完善Rust的知识体系，深入了解操作系统带来的魅力。</p>
<h1 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h1><p>首先十分感谢陈渝，向勇老师提供的这次参与夏令营的机会，其次是非常感谢给我们第一阶段讲课的两位讲师，认真负责并且提供帮助，我也成功的完成了第一阶段的学习。</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>《Rust语言圣经》：<a href="https://course.rs/about-book.html" target="_blank" rel="noopener">https://course.rs/about-book.html</a><br>《Rust程序设计语言》：<a href="https://rustwiki.org/zh-CN/book/" target="_blank" rel="noopener">https://rustwiki.org/zh-CN/book/</a><br>《Rust指南》：<a href="https://tourofrust.com/" target="_blank" rel="noopener">https://tourofrust.com/</a><br>Rust 语言备忘单：<a href="https://cheats.rs/" target="_blank" rel="noopener">https://cheats.rs/</a><br>Rust教程：<a href="https://www.youtube.com/" target="_blank" rel="noopener">https://www.youtube.com/</a><br>Rust 语言中文社区：<a href="https://rustcc.cn/" target="_blank" rel="noopener">https://rustcc.cn/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-Qiuzj/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%A4%8F%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93-Qiuzj/" class="post-title-link" itemprop="url">2024春夏季开源操作系统训练营一阶段总结-Qiuzj</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 12:48:40" itemprop="dateCreated datePublished" datetime="2024-04-27T12:48:40+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-14 09:05:09" itemprop="dateModified" datetime="2025-05-14T09:05:09+00:00">2025-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/2024%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/" itemprop="url" rel="index"><span itemprop="name">2024开源操作系统训练营</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="2024开源操作系统训练营-第一阶段总结"><a href="#2024开源操作系统训练营-第一阶段总结" class="headerlink" title="2024开源操作系统训练营    第一阶段总结"></a>2024开源操作系统训练营    第一阶段总结</h1><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>今年三月初的时候被推荐了这个训练营，当时只抱着功利的目的想着参加这个训练营提升一下自己的能力，也丰富一下自己的履历，但是在学习的过程中逐渐发现了rust语言和操作系统的魅力，不知不觉也坚持做完了第一阶段</p>
<p>对于刚参加训练营的我来说，无论是Rust，Risv-v，还是OS，彼时都是一个较为陌生的概念，虽然本科是计科但是自己掌握的知识其实很有限，而且OS是这学期才开的课所以也没什么基础，每天看着群里大佬们的聊天都感觉自己大学是不是白学了，也是在那个时候下定决心要认认真真的学习</p>
<p>emm…不管怎么样，在复习考研，准备公司面试，进实验室打工的种种压力之下，我还是糊里糊涂地开始了自己的学习历程，并且有幸能够坚持下来</p>
<h2 id="学习内容"><a href="#学习内容" class="headerlink" title="学习内容"></a>学习内容</h2><p>主要参考的学习资料：<a href="https://course.rs/about-book.html" target="_blank" rel="noopener">关于本书 - Rust语言圣经(Rust Course)</a> 以及 网上各路大佬的博客</p>
<p>印象比较深刻的内容：</p>
<p>Rust的对象所有权机制，生命周期，Option和trait等概念的引入，宏编程，unsafe机制，智能指针，多线程</p>
<p>尤其是智能指针的概念，让我对对象内存分配机制，以及Rust的安全机制和Java中的GC机制有了更深的理解</p>
<p>Rustlings前面的100道题总体来说比较简单，根据参考资料和编译器的错误提示基本都能解决出来，有几个题目有点小疑问的通过大佬们写的博客也能够顺利解决</p>
<p>最后10道题目应该是难度比较大，在这个地方卡了一段时间，不过后面看了一些资料之后也尝试着自己做了出来，只不过用了不少unsafe😔，以后有时间的话希望能把rust的知识再深入巩固一下，看看这部分的题目有没有更好的做法</p>
<p>最后，在一阶段到二阶段这个期间，希望自己能够根据大佬们的提示赶快把指令集架构和rCore的基本知识先看一下吧</p>
<h2 id="学习心得-后续"><a href="#学习心得-后续" class="headerlink" title="学习心得 后续"></a>学习心得 后续</h2><p>虽然做完了rustlings的110道题目，但是我深知我自己对rust的理解只能说是迈出了第一步，如果离开了chatGPT的帮助和网上大佬写的博客我可能rustlings还要做好久吧😔</p>
<p>以及后续趁着自己有时间赶快把OS和Risv-v的知识再巩固一下</p>
<p>希望自己能把第二阶段rCore的内容跟下来吧</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://rcore-os.github.io/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-vpgle/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="rcore-os Group">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="rcore-os Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2024/04/27/2024%E6%98%A5%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A-vpgle/" class="post-title-link" itemprop="url">2024春季开源操作系统训练营第一阶段总结报告-vpgle</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-27 12:24:19" itemprop="dateCreated datePublished" datetime="2024-04-27T12:24:19+00:00">2024-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-14 09:05:09" itemprop="dateModified" datetime="2025-05-14T09:05:09+00:00">2025-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/report/" itemprop="url" rel="index"><span itemprop="name">report</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="2024-04-27"><a href="#2024-04-27" class="headerlink" title="2024-04-27"></a>2024-04-27</h1><p>在RUST中文社区看到这个活动，从组队到因停电用手机参加开营仪式，到每周一三五参加线上课程学习。</p>
<p>因之前用写过rust程序，有一定基础，但写rustlings还是有一定难度，对泛型、生命周期以及智能指针<br>还有许多知识要加强</p>
<h2 id="rust相关的问题"><a href="#rust相关的问题" class="headerlink" title="rust相关的问题"></a>rust相关的问题</h2><p>rust标准库中重名方法太多，要熟悉常用的数据类型的方法</p>
<h2 id="实现堆栈"><a href="#实现堆栈" class="headerlink" title="实现堆栈"></a>实现堆栈</h2><p>以前没实现过堆栈，对此没有概念，加上用rust写堆栈繁琐，这方面要多补充</p>
<h2 id="完成第一阶段期间用到的一些链接"><a href="#完成第一阶段期间用到的一些链接" class="headerlink" title="完成第一阶段期间用到的一些链接"></a>完成第一阶段期间用到的一些链接</h2><h3 id="API文档"><a href="#API文档" class="headerlink" title="API文档"></a>API文档</h3><ul>
<li><a href="https://doc.rust-lang.org/std/primitive.reference.html" target="_blank" rel="noopener">Ref</a></li>
<li><a href="https://doc.rust-lang.org/std/convert/trait.AsRef.html" target="_blank" rel="noopener">AsRef</a></li>
<li><a href="https://doc.rust-lang.org/std/convert/trait.AsMut.html" target="_blank" rel="noopener">AsMut</a></li>
<li><a href="https://doc.rust-lang.org/std/primitive.pointer.html" target="_blank" rel="noopener">pointer</a></li>
<li><a href="https://doc.rust-lang.org/std/boxed/struct.Box.html" target="_blank" rel="noopener">Box</a></li>
<li><a href="https://doc.rust-lang.org/std/ptr/struct.NonNull.html" target="_blank" rel="noopener">NonNull</a></li>
<li><a href="https://doc.rust-lang.org/std/rc/struct.Rc.html" target="_blank" rel="noopener">Rc</a></li>
<li><a href="https://doc.rust-lang.org/std/sync/struct.Arc.html" target="_blank" rel="noopener">Arc</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/32/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/32/">32</a><span class="page-number current">33</span><a class="page-number" href="/blog/page/34/">34</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/62/">62</a><a class="extend next" rel="next" href="/blog/page/34/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">rcore-os Group</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/muse.js"></script>


<script src="/blog/js/next-boot.js"></script>


  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
